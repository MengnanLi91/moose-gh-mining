{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0wNi0yNFQwODowNzo1My0wNTowMM4AaJ7E"
    },
    "edges": [
      {
        "node": {
          "title": "fatal error: ADSingleVariableReturnMappingSolution.h: No such file or directory",
          "author": {
            "login": "zxj19910214"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nIssue or question about MOOSE\nDear mooseusers,\nwhen I try to compile files from others, it shows this error.\ncould you guide me to fix this?\nBest regards,\nXIao\nDiagnostics for MOOSE installation issues\n[Optional] Output of the diagnostics scripts. To run the script: cd ~/projects/moose/scripts; ./diagnostics.sh",
          "url": "https://github.com/idaholab/moose/discussions/27986",
          "updatedAt": "2024-06-26T13:40:09Z",
          "publishedAt": "2024-06-25T19:40:39Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCan you please paste the full compilation log?\nIs thris your app or MOOSE or a module?",
                  "url": "https://github.com/idaholab/moose/discussions/27986#discussioncomment-9875341",
                  "updatedAt": "2024-06-25T19:43:56Z",
                  "publishedAt": "2024-06-25T19:43:56Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "zxj19910214"
                          },
                          "bodyText": "Dear,\nThank you for helping me with this.  I found it is because the module tensor mechanics is not included when I compile the app.\nHave a good day!\nXiao",
                          "url": "https://github.com/idaholab/moose/discussions/27986#discussioncomment-9880081",
                          "updatedAt": "2024-06-26T13:40:05Z",
                          "publishedAt": "2024-06-26T08:36:24Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Hill elasto-plasticity x PFF",
          "author": {
            "login": "nourshabib"
          },
          "bodyText": "Hello, I want to add damage to the hill plasticity (HillElastoPlasticityStressUpdate) through the PF nonconserved action. From what I understand I need to define the new degraded stress and its derivatives and the free energy and its derivatives (dstress_dc, F, dFdc, d2Fdc2,  d2Fdcdstrain).  I am getting errors when declaring the derivatives in the constructor  ex:\nerror: 'declarePropertyDerivative' was not declared in this scope; did you mean 'declarePropertyByName'?\n   32 |     _dstress_dc(declarePropertyDerivative<RankTwoTensor>(_base_name + \"stress\", coupledName(\"c\", 0))),\n      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~\n      |                 declarePropertyByName\n\nthough I did include the DerivativeMaterialInterface class. I also don't see in which of the inherited class is the elastic strain called: I see that HillElastoPlas. inherits from the RadialReturnStressUpdate (https://mooseframework.inl.gov/source/materials/RadialReturnStressUpdate.html) which should have _elastic_strain_old[_qp] but it's also not declared with the error showing as : error: '_elastic_strain_old' was not declared in this scope;.",
          "url": "https://github.com/idaholab/moose/discussions/27746",
          "updatedAt": "2024-06-26T08:24:59Z",
          "publishedAt": "2024-05-30T14:25:45Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "You may have to use the using syntax to see the  _elastic_strain_old attribute from the parent class\n\nthough I did include the DerivativeMaterialInterface class\n\nwhat does the class definition look like?",
                  "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9624571",
                  "updatedAt": "2024-05-31T23:22:00Z",
                  "publishedAt": "2024-05-31T23:21:59Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "I figured it out, thanks ! Now my question is regarding how the HillElastoPlasticityStressUpdate and the ComputeMultipleInelasticStress are correlated. I see from the diagram in https://mooseframework.inl.gov/source/materials/ComputeMultipleInelasticStress.html that the trial irreversible stress is computed in HillElastoPlasticityStressUpdate, so this is the stress_new in HillElastoPlasticityStressUpdate ? and the final stress is the stress in ComputeFiniteStrainElasticStress ?",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9725710",
                          "updatedAt": "2024-06-10T10:16:29Z",
                          "publishedAt": "2024-06-10T10:16:28Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nourshabib"
                  },
                  "bodyText": "Can we use both the HillElastoPlasticityStressUpdate and ComputeCrackedStress together? I keep getting error messages, is it due to a wrong input file or are we not supposed to use them together? Thanks!",
                  "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9726893",
                  "updatedAt": "2024-06-10T12:33:22Z",
                  "publishedAt": "2024-06-10T12:33:22Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "The following error occurred in the object \"MOOSE Problem\", of type \"FEProblem\".\n\nMaterial property 'rotation_increment', requested by 'hill_tensor' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_face' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_neighbor' is not defined on block 0\n\nFor the input file as :\n  [gen]\n    type = GeneratedMeshGenerator\n    dim = 3\n  []\n  [./BL]\n    type = BoundingBoxNodeSetGenerator\n    new_boundary = BL\n    input = gen\n    top_right = '1 0 0'\n    bottom_left = '0 0 0'\n  [../]\n  [./BR]\n    type = BoundingBoxNodeSetGenerator\n    new_boundary = BR\n    input = BL\n    top_right = '1 0 1'\n    bottom_left = '1 0 0'\n  [../]\n[]\n\n\n[GlobalParams]\n  displacements = 'disp_x disp_y disp_z'\n[]\n\n[Variables]\n  [./disp_x]\n  [../]\n  [./disp_y]\n  [../]\n  [./disp_z]\n  [../]\n[]\n\n[AuxVariables]\n  [./resid_x]\n  [../]\n  [./resid_y]\n  [../]\n  [./resid_z]\n  [../]\n[]\n\n[Modules]\n[./TensorMechanics]\n    [./Master]\n      [./All]\n        add_variables = true\n        strain = FINITE\n        save_in = 'resid_x resid_y resid_z'\n       strain_base_name = uncracked\n        incremental = true\n      [../]\n    [../]\n[../]\n  [./PhaseField]\n    [./Nonconserved]\n      [./c]\n        free_energy = E_el\n        mobility = L\n        kappa = kappa_op\n      [../]\n    [../]\n  [../]\n[]  \n\n[Variables]\n  [./c]\n  [../]\n[]\n\n[AuxVariables]\n  [./bounds_dummy]\n  [../]\n[]\n\n[BCs]\n  [./bottomy]\n    type = DirichletBC\n    variable = disp_y\n    boundary =bottom\n    value = 0.0\n  [../]\n  [./topy]\n    type = FunctionDirichletBC\n    variable = disp_y\n    boundary = top\n    function ='t'\n  [../]\n  [./xfix]\n    type = DirichletBC\n    variable = disp_x\n    boundary = 'BR'\n    value = 0\n  [../]\n    [./zfix]\n    type = DirichletBC\n    variable = disp_z\n    boundary = 'BL'\n    value = 0\n  [../]\n[]\n\n[Materials]\n   [./cracked_stress]\n    type = ComputeCrackedStress\n    c = c\n    kdamage = 1e-6\n    F_name = E_el\n    use_current_history_variable = true\n    finite_strain_model = true\n    uncracked_base_name = uncracked\n  [../]\n  [elastic_strain]\n    type = ComputeMultipleInelasticStress\n    inelastic_models = \"trial_plasticity\"\n    base_name = uncracked\n  []\n  [hill_tensor]\n    type = HillConstants\n    # F G H L M N\n    hill_constants = \"0.01651077 0.04598923 0.06512188 0.01388889 0.01652893 0.02\"\n    base_name = uncracked\n  []\n  [trial_plasticity]\n    type = HillPlasticityStressUpdate\n    hardening_constant = 10\n    yield_stress = 50\n    base_name = uncracked\n  []\n  [./pfbulkmat]\n    type = GenericConstantMaterial\n    prop_names = 'gc_prop l visco'\n    prop_values = '1e-3 0.05 5e-3'\n  [../]\n  [./elasticity_tensor]\n    type = ComputeElasticityTensor\n    C_ijkl = '120.0 80.0'\n    fill_method = symmetric_isotropic\n    base_name = uncracked\n  [../]\n[]\n\n[Kernels]\n  [./solid_x]\n    type = PhaseFieldFractureMechanicsOffDiag\n    variable = disp_x\n    component = 0\n    c = c\n    use_displaced_mesh = true\n  [../]\n  [./solid_y]\n    type = PhaseFieldFractureMechanicsOffDiag\n    variable = disp_y\n    component = 1\n    c = c\n    use_displaced_mesh = true\n  [../]\n  [./solid_z]\n    type = PhaseFieldFractureMechanicsOffDiag\n    variable = disp_z\n    component = 2\n    c = c\n    use_displaced_mesh = true\n  [../]\n[]\n\n[Bounds]\n  [./irreversibility]\n    type = VariableOldValueBoundsAux\n    variable = bounds_dummy\n    bounded_variable = c\n    bound_type = lower\n  [../]\n  [./upper]\n    type = ConstantBoundsAux\n    variable = bounds_dummy\n    bounded_variable = c\n    bound_type = upper\n    bound_value = 1.0\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  petsc_options_iname = '-pc_type -ksp_type -ksp_gmres_restart -snes_type'\n  petsc_options_value = ' lu       gmres     200 vinewtonrsls'\n  solve_type = NEWTON\n  dt = 5e-5\n[]\n\n\n[Outputs]\n  exodus = true\n  interval = 2 \n  perf_graph = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9737920",
                          "updatedAt": "2024-06-11T11:12:22Z",
                          "publishedAt": "2024-06-11T11:12:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@recuero @singhgp4321\nIt does not seem that it was made to work if you hit this missing property error.\nDid you look through the examples in the module to see if someone combined those two material objects already?",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742022",
                          "updatedAt": "2024-06-11T17:33:46Z",
                          "publishedAt": "2024-06-11T17:33:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "recuero"
                          },
                          "bodyText": "It seems you are using a base name in the action. That may be preventing other objects from identifying the  rotation increment?",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742473",
                          "updatedAt": "2024-06-11T18:34:23Z",
                          "publishedAt": "2024-06-11T18:34:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "But when I do not use the base name I get other errors :\n*** ERROR ***\nThe following error occurred in the object \"MOOSE Problem\", of type \"FEProblem\".\n\nMaterial property 'uncracked_elastic_strain', requested by 'cracked_stress' is not defined on block 0\nMaterial property 'uncracked_stress', requested by 'cracked_stress' is not defined on block 0\nMaterial property 'uncracked_Jacobian_mult', requested by 'cracked_stress' is not defined on block 0\nMaterial property 'uncracked_elastic_strain', requested by 'cracked_stress_face' is not defined on block 0\nMaterial property 'uncracked_stress', requested by 'cracked_stress_face' is not defined on block 0\nMaterial property 'uncracked_Jacobian_mult', requested by 'cracked_stress_face' is not defined on block 0\nMaterial property 'uncracked_elastic_strain', requested by 'cracked_stress_neighbor' is not defined on block 0\nMaterial property 'uncracked_stress', requested by 'cracked_stress_neighbor' is not defined on block 0\nMaterial property 'uncracked_Jacobian_mult', requested by 'cracked_stress_neighbor' is not defined on block 0\nMaterial property 'mechanical_strain', requested by 'elastic_strain' is not defined on block 0\nMaterial property 'strain_increment', requested by 'elastic_strain' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'elastic_strain' is not defined on block 0\nMaterial property 'strain_increment', requested by 'elastic_strain' is not defined on block 0\nMaterial property 'mechanical_strain', requested by 'elastic_strain_face' is not defined on block 0\nMaterial property 'strain_increment', requested by 'elastic_strain_face' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'elastic_strain_face' is not defined on block 0\nMaterial property 'strain_increment', requested by 'elastic_strain_face' is not defined on block 0\nMaterial property 'mechanical_strain', requested by 'elastic_strain_neighbor' is not defined on block 0\nMaterial property 'strain_increment', requested by 'elastic_strain_neighbor' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'elastic_strain_neighbor' is not defined on block 0\nMaterial property 'strain_increment', requested by 'elastic_strain_neighbor' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_face' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_neighbor' is not defined on block 0",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742525",
                          "updatedAt": "2024-06-11T18:40:34Z",
                          "publishedAt": "2024-06-11T18:40:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "I've seen the examples where ComputeCrackedStress is used with IsotropicPlasticityStressUpdate (https://github.com/idaholab/moose/blob/next/modules/combined/test/tests/phase_field_fracture/crack2d_computeCrackedStress_finitestrain_plastic.i)\n\n@recuero @singhgp4321\nIt does not seem that it was made to work if you hit this missing property error. Did you look through the examples in the module to see if someone combined those two material objects already?",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742558",
                          "updatedAt": "2024-06-11T18:43:49Z",
                          "publishedAt": "2024-06-11T18:43:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "use Debug/show_material_props = true to figure out the names of the properties in each object\nonce everything lines up it should work as long as the rotation_increment is indeed being defined",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742570",
                          "updatedAt": "2024-06-11T18:44:48Z",
                          "publishedAt": "2024-06-11T18:44:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "Active Materials:\n    Subdomain:  (0)\n      Material Name:       cracked_stress\n      Property Names:      \"E_el\" \"Jacobian_mult\" \"L\" \"d2Fdcdstrain\" \"dE_el/dc\" \"d^2E_el/dc^2\" \"dstress/dc\" \n                             \"hist\" \"kappa_op\" \"stress\" \n      Material Name:       elastic_strain\n      Property Names:      \"uncracked_Jacobian_mult\" \"uncracked_combined_inelastic_strain\" \"uncracked_elastic_strain\" \n                             \"uncracked_material_timestep_limit\" \"uncracked_rotation_total\" \"uncracked_stress\" \n                             \n      Material Name:       hill_tensor\n      Property Names:      \"uncracked_hill_constants\" \"uncracked_hill_tensor\" \"uncracked_rotation_total_hill\" \n                             \n      Material Name:       trial_plasticity\n      Property Names:      \"uncracked_effective_plastic_strain\" \"uncracked_hardening_variable\" \"uncracked_plastic_strain\" \n                             \"uncracked_plastic_strain_rate\" \n      Material Name:       pfbulkmat\n      Property Names:      \"gc_prop\" \"l\" \"visco\" \n      Material Name:       elasticity_tensor\n      Property Names:      \"uncracked_effective_stiffness\" \"uncracked_elasticity_tensor\" \n      Material Name:       All_strain\n      Property Names:      \"uncracked_deformation_gradient\" \"uncracked_mechanical_strain\" \"uncracked_rotation_increment\" \n                             \"uncracked_strain_increment\" \"uncracked_strain_rate\" \"uncracked_total_strain\" \n                             \n\n    Active Face Materials:\n    Subdomain:  (0)\n      Material Name:       cracked_stress_face\n      Property Names:      \"E_el\" \"Jacobian_mult\" \"L\" \"d2Fdcdstrain\" \"dE_el/dc\" \"d^2E_el/dc^2\" \"dstress/dc\" \n                             \"hist\" \"kappa_op\" \"stress\" \n      Material Name:       elastic_strain_face\n      Property Names:      \"uncracked_Jacobian_mult\" \"uncracked_combined_inelastic_strain\" \"uncracked_elastic_strain\" \n                             \"uncracked_material_timestep_limit\" \"uncracked_rotation_total\" \"uncracked_stress\" \n                             \n      Material Name:       hill_tensor_face\n      Property Names:      \"uncracked_hill_constants\" \"uncracked_hill_tensor\" \"uncracked_rotation_total_hill\" \n                             \n      Material Name:       trial_plasticity_face\n      Property Names:      \"uncracked_effective_plastic_strain\" \"uncracked_hardening_variable\" \"uncracked_plastic_strain\" \n                             \"uncracked_plastic_strain_rate\" \n      Material Name:       pfbulkmat_face\n      Property Names:      \"gc_prop\" \"l\" \"visco\" \n      Material Name:       elasticity_tensor_face\n      Property Names:      \"uncracked_effective_stiffness\" \"uncracked_elasticity_tensor\" \n      Material Name:       All_strain_face\n      Property Names:      \"uncracked_deformation_gradient\" \"uncracked_mechanical_strain\" \"uncracked_rotation_increment\" \n                             \"uncracked_strain_increment\" \"uncracked_strain_rate\" \"uncracked_total_strain\" \n                             \n\nActive Neighboring Materials:\n    Subdomain:  (0)\n      Material Name:       cracked_stress_neighbor\n      Property Names:      \"E_el\" \"Jacobian_mult\" \"L\" \"d2Fdcdstrain\" \"dE_el/dc\" \"d^2E_el/dc^2\" \"dstress/dc\" \n                             \"hist\" \"kappa_op\" \"stress\" \n      Material Name:       elastic_strain_neighbor\n      Property Names:      \"uncracked_Jacobian_mult\" \"uncracked_combined_inelastic_strain\" \"uncracked_elastic_strain\" \n                             \"uncracked_material_timestep_limit\" \"uncracked_rotation_total\" \"uncracked_stress\" \n                             \n      Material Name:       hill_tensor_neighbor\n      Property Names:      \"uncracked_hill_constants\" \"uncracked_hill_tensor\" \"uncracked_rotation_total_hill\" \n                             \n      Material Name:       trial_plasticity_neighbor\n      Property Names:      \"uncracked_effective_plastic_strain\" \"uncracked_hardening_variable\" \"uncracked_plastic_strain\" \n                             \"uncracked_plastic_strain_rate\" \n      Material Name:       pfbulkmat_neighbor\n      Property Names:      \"gc_prop\" \"l\" \"visco\" \n      Material Name:       elasticity_tensor_neighbor\n      Property Names:      \"uncracked_effective_stiffness\" \"uncracked_elasticity_tensor\" \n      Material Name:       All_strain_neighbor\n      Property Names:      \"uncracked_deformation_gradient\" \"uncracked_mechanical_strain\" \"uncracked_rotation_increment\" \n                             \"uncracked_strain_increment\" \"uncracked_strain_rate\" \"uncracked_total_strain\" \n                             \n\nActive Boundary Materials:\n                           \n\n\n*** ERROR ***\nThe following error occurred in the object \"MOOSE Problem\", of type \"FEProblem\".\n\nMaterial property 'rotation_increment', requested by 'hill_tensor' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_face' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_neighbor' is not defined on block 0\n\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n\n\n*** ERROR ***\nThe following error occurred in the object \"MOOSE Problem\", of type \"FEProblem\".\n\nMaterial property 'rotation_increment', requested by 'hill_tensor' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_face' is not defined on block 0\nMaterial property 'rotation_increment', requested by 'hill_tensor_neighbor' is not defined on block 0\n\n\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 1",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742657",
                          "updatedAt": "2024-06-11T18:53:22Z",
                          "publishedAt": "2024-06-11T18:53:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "make the hill_tensor request 'uncracked_rotation_increment' instead of 'rotation_increment'",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742674",
                          "updatedAt": "2024-06-11T18:55:23Z",
                          "publishedAt": "2024-06-11T18:55:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "Ok thanks! It works now!!",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9742738",
                          "updatedAt": "2024-06-11T19:02:55Z",
                          "publishedAt": "2024-06-11T19:02:53Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nourshabib"
                  },
                  "bodyText": "So now if I want to degrade the material properties by affecting the degradation function (from CrackedStress) to the yield stress (from HillElastoPlasticity). To do that I'm \"getting\" the c from ComputeCrackedStress to HillElastoPlasticityStressUpdate. But now I'm getting this error\n*** ERROR ***\nCyclic dependency detected in object ordering:\nelastic_strain <- cracked_stress <- elastic_strain\n\nI don't think I understand what this means",
                  "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9753027",
                  "updatedAt": "2024-06-12T14:54:09Z",
                  "publishedAt": "2024-06-12T14:54:09Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This means the objects (the material properties computed by each material) depend on each other in a circular fashion. We need one to compute the other, but the other needs the first one to be computed. The dependencies should not form a cycle",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9753052",
                          "updatedAt": "2024-06-12T14:56:11Z",
                          "publishedAt": "2024-06-12T14:55:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "Ok so I can't couple these two together because they are both being called by ComputeMultipleInelasticStress",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9753146",
                          "updatedAt": "2024-06-12T15:01:47Z",
                          "publishedAt": "2024-06-12T15:01:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This part should be fine. They can both be depended on by a 3rd material\nthey just cant depend both on each other",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9753812",
                          "updatedAt": "2024-06-12T15:54:29Z",
                          "publishedAt": "2024-06-12T15:54:28Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "But I'm only trying to have HillElastoPlasticityStressUpdate depend on CrackedStress and not the other way around.",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9754528",
                          "updatedAt": "2024-06-12T17:01:10Z",
                          "publishedAt": "2024-06-12T17:01:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "in the code for the crackedStress you are using the elastic_strain. If you dont want that, then change that code",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9754684",
                          "updatedAt": "2024-06-12T17:17:05Z",
                          "publishedAt": "2024-06-12T17:17:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "In cracked stress I want to use the elastic strain to calculate the free energy. What I want is to be able to use the damage variable (\"c\" from CrackedStressed) in HillElastoPlasticity to degrade the yield stress",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9754826",
                          "updatedAt": "2024-06-12T17:33:44Z",
                          "publishedAt": "2024-06-12T17:33:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "can you use the property from the previous time step? with getMaterialPropertyOld\nthis will break the circle of dependencies",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9754859",
                          "updatedAt": "2024-06-12T17:37:43Z",
                          "publishedAt": "2024-06-12T17:37:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "I tried that and still got the same error",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9754878",
                          "updatedAt": "2024-06-12T17:40:16Z",
                          "publishedAt": "2024-06-12T17:40:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "what did you change?",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9754979",
                          "updatedAt": "2024-06-12T17:49:19Z",
                          "publishedAt": "2024-06-12T17:49:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "In ComputeCrackedStress I added\n_dam(declareProperty<Real>(_uncracked_base_name + \"dam\")),\nwith _dam[_qp] = _c[_qp];\nand in HillElastoPlasticity:\n_dam(this->template getGenericMaterialProperty<Real, is_ad>(this->_base_name + \"dam\")),\n_dam_old(this->template getMaterialPropertyOld<Real>(this->_base_name + \"dam\")),\n\nwith the new yield stress:\n      _yield_stress  =   _yield_stress * ( 1 - _dam_old[_qp]) * ( 1 - _dam_old[_qp]);",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9755025",
                          "updatedAt": "2024-06-12T17:56:09Z",
                          "publishedAt": "2024-06-12T17:54:30Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nourshabib"
                  },
                  "bodyText": "Hi, another question concerning HillElastoPlasticityStressUpdate, the eq_plastic_strain_inc doesn't return the usual equivalent plastic strain?\n\nas it's also defined and called in FiniteStrainPlasticMaterial",
                  "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9818452",
                  "updatedAt": "2024-06-19T14:23:04Z",
                  "publishedAt": "2024-06-19T14:23:02Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "_inc stands for increment. So it's not the full value of strain, only the difference over a time step",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9818508",
                          "updatedAt": "2024-06-19T14:27:01Z",
                          "publishedAt": "2024-06-19T14:27:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "_effective_inelastic_strain[_qp] = _effective_inelastic_strain_old[_qp] + eq_plastic_strain_inc;\nBut even when accumulated it doesn't return the same values as the equivalent plastic strain",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9818526",
                          "updatedAt": "2024-06-19T14:29:06Z",
                          "publishedAt": "2024-06-19T14:29:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@gambka",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9819006",
                          "updatedAt": "2024-06-19T15:06:01Z",
                          "publishedAt": "2024-06-19T15:06:00Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "gambka"
                          },
                          "bodyText": "@singhgp4321 is better suited to answer this question.",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9819100",
                          "updatedAt": "2024-06-19T15:16:01Z",
                          "publishedAt": "2024-06-19T15:16:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "recuero"
                          },
                          "bodyText": "The definition of the effective plastic strain might be different from other objects. There is a report and references on this set of anisotropic objects.\nI would look in the references and change things if one wants to have the same definition.",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9819255",
                          "updatedAt": "2024-06-19T15:31:47Z",
                          "publishedAt": "2024-06-19T15:31:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "Thanks all, I added it manually \ud83d\udc4d",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9819440",
                          "updatedAt": "2024-06-19T15:45:09Z",
                          "publishedAt": "2024-06-19T15:45:08Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "nourshabib"
                  },
                  "bodyText": "Hello,\nMy main objective is to integrate damage into Hill anisotropic plasticity. So first, I attempted to use HillElastoPlasticityStressUpdate in combination with ComputeCrackedStress and ComputeMultipleInelasticStress. My approach involved degrading the yield stress in HillElastoPlasticityStressUpdate using the damage_old parameter from ComputeCrackedStress. However, this resulted in an abnormal increase in plastic strain once the yield stress was reached. In another attempt, I incorporated the phase field formulation into ComputeMultipleInelasticStress by defining the degraded stress and its derivatives, along with the free energy and its derivatives (dstress_dc, F, dFdc, d2Fdc2, d2Fdcdstrain). Unfortunately, this also produced incorrect results, showing the same abnormal surge in plastic strain.\nI suspect the error originates from ComputeMultipleInelasticStress, but I am unsure where to look exactly. Do you have any suggestions? Thanks!",
                  "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9868911",
                  "updatedAt": "2024-06-25T08:36:18Z",
                  "publishedAt": "2024-06-25T08:36:17Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "singhgp4321"
                          },
                          "bodyText": "@nourshabib I am trying to understand the specifics of your damage model and how you are trying to use it alongside HillElastoPlasticity. Is there a document on your damage model that you could point me to?\nThere can be several reasons for getting unusually high plastic strain. Is your damage parameter showing reasonable values, same thing about the yield stress after the onset of damage? I will first ensure that the damage parameter is not jumping to an abruptly high value, or the yield stress is not dropping down too fast. If that is not the case then I will need to look into the code that everything looks fine there.",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9873649",
                          "updatedAt": "2024-06-25T16:18:48Z",
                          "publishedAt": "2024-06-25T16:18:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "nourshabib"
                          },
                          "bodyText": "Phase field for fracture in ductile material so I want to include a plastic free energy term in the free energy formulation (specifically the 'yield stress * the equivalent plastic strain * the degradation function' in the free energy formula ) and degrade the yield stress (degradation function * yield_stress), as in \"A phase-field formulation for fracture in ductile materials: Finite deformation balance law derivation, plastic degradation, and stress triaxiality effects\": https://www.sciencedirect.com/science/article/pii/S0045782516311069, haven't seen this done with Hill plasticity, but it shouldn't be  that different from the von mises plasticity. The unusually high plastic strain thus leads to the high damage values and the sharp decrease in stress.\nWhat I've done:\n\nIn HillElastoPlasticityStressUpdate I added the degradation function (1-c)^2 and affected it to the yield stress : yield_stress * (1-c)^2\nIn ComputeCrackedStress I added the plastic free energy term to the free energy and its derivatives as : yield_stress *  eqv_plastic_strain * (1-c)^2\n\nAnd this lead to high plastic strain, sharp increase in damage and sharp stress decrease.",
                          "url": "https://github.com/idaholab/moose/discussions/27746#discussioncomment-9879935",
                          "updatedAt": "2024-06-26T08:25:00Z",
                          "publishedAt": "2024-06-26T08:24:59Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "missing required parameter 'Physics/SolidMechanics/QuasiStatic/displacements'",
          "author": {
            "login": "Emmanuel-324"
          },
          "bodyText": "I am writing my script in VScode, when I add the physics block below:\n[Physics/SolidMechanics/QuasiStatic/displacements]\n  strain = FINITE\n  add_variables = true\n  generate_output = stress_xx\n[]\n\nI got the error below and I am confused how to go about it\nmissing required parameter 'Physics/SolidMechanics/QuasiStatic/displacements'check_inp(moose_srv)\n\tDoc String: \"The nonlinear displacement variables for the problem\"",
          "url": "https://github.com/idaholab/moose/discussions/27989",
          "updatedAt": "2024-06-25T22:39:16Z",
          "publishedAt": "2024-06-25T22:07:30Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nJust add the displacements parameter.\nYou can look at examples in the solid mechanics module\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27989#discussioncomment-9876308",
                  "updatedAt": "2024-06-25T22:11:29Z",
                  "publishedAt": "2024-06-25T22:11:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "I have figured it out but a quick question\nIf I use the \"generate_output\" line as shown below\n[Physics/SolidMechanics/QuasiStatic]\n  [all]\n    add_variables = true\n    strain = FINITE\n    generate_output = 'stress_xx'\n  []\n[]\n\nAnd postprocessors block as shown below\n[Postprocessors]\n  [phase0_pk2]\n    type = ElementAverageValue\n    variable = phase0_pk2\n  []\n  [phase0_fp_xx]\n    type = ElementAverageValue\n    variable = phase0_fp_xx\n  []\n  [phase0_e_xx]\n    type = ElementAverageValue\n    variable = phase0_e_xx\n  []\n  [phase1_pk2]\n    type = ElementAverageValue\n    variable = phase1_pk2\n  []\n  [phase1_fp_xx]\n    type = ElementAverageValue\n    variable = phase1_fp_xx\n  []\n  [phase1_e_xx]\n    type = ElementAverageValue\n    variable = phase1_e_xx\n  []\n  [vonmises]\n    type = ElementAverageValue\n    variable = vonmises\n    block = 'ANY_BLOCK_ID 0'\n  []\n\n  [stress_xx]\n    type = ElementAverageValue\n    variable = stress_xx\n  []\n  [phase0_gss]\n    type = ElementAverageValue\n    variable = phase0_gss\n  []\n  [phase0_slip_increment]\n    type = ElementAverageValue\n    variable = phase0_slip_increment\n  []\n  [phase1_gss]\n    type = ElementAverageValue\n    variable = phase1_gss\n  []\n  [phase1_slip_increment]\n    type = ElementAverageValue\n    variable = phase1_slip_increment\n  []\n[]\n\nWill all those repeated parameters in both blocks be generated twice or once? And is it advisable to have the repeated parameters?",
                          "url": "https://github.com/idaholab/moose/discussions/27989#discussioncomment-9876407",
                          "updatedAt": "2024-06-25T22:33:42Z",
                          "publishedAt": "2024-06-25T22:33:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "stress_xx in the action is not the same type of output as a postprocessor.\nI think you could just try things before asking questions. It does not hurt to run the code once more",
                          "url": "https://github.com/idaholab/moose/discussions/27989#discussioncomment-9876434",
                          "updatedAt": "2024-06-25T22:39:51Z",
                          "publishedAt": "2024-06-25T22:39:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to use \"file_socket\" parameter in WebServerControl? (Any example inputs)",
          "author": {
            "login": "yifanm4"
          },
          "bodyText": "Hi MOOSE developers,\nI want to use WebServerControl to make MOOSE communicate with my Open Modelica application for research purpose. I saw in the document that it's required to use either \"port\" parameter or \"file_socket\" parameter so the server can listen to the port. I looked into the example input files and none of them actually implemented any of them. I was wondering if anybody can teach me the general work flow of this?\nI was trying to follow the steps listed in  https://mooseframework.inl.gov/python/MooseControl/index.html to get a taste of it. But I cannot seem to get it working since I don't know how to set my file_socket parameter.\nThanks!\nYifan",
          "url": "https://github.com/idaholab/moose/discussions/27975",
          "updatedAt": "2024-06-25T20:47:00Z",
          "publishedAt": "2024-06-24T16:13:47Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThis is a very recent feature. Which version of moose (which commit) are you using?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9862702",
                  "updatedAt": "2024-06-24T16:32:13Z",
                  "publishedAt": "2024-06-24T16:32:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "yifanm4"
                          },
                          "bodyText": "Hello,\nI am using the newest version (2024.06.17)",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9862856",
                          "updatedAt": "2024-06-24T16:50:10Z",
                          "publishedAt": "2024-06-24T16:50:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@loganharbour",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9862983",
                          "updatedAt": "2024-06-24T17:02:57Z",
                          "publishedAt": "2024-06-24T17:02:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "loganharbour"
                          },
                          "bodyText": "If you're using the MooseControl python object, you don't need to set the port or file socket. It's done for you internally by the script.\nWithin the MooseControl object, you specify the name of the WebServerControl object in your input file. It uses this name to take care of the port/file socket for you via a command line argument.",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9863131",
                          "updatedAt": "2024-06-24T17:20:41Z",
                          "publishedAt": "2024-06-24T17:20:40Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "yifanm4"
                          },
                          "bodyText": "Thank you for the quick response! It does make more sense now. But I come into an error message that I don't know how to fix, can you please help out or point to the resources that I can look at?\nI create a python script similar to what is shown in the example:\nfrom MooseControl import MooseControl\ncommand = 'mpiexec -n 2 ./ex01_inputfile/ex01-opt -i /ex01_inputfile/ex01_withWebControl.i'\ncommand_list = command.split()\ncontrol = MooseControl(moose_command=command_list,\nmoose_control_name='web_server')\ncontrol.initialize()\nBut I got the following error messages when I run it:\nMooseControl: Spawning MOOSE with command \"['mpiexec', '-n', '2', './ex01_inputfile/ex01-opt', '-i', '/ex01_inputfile/ex01_withWebControl.i', 'Controls/web_server/file_socket=/var/folders/b8/pz63xbjs2dd5df815t7c68fc0000gn/T/moose_control_i1aupz']\"\nMooseControl: Waiting for the webserver to start on \"http+unix:///var/folders/b8/pz63xbjs2dd5df815t7c68fc0000gn/T/moose_control_i1aupz\"\nTraceback (most recent call last):\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/encodings/idna.py\", line 165, in encode\n    raise UnicodeError(\"label too long\")\nUnicodeError: label too long\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/yifanmao/projects/moose/examples/ex01_inputfile/ex01_webControl.py\", line 11, in <module>\n    control.initialize()\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 286, in initialize\n    if self.isListening():\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 213, in isListening\n    r = self._requests_get(f'{self._url}/check')\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 142, in _requests_get\n    return self._requests_wrapper('get', *args, **kwargs)\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 138, in _requests_wrapper\n    return getattr(accessor, function_name)(*args, **kwargs)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/sessions.py\", line 579, in request\n    settings = self.merge_environment_settings(\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/sessions.py\", line 760, in merge_environment_settings\n    env_proxies = get_environ_proxies(url, no_proxy=no_proxy)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/utils.py\", line 832, in get_environ_proxies\n    if should_bypass_proxies(url, no_proxy=no_proxy):\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/utils.py\", line 816, in should_bypass_proxies\n    bypass = proxy_bypass(parsed.hostname)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/urllib/request.py\", line 2654, in proxy_bypass\n    return proxy_bypass_macosx_sysconf(host)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/urllib/request.py\", line 2631, in proxy_bypass_macosx_sysconf\n    return _proxy_bypass_macosx_sysconf(host, proxy_settings)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/urllib/request.py\", line 2599, in _proxy_bypass_macosx_sysconf\n    hostIP = socket.gethostbyname(hostonly)\nUnicodeError: encoding with 'idna' codec failed (UnicodeError: label too long)```\n\nCan you please give me some suggestions on how to fix it?",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9863538",
                          "updatedAt": "2024-06-25T13:12:19Z",
                          "publishedAt": "2024-06-24T18:16:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "yifanm4"
                          },
                          "bodyText": "Thank you for the quick response! It does make more sense now. But I come into an error message that I don't know how to fix, can you please help out or point to the resources that I can look at?\nI create a python script similar to what is shown in the example:\nfrom MooseControl import MooseControl\ncommand = 'mpiexec -n 2 ./ex01_inputfile/ex01-opt -i ./ex01_inputfile/ex01_withWebControl.i' command_list = command.split() control = MooseControl(moose_command=command_list, moose_control_name='web_server') control.initialize()\nBut I got the following error messages when I run it:\nMooseControl: Spawning MOOSE with command \"['mpiexec', '-n', '2', './ex01_inputfile/ex01-opt', '-i', '/ex01_inputfile/ex01_withWebControl.i', 'Controls/web_server/file_socket=/var/folders/b8/pz63xbjs2dd5df815t7c68fc0000gn/T/moose_control_i1aupz']\"\nMooseControl: Waiting for the webserver to start on \"http+unix:///var/folders/b8/pz63xbjs2dd5df815t7c68fc0000gn/T/moose_control_i1aupz\"\nTraceback (most recent call last):\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/encodings/idna.py\", line 165, in encode\n    raise UnicodeError(\"label too long\")\nUnicodeError: label too long\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/yifanmao/projects/moose/examples/ex01_inputfile/ex01_webControl.py\", line 11, in <module>\n    control.initialize()\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 286, in initialize\n    if self.isListening():\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 213, in isListening\n    r = self._requests_get(f'{self._url}/check')\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 142, in _requests_get\n    return self._requests_wrapper('get', *args, **kwargs)\n  File \"/Users/yifanmao/projects/moose/python/MooseControl/MooseControl.py\", line 138, in _requests_wrapper\n    return getattr(accessor, function_name)(*args, **kwargs)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/sessions.py\", line 579, in request\n    settings = self.merge_environment_settings(\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/sessions.py\", line 760, in merge_environment_settings\n    env_proxies = get_environ_proxies(url, no_proxy=no_proxy)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/utils.py\", line 832, in get_environ_proxies\n    if should_bypass_proxies(url, no_proxy=no_proxy):\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/site-packages/requests/utils.py\", line 816, in should_bypass_proxies\n    bypass = proxy_bypass(parsed.hostname)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/urllib/request.py\", line 2654, in proxy_bypass\n    return proxy_bypass_macosx_sysconf(host)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/urllib/request.py\", line 2631, in proxy_bypass_macosx_sysconf\n    return _proxy_bypass_macosx_sysconf(host, proxy_settings)\n  File \"/Users/yifanmao/mambaforge3/envs/moose/lib/python3.10/urllib/request.py\", line 2599, in _proxy_bypass_macosx_sysconf\n    hostIP = socket.gethostbyname(hostonly)\nUnicodeError: encoding with 'idna' codec failed (UnicodeError: label too long)```\n\nCan you please give me some suggestions on how to fix it? \n\n\nI actually found a way to go around It. I can set my temp file directory to a shorter path (https://stackoverflow.com/questions/847850/cross-platform-way-of-getting-temp-directory-in-python)\nthe default temp dir on macOS that is grabbed by tempfile.gettempdir() seems to be too long\nI tried mkdir /Users/yifanmao/tmp and then export TMPDIR=/Users/yifanmao/tmp before I run the script and it works as expected.\nPlease let me know if there are better ways to handle it. Thanks",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9873330",
                          "updatedAt": "2024-06-25T15:53:40Z",
                          "publishedAt": "2024-06-25T15:52:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I'm glad you figured it out.\nThe error message is clear enough imo, I dont think we need a corrective action for this, but @loganharbour will decide",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9875461",
                          "updatedAt": "2024-06-25T19:59:30Z",
                          "publishedAt": "2024-06-25T19:59:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "loganharbour"
                          },
                          "bodyText": "Yeah, unfortunately this is an issue I've come across on macs (not liking long directory paths).\nI'm not sure if there's a good way around it unfortunately. I could make it the same directory that your input file is in, but that path might be long too!",
                          "url": "https://github.com/idaholab/moose/discussions/27975#discussioncomment-9875833",
                          "updatedAt": "2024-06-25T20:47:01Z",
                          "publishedAt": "2024-06-25T20:47:00Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "A 'ADStateful' is not a registered object.",
          "author": {
            "login": "zxj19910214"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nIssue or question about MOOSE\nDear mooseusers,\nI try to run an example, it shows the objects not registered.\nThe example is:\n[Mesh]\ntype = GeneratedMesh\ndim = 1\n[]\n[Variables]\n[./dummy]\n[../]\n[]\n[Kernels]\n[./diff]\ntype = ADMatDiffusion\nvariable = dummy\ndiffusivity = dummy_prop\n[../]\n[]\n[Materials]\n[./matprop]\ntype = ADStateful\nproperty_name = dummy_prop\n[../]\n[]\n[Executioner]\ntype = Transient\nnum_steps = 1\n[]\n[Outputs]\nexodus = true\n[]\nthe error is : A 'ADStateful' is not a registered object.\nI am writing to ask is there some modules not included when I compile moose?\nmy makefile is:\n###############################################################################\n################### MOOSE Application Standard Makefile #######################\n###############################################################################\n\nOptional Environment variables\nMOOSE_DIR        - Root directory of the MOOSE project\n\n###############################################################################\nUse the MOOSE submodule if it exists and MOOSE_DIR is not set\nMOOSE_SUBMODULE    := $(CURDIR)/moose\nifneq ($(wildcard $(MOOSE_SUBMODULE)/framework/Makefile),)\nMOOSE_DIR        ?= $(MOOSE_SUBMODULE)\nelse\nMOOSE_DIR        ?= $(shell dirname pwd)/moose\nendif\nframework\nFRAMEWORK_DIR      := $(MOOSE_DIR)/framework\ninclude $(FRAMEWORK_DIR)/build.mk\ninclude $(FRAMEWORK_DIR)/moose.mk\n################################## MODULES ####################################\nTo use certain physics included with MOOSE, set variables below to\nyes as needed.  Or set ALL_MODULES to yes to turn on everything (overrides\nother set variables).\nALL_MODULES                 := no\nCHEMICAL_REACTIONS          := no\nCONTACT                     := no\nELECTROMAGNETICS            := no\nEXTERNAL_PETSC_SOLVER       := no\nFLUID_PROPERTIES            := no\nFSI                         := no\nFUNCTIONAL_EXPANSION_TOOLS  := no\nGEOCHEMISTRY                := no\nHEAT_TRANSFER               := no\nLEVEL_SET                   := no\nMISC                        := no\nNAVIER_STOKES               := no\nOPTIMIZATION                := no\nPERIDYNAMICS                := no\nPHASE_FIELD                 := yes\nPOROUS_FLOW                 := no\nRAY_TRACING                 := no\nREACTOR                     := no\nRDG                         := no\nRICHARDS                    := no\nSOLID_MECHANICS             := yes\nSTOCHASTIC_TOOLS            := no\nTHERMAL_HYDRAULICS          := no\nXFEM                        := yes\ninclude $(MOOSE_DIR)/modules/modules.mk\n###############################################################################\ndep apps\nAPPLICATION_DIR    := $(CURDIR)\nAPPLICATION_NAME   := puppy\nBUILD_EXEC         := yes\nGEN_REVISION       := no\ninclude            $(FRAMEWORK_DIR)/app.mk\n###############################################################################\nAdditional special case targets should be added here\nThank you for your help.\nBest regards,\nXiao\nDiagnostics for MOOSE installation issues\n[Optional] Output of the diagnostics scripts. To run the script: cd ~/projects/moose/scripts; ./diagnostics.sh",
          "url": "https://github.com/idaholab/moose/discussions/27971",
          "updatedAt": "2024-06-25T19:37:40Z",
          "publishedAt": "2024-06-24T08:42:44Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nADStateful is a moose test object. It is not supposed to be used in calculations outside of tests.\nIt is not part of any module. It can be included but it's a bit of work and not just in the Makefile.\nMaybe just move it to your app if you need it (and change the register object call in the source file)\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27971#discussioncomment-9860773",
                  "updatedAt": "2024-06-24T13:31:44Z",
                  "publishedAt": "2024-06-24T13:31:43Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "zxj19910214"
                          },
                          "bodyText": "Dear Guillaume,\nThank you for answering. I still have one question; recently, I tried to run a test from others, and it has some errors for missing files.\nfatal error: ADCZMComputeLocalTractionTotalBase.h: No such file or directory\nfatal error: ADSingleVariableReturnMappingSolution.h: No such file or directory\nis this the file not compiled from the beginning of installing the software? I could find these files in the moose class index\nThank you for your help in this.\nBest regards,\nXiao",
                          "url": "https://github.com/idaholab/moose/discussions/27971#discussioncomment-9869262",
                          "updatedAt": "2024-06-25T11:00:50Z",
                          "publishedAt": "2024-06-25T09:09:04Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Weather to add \"./\" to subpart codes?",
          "author": {
            "login": "An4el"
          },
          "bodyText": "In the Example 1 : As Simple as it Gets, most of the subpart have a \"./\" suffix on it and ends with \"[../]\", like this:\n[Variables] [./diffused] order = FIRST family = LAGRANGE [../] []\nand in tutorial of Phase Field, there is no syntax like this:\n[Variables] [c] order = FIRST family = LAGRANGE [] [w] order = FIRST family = LAGRANGE [] []\nSo what's the difference between them?",
          "url": "https://github.com/idaholab/moose/discussions/27978",
          "updatedAt": "2024-07-26T02:13:49Z",
          "publishedAt": "2024-06-24T20:13:54Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\n./ and ../ are no longer necessary.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27978#discussioncomment-9864536",
                  "updatedAt": "2024-06-24T20:36:58Z",
                  "publishedAt": "2024-06-24T20:36:57Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "\"Fatal: Could not detach HEAD\" Error During Update MOOSE Repository",
          "author": {
            "login": "styyokuda"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nIssue or question about MOOSE\nAll,\nI got the error message during updating MOOSE repository as:\n~/projects/moose$ git rebase origin/master\nFirst, rewinding head to replay your work on top of it...\nerror: Updating the following directories would lose untracked files in them:\nmodules/tensor_mechanics/src\nAborting\nfatal: Could not detach HEAD\nIt seems this kind of error was discussed in \"Fatal\" warning during MOOSE update #26465.\nI have the \"tensor_mechanics\" in the module directory and the \"update_and_rebuild_wasp.sh\" the scrips directory.  What am I supposed to do then? Please help. S. Thomas\nDiagnostics for MOOSE installation issues\n[Optional] Output of the diagnostics scripts. To run the script: cd ~/projects/moose/scripts; ./diagnostics.sh",
          "url": "https://github.com/idaholab/moose/discussions/27797",
          "updatedAt": "2024-06-24T17:02:54Z",
          "publishedAt": "2024-06-05T19:25:06Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWe deleted that module.\nMove any work you have in that module into the solid mechanics module. Either manually, or with git mv in the first commit adding the new files\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9683174",
                  "updatedAt": "2024-06-05T23:05:13Z",
                  "publishedAt": "2024-06-05T23:05:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "Thank you, Guillaume.\nNow, with \"conda create -n moose moose-dev=2024.05.13\"\nThe action shown in the attached has been going on overnight.\nI don't know what to do. Please help.",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9691432",
                          "updatedAt": "2024-06-06T15:44:16Z",
                          "publishedAt": "2024-06-06T15:44:16Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "This usually happens when your instance of Conda is using the deprecated solver. Newer versions are using libmamba. Can you cancel that (ctrl-c), and run the following:\nconda list | grep conda\nOnce we see whats there, we can continue appropriately.",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9692142",
                          "updatedAt": "2024-06-06T17:01:39Z",
                          "publishedAt": "2024-06-06T17:01:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "Thank you. Please see below.",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9692678",
                          "updatedAt": "2024-06-06T18:07:10Z",
                          "publishedAt": "2024-06-06T18:07:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Sorry for the delay... Yeah it looks like you are running an old version of Conda. If Conda will let you, try to upgrade it:\nconda update conda\nIf you do not see conda being updated to 23.11.x, we will need to be a bit more aggressive with it. Which is usually the case. If so, you can try to force a newer version with:\nconda install conda=25\nOnce you have a version >=23.11, then try to create the moose environment:\nconda create -n moose moose-dev=2024.05.11",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9693523",
                          "updatedAt": "2024-06-06T19:52:55Z",
                          "publishedAt": "2024-06-06T19:52:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "So, I did \"conda update conda\" (see below)\n\n\nBut, \"grep list | grep conda\" shows still 23.1.0 (see below)\n\nSo, I did \"conda install conda=25\" and got the following\n\nAlso, I tried \"conda install conda=24.5.0\" as suggested in the first printout above and it did something (see the last part of printout)\n\nBNut  \"grep list | grep conda\" show the same 23.1.0 (see below).",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9694235",
                          "updatedAt": "2024-06-06T21:31:55Z",
                          "publishedAt": "2024-06-06T21:31:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I would advise to just delete the conda directory and download it again\nthen conda update conda should work",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9696878",
                          "updatedAt": "2024-06-07T04:43:04Z",
                          "publishedAt": "2024-06-07T04:43:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Also, if you can, please do not post images of text. WSL text windows are capable of being copy pasted like any other terminal window; mouse select, right-click usually does the trick.",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9702135",
                          "updatedAt": "2024-06-07T13:05:58Z",
                          "publishedAt": "2024-06-07T13:05:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "styyokuda"
                          },
                          "bodyText": "Do you mean do \"rm -r conda\" in the /projects/moose directory\nand follow the instructions of Conda MOOSE Environment of installing MOOSE from Getting Started\n(install to my home directory - not in the /projects/moose directory)?\nPlease let me know.",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9716268",
                          "updatedAt": "2024-06-08T21:02:29Z",
                          "publishedAt": "2024-06-08T21:02:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If you put the (mini)conda directory there then yes\nWe expect that (mini)conda directory to be under the home directory iirc",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9716762",
                          "updatedAt": "2024-06-08T23:58:13Z",
                          "publishedAt": "2024-06-08T23:58:12Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "With the base environment loaded:\nconda deactivate\nconda activate base\nYou can get the installation directory by then running:\necho $CONDA_PREFIX\nThis will be the directory you want to remove.\nWe may run into an initialization issue after installing a newer version of Conda, but we will deal with that when/if it happens. Regardless, once you remove the directory above, please follow our Conda Installation Instructions to obtain the latest version available.\nAnd if installation proceeds well, next follow the section of Installing MOOSE (conda create -n moose moose-dev=2024.05.13).",
                          "url": "https://github.com/idaholab/moose/discussions/27797#discussioncomment-9726965",
                          "updatedAt": "2024-06-10T12:41:59Z",
                          "publishedAt": "2024-06-10T12:41:58Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Modelling a displacement controlled RVE",
          "author": {
            "login": "Flolaffel"
          },
          "bodyText": "Hello,\nI've been trying to model a displacement controlled RVE simulation in MOOSE for a while now but didn't really achieve a satisfying result yet.\nOne approach I got to work is using LinearNodalConstraint to impose two constraints (disp_x and disp_y) per node pair on opposing side sets.\nnx = 3\nny = 3\n\n[Mesh]\n  [domain]\n    type = GeneratedMeshGenerator\n    dim = 2\n    xmin = 0\n    xmax = 3\n    ymin = 0\n    ymax = 3\n    nx = ${nx}\n    ny = ${ny}\n  []\n  [top_right]\n    type = ExtraNodesetGenerator\n    input = domain\n    new_boundary = top_right\n    coord = '${fparse nx} ${fparse ny} 0'\n  []\n  [bottom_right]\n    type = ExtraNodesetGenerator\n    input = top_right\n    new_boundary = bottom_right\n    coord = '${fparse nx} 0 0'\n  []\n  [top_left]\n    type = ExtraNodesetGenerator\n    input = bottom_right\n    new_boundary = top_left\n    coord = '0 ${fparse ny} 0'\n  []\n  [bottom_left]\n    type = ExtraNodesetGenerator\n    input = top_left\n    new_boundary = bottom_left\n    coord = '0 0 0'\n  []\n[]\n\n[GlobalParams]\n  displacements = 'disp_x disp_y'\n[]\n\n[Modules/TensorMechanics/Master]\n  [all]\n    strain = SMALL\n    add_variables = true\n    incremental = false\n    generate_output = 'vonmises_stress'\n  []\n[]\n\n[BCs]\n  [no_y]\n    type = DirichletBC\n    variable = disp_y\n    boundary = 'bottom_left bottom_right top_left'\n    value = 0\n  []\n  [no_x]\n    type = DirichletBC\n    variable = disp_x\n    boundary = 'bottom_left'\n    value = 0\n  []\n  [disp]\n    type = DirichletBC\n    variable = disp_x\n    boundary = 'top_left'\n    value = 0.1\n  []\n[]\n\n[Constraints]\n  [lr1_x]\n    type = LinearNodalConstraint\n    variable = disp_x\n    primary = '3 6 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 7\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [lr1_y]\n    type = LinearNodalConstraint\n    variable = disp_y\n    primary = '3 6 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 7\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [lr2_x]\n    type = LinearNodalConstraint\n    variable = disp_x\n    primary = '9 6 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 11\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [lr2_y]\n    type = LinearNodalConstraint\n    variable = disp_y\n    primary = '9 6 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 11\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [lr3_x]\n    type = LinearNodalConstraint\n    variable = disp_x\n    primary = '13 6 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 15\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [lr3_y]\n    type = LinearNodalConstraint\n    variable = disp_y\n    primary = '13 6 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 15\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [tb1_x]\n    type = LinearNodalConstraint\n    variable = disp_x\n    primary = '1 13 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 12\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [tb1_y]\n    type = LinearNodalConstraint\n    variable = disp_y\n    primary = '1 13 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 12\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [tb2_x]\n    type = LinearNodalConstraint\n    variable = disp_x\n    primary = '4 13 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 14\n    penalty = 1e6\n    formulation = kinematic\n  []\n  [tb2_y]\n    type = LinearNodalConstraint\n    variable = disp_y\n    primary = '4 13 0'\n    weights = '1 1 -1'\n    secondary_node_ids = 12\n    penalty = 1e6\n    formulation = kinematic\n  []\n[]\n\n[Materials]\n  [elasticity]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 210000\n    poissons_ratio = 0.3\n  []\n  [stress]\n    type = ComputeLinearElasticStress\n  []\n[]\n\n[Preconditioning]\n  [smp]\n    type = SMP\n    full = true\n  []\n[]\n\n[Executioner]\n  type = Steady\n  solve_type = 'PJFNK'\n  petsc_options_iname = '-pc_type -pc_factor_shift_type -pc_factor_shift_amount'\n  petsc_options_value = 'lu       NONZERO               1e-15'\n  nl_abs_tol = 1e-8\n  nl_rel_tol = 1e-12\n[]\n\n[Outputs]\n  exodus = true\n[]\n\nThe result is what I'm aiming for, so we can use that as a reference. The problem with this approach however is the convergence. I tried various PETsc settings, preconditioning and solve type combinations. This here is the best I could do which unfortunately is not good enough for the actual application I have in mind (convergence fails there).\nMy preferred approach would be just using the AddPeriodicBCAction like this:\n[BCs]\n  [Periodic]\n    [x]\n      variable = disp_x\n      auto_direction = 'x y'\n    []\n    [y]\n      variable = disp_y\n      auto_direction = 'x y'\n    []\n  []\n[]\n\nUnfortunately replacing the LinearNodalConstraints with this snippet doesn't have the desired result but rather delivers a non-displaced RVE.\nSo my questions are:\n\nAm I missing something with the AddPeriodicBCAction that keeps it from working?\nIs there another preferred approach for this type of problem that I'm missing? Keep in mind I need the simulation to be displacement controlled. So a global strain approach would not be possible since we apply a stress tensor instead of a deformation gradient, would it?\nIf there is no other way, how could I improve the convergence on my LinearNodalConstraint approach?",
          "url": "https://github.com/idaholab/moose/discussions/27858",
          "updatedAt": "2024-06-24T15:47:54Z",
          "publishedAt": "2024-06-11T09:55:07Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nAddPeriodicBCAction can be pretty finicky in auto-mode as iirc it does not report when it does not figure out how to set up the periodicity. Did you try the manual mode?\nAnd did you check that output follows the periodicity as expected? Maybe use a simple diffusion problem to do so, instead of displacements\nCan you reduce the penalty on those constraints? Does it need to be so high? This affects the conditioning of the matrix usually. you can check the conditioning using the SVD preconditioner, see this page\nhttps://mooseframework.inl.gov/moose/application_usage/failed_solves.html\nDoes NEWTON method work for you? Is the Jacobian exact as far as you know or is there a known missing term?",
                  "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9742089",
                  "updatedAt": "2024-06-11T17:43:20Z",
                  "publishedAt": "2024-06-11T17:42:31Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Flolaffel"
                          },
                          "bodyText": "The detection works fine. The only problem I'm facing is a over constrained model when using the AddPeriodicBCAction. I'd like to control the model deformation by only applying BCs to the corner nodes (which is what is happening in my attached input with LinearNodalConstraint). This works through coupling the displacement of each secondary node with the displacements of the corresponding corner nodes which is not the same as simply matching the x/y displacement of a node to the corresponding node on the opposite site. I'm guessing that's what the AddPeriodicBCAction is trying to do here. If I apply my displacement to a node inside my domain, all the corner nodes act fixed. So applying a displacement there essentially does nothing in this case.\n\nIs the Jacobian exact as far as you know or is there a known missing term?\n\nAFAIK the standard MOOSE mechanics kernel works with inexact Jacobians. I switched to the Lagrangian kernel system now to make sure everything is correct. But since I'm using small deformations anyway there souldn't be a difference I guess. I don't know how MOOSE handles the Jacobian contribution of the LinearNodalConstraints.\n\nDoes NEWTON method work for you?\n\nNewton converges worse than PJFNK, if at all\n\nyou can check the conditioning using the SVD preconditioner, see this page\n\nThe SVD reports several singular values. I can't track down the reason for that though. I reduced my input to the bare minimum and still receive singular values. What is happening here?\n[Mesh]\n  [domain]\n    type = GeneratedMeshGenerator\n    dim = 2\n    xmin = 0\n    xmax = 3\n    ymin = 0\n    ymax = 3\n    nx = 3\n    ny = 3\n  []\n[]\n\n[GlobalParams]\n  displacements = 'disp_x disp_y'\n[]\n\n[Modules/TensorMechanics/Master]\n  [all]\n    strain = SMALL\n    add_variables = true\n    incremental = false\n    new_system = true\n    formulation = TOTAL\n  []\n[]\n\n[BCs]\n  [no_y]\n    type = DirichletBC\n    variable = disp_y\n    boundary = 'bottom top'\n    value = 0\n  []\n  [no_x]\n    type = DirichletBC\n    variable = disp_x\n    boundary = 'bottom'\n    value = 0\n  []\n  [disp]\n    type = DirichletBC\n    variable = disp_x\n    boundary = 'top'\n    value = 0.5\n  []\n[]\n\n[Materials]\n  [elasticity]\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 210000\n    poissons_ratio = 0.3\n  []\n  [stress]\n    type = ComputeLagrangianLinearElasticStress\n  []\n[]\n\n[Preconditioning]\n  [smp]\n    type = SMP\n    full = true\n  []\n[]\n\n[Executioner]\n  type = Steady\n  solve_type = PJFNK\n  petsc_options = '-pc_svd_monitor'\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'svd'\n  nl_abs_tol = 1e-8\n  nl_rel_tol = 1e-12\n[]\n\n[Outputs]\n  exodus = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9751503",
                          "updatedAt": "2024-06-12T12:59:06Z",
                          "publishedAt": "2024-06-12T12:59:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The SVD reports several singular values. I can't track down the reason for that though. I reduced my input to the bare minimum and still receive singular values. What is happening here?\n\nsomehow, the problem is not well-posed and can have multiple solutions.\nIn mechanics this is usually due to extra rotational or translational degrees of freedom. You can remove these by setting more dirichletBCs on displacements\nor by adding constraints (but this tends to hurt convergence too) on the integral values of displacement",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9751660",
                          "updatedAt": "2024-06-12T13:11:05Z",
                          "publishedAt": "2024-06-12T13:10:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Flolaffel"
                          },
                          "bodyText": "I have a feeling there may have been a misunderstanding.\nThe MOOSE documentation says\n\nIf the svd monitor reports ANY singular value, your problem is ill-posed.\n\nBut AFAIK every matrix has singular values (which can be retrieved through SVD) and problems only arise when the singular values are close to 0. So shouldn't the docs be along the lines of\n\nIf the svd monitor reports ANY singular value close to 0, your problem is ill-posed.\n\nMy setup doesn't have any singular values close to 0 so I don't think it's ill-posed. Am I wrong?",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9751824",
                          "updatedAt": "2024-06-12T13:24:04Z",
                          "publishedAt": "2024-06-12T13:22:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "what does the svd monitor report?",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9752985",
                          "updatedAt": "2024-06-12T14:51:08Z",
                          "publishedAt": "2024-06-12T14:51:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "but yes you are right for the wording. I m not sure why I wrote that wrong",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9753828",
                          "updatedAt": "2024-06-12T15:55:32Z",
                          "publishedAt": "2024-06-12T15:55:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Flolaffel"
                          },
                          "bodyText": "SVD Monitor reports something like this:\nSVD: condition number 5.221156179857e+07, 0 of 32 singular values are (nearly) zero\nSVD: smallest singular values: 6.009961766392e-02 1.539427820447e-01 2.672794409233e-01 5.667418564167e-01 7.671714963266e-01\nSVD: largest singular values : 1.251704995744e+06 1.800887895077e+06 1.837366659253e+06 3.118666628197e+06 3.137894901730e+06\n\nI've also run the Jacobian debug script. I get\nKernel for variable 'disp_x':\n  (0,0) On-diagonal Jacobian is questionable (off by 10.87 %)\n  (0,1) Off-diagonal Jacobian for variable 'disp_y' is questionable (off by 10.56 %)\n\nKernel for variable 'disp_y':\n  (1,0) Off-diagonal Jacobian for variable 'disp_x' is questionable (off by 10.56 %)\n  (1,1) On-diagonal Jacobian is questionable (off by 10.87 %)\n\nfor the input I originally attached to my question. When I comment out the LinearNodalConstraints I get\nNo errors detected. :-)\nIs that a reason to believe LinearNodalConstraint has an incorrect contribution to the Jacobian?",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9759984",
                          "updatedAt": "2024-06-13T09:59:33Z",
                          "publishedAt": "2024-06-13T07:24:42Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hello\nIt does seem so. I havent used that object much. @lindsayad may have more insights.\nFixing the Jacobian can improve convergence\nNo 0 singular value means the problem is well-posed (in a math sense).",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9765160",
                          "updatedAt": "2024-06-13T15:45:39Z",
                          "publishedAt": "2024-06-13T15:45:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "I've never liked the analyze_jacobian.py script as much as printing the actual matrix. You can do this with -snes_test_jacobian -snes_test_jacobian_view. I can believe that the LinearNodalConstraint doesn't have the correct Jacobian especially under mesh deformation (mesh deformation makes it pretty tough to get the Jacobians perfect, even for some AD objects ... need to get that geometric AD proposal awarded @GiudGiud \ud83d\ude04 ). It would be good to verify the Jacobian is right/wrong with a -snes_test_jacobian test\nAs far modeling RVEs in general, I'm going to ping @dschwen @laagesen @sapitts to see if they have any thoughts",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9767599",
                          "updatedAt": "2024-06-13T20:44:46Z",
                          "publishedAt": "2024-06-13T20:43:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Flolaffel"
                          },
                          "bodyText": "@lindsayad  Okay so I've run it with -snes_test_jacobian which reports\n||J - Jfd||_F/||J||_F = 0.336482, ||J - Jfd||_F = 2.02017e+06\nI then tried switching to FDP which does improve convergence but no to the point where I can solve the problem with NEWTON. Result:\n||J - Jfd||_F/||J||_F = 0.0905084, ||J - Jfd||_F = 600700.\nI find it surprising that there is a difference between the two FD Jacobians. I guess MOOSE and PETsc slightly differ in the way it's calculated?",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9771600",
                          "updatedAt": "2024-06-14T07:44:12Z",
                          "publishedAt": "2024-06-14T07:43:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "With FDP we use \"coloring\" based on the mesh connectivity to remove unnecessary differencing operations. With -snes_test_jacobian the entire matrix structure is differenced, so it's very slow but there is no possibility for errors. In your case your constraints have no tie to the mesh connectivity (they can be totally across the mesh) so FDP will not work well",
                          "url": "https://github.com/idaholab/moose/discussions/27858#discussioncomment-9797152",
                          "updatedAt": "2024-06-17T17:09:04Z",
                          "publishedAt": "2024-06-17T17:09:03Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Is there a detailed introduction to the coupling mechanism and parallel computing algorithms in MOOSE, as well as the theory of solving large sparse matrices",
          "author": {
            "login": "Ating24"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion",
          "url": "https://github.com/idaholab/moose/discussions/27970",
          "updatedAt": "2024-06-24T13:21:42Z",
          "publishedAt": "2024-06-24T07:59:42Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nPETSc manual / intros will be your best reference for solving problems with sparse matrices in moose\nCoupling you can look at this tutorial for multiapps (e.g. not single-matrix approach)\nhttps://mooseframework.inl.gov/getting_started/examples_and_tutorials/tutorial02_multiapps/presentation/index.html#/\nAnd this example for regular coupling\nhttps://mooseframework.inl.gov/getting_started/examples_and_tutorials/examples/ex03_coupling.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27970#discussioncomment-9860659",
                  "updatedAt": "2024-06-24T13:21:43Z",
                  "publishedAt": "2024-06-24T13:21:42Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Unable to start Peacock",
          "author": {
            "login": "shin-chan-cpu"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nIssue or question about MOOSE\nI installed Peacock under Ubuntu, and I added export PATH =  \"/home/wangyaofeng/projects/moose/python/peacock: $PATH\" to~/.bashrc,/bash_profile and/.profile .This command,peacock is also clearly in this directory, but the feedback from the end point is still peacock: command not found, I don't know where the problem occurs?\nDiagnostics for MOOSE installation issues\n[Optional] Output of the diagnostics scripts. To run the script: cd ~/projects/moose/scripts; ./diagnostics.sh",
          "url": "https://github.com/idaholab/moose/discussions/27969",
          "updatedAt": "2024-06-26T07:03:10Z",
          "publishedAt": "2024-06-24T03:05:29Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nwhat does \"echo $PATH\" report?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9855416",
                  "updatedAt": "2024-06-24T03:12:04Z",
                  "publishedAt": "2024-06-24T03:12:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "shin-chan-cpu"
                          },
                          "bodyText": "it report these /home/wangyaofeng/miniforge/envs/peacock/bin:/home/wangyaofeng/miniforge/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin",
                          "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9855885",
                          "updatedAt": "2024-06-24T04:43:35Z",
                          "publishedAt": "2024-06-24T04:43:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "seems it did not work then. It should have /home/wangyaofeng/projects/moose/python/peacock in there\nso try:\nexport PATH=/home/wangyaofeng/projects/moose/python/peacock:$PATH",
                          "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9856024",
                          "updatedAt": "2024-06-24T05:12:02Z",
                          "publishedAt": "2024-06-24T05:12:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "shin-chan-cpu"
                          },
                          "bodyText": "It still doesn't work. Does this have a lot to do with my. bash_profile file being empty? I created this file",
                          "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9856086",
                          "updatedAt": "2024-06-24T05:23:32Z",
                          "publishedAt": "2024-06-24T05:23:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "which shell are you using?\nwhat does echo $0 return?\nis the PATH as expected now?",
                          "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9856128",
                          "updatedAt": "2024-06-24T05:29:54Z",
                          "publishedAt": "2024-06-24T05:29:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "shin-chan-cpu"
                          },
                          "bodyText": "it returns bash,but it doesn't exist .bash_profile, I just build it and expexted PATH",
                          "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9856340",
                          "updatedAt": "2024-06-24T05:59:59Z",
                          "publishedAt": "2024-06-24T05:59:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "explicitly, what does the following report:\ncat ~/.bash_profile\nAlso if you literally entered what you say you entered in your original post, it will not work (all these spaces need to go away):\nPATH = \"/home/wangyaofeng/projects/moose/python/peacock: $PATH\" \nneeds to be:\nexport PATH=\"/home/wangyaofeng/projects/moose/python/peacock:$PATH\"",
                          "url": "https://github.com/idaholab/moose/discussions/27969#discussioncomment-9860518",
                          "updatedAt": "2024-06-24T13:07:54Z",
                          "publishedAt": "2024-06-24T13:07:53Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}