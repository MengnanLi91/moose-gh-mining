{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0wOC0wMlQwMjoxODoxNi0wNTowMM4AauMa"
    },
    "edges": [
      {
        "node": {
          "title": "Nonlinear solve did not converge due to DIVERGED_FUNCTION_DOMAIN iterations 0",
          "author": {
            "login": "batodon"
          },
          "bodyText": "Hello,\nMy residual is blowing up, and as a result, I\u2019m getting the following convergence error:\nExceeded maximum iterations in material return mapping iterations.\nAt element 0 _qp=0 Coordinates (x,y,z)=(0.0704416, 0.0704416, 0.0704416) block=0\nIn 1000 iterations the residual went from 7.97616 to -2.18199e-07 in '_L2creep'.\n\nNonlinear solve did not converge due to DIVERGED_LINE_SEARCH iterations 0\n Solve Did NOT Converge!\nAborting as solve did not converge\n\nI tried to diagnose this problem by following ticket #22879. Essentially, I set the iteration debug output (i.e., internal_solve_full_iteration_history = true) and got the following:\nTime Step 1, time = 1, dt = 1\n 0 Nonlinear |R| = 9.523810e+04\n      0 Linear |R| = 9.523810e+04\n      1 Linear |R| = 4.555488e+04\n      2 Linear |R| = 2.511679e+04\n      3 Linear |R| = 1.156536e+04\n      4 Linear |R| = 1.910802e+03\n      5 Linear |R| = 4.316847e+02\n      6 Linear |R| = 8.849127e+01\n      7 Linear |R| = 2.839239e+01\n      8 Linear |R| = 1.307449e+01\n      9 Linear |R| = 2.801251e+00\n     10 Linear |R| = 5.719268e-01\nExceeded maximum iterations in material return mapping iterations.\n  Line search alpha = 0.701051 increment = 0.0354727\n iteration=0 trial_stress=479743 scalar=0.0354727 residual=0.12087 ref_res=0.172416 rel_res=0.701036 rel_tol=1e-08 abs_res=0.12087 abs_tol=1e-11\n  Line search alpha = 0.730855 increment = 0.00224394\n iteration=1 trial_stress=479743 scalar=0.0377166 residual=0.0146914 ref_res=0.170172 rel_res=0.0863325 rel_tol=1e-08 abs_res=0.0146914 abs_tol=1e-11\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=2 trial_stress=479743 scalar=0.0383164 residual=-0.00104901 ref_res=0.169572 rel_res=0.00618624 rel_tol=1e-08 abs_res=0.00104901 abs_tol=1e-11\n  Line search alpha = 0.120924 increment = -3.22222e-06\n iteration=3 trial_stress=479743 scalar=0.0383131 residual=0.0105176 ref_res=0.169575 rel_res=0.062023 rel_tol=1e-08 abs_res=0.0105176 abs_tol=1e-11\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=4 trial_stress=479743 scalar=0.0383147 residual=0.0188737 ref_res=0.169574 rel_res=0.111301 rel_tol=1e-08 abs_res=0.0188737 abs_tol=1e-11\n  Line search alpha = 0.941916 increment = 0.000451578\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=5 trial_stress=479743 scalar=0.0383156 residual=0.0250762 ref_res=0.169573 rel_res=0.147879 rel_tol=1e-08 abs_res=0.0250762 abs_tol=1e-11\n  Line search alpha = 0.865373 increment = 0.000551223\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=6 trial_stress=479743 scalar=0.038316 residual=0.0296727 ref_res=0.169572 rel_res=0.174985 rel_tol=1e-08 abs_res=0.0296727 abs_tol=1e-11\n  Line search alpha = 0.833451 increment = 0.000628201\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=7 trial_stress=479743 scalar=0.0383162 residual=0.0330754 ref_res=0.169572 rel_res=0.195052 rel_tol=1e-08 abs_res=0.0330754 abs_tol=1e-11\n  Line search alpha = 0.816546 increment = 0.000686037\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=8 trial_stress=479743 scalar=0.0383163 residual=0.0355925 ref_res=0.169572 rel_res=0.209896 rel_tol=1e-08 abs_res=0.0355925 abs_tol=1e-11\n  Line search alpha = 0.806459 increment = 0.000729127\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=9 trial_stress=479743 scalar=0.0383163 residual=0.0374537 ref_res=0.169572 rel_res=0.220872 rel_tol=1e-08 abs_res=0.0374537 abs_tol=1e-11\n  Line search alpha = 0.800006 increment = 0.000761114\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=10 trial_stress=479743 scalar=0.0383163 residual=0.0388293 ref_res=0.169572 rel_res=0.228984 rel_tol=1e-08 abs_res=0.0388293 abs_tol=1e-11\n  Line search alpha = 0.795693 increment = 0.000784815\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=11 trial_stress=479743 scalar=0.0383163 residual=0.0398459 ref_res=0.169572 rel_res=0.234979 rel_tol=1e-08 abs_res=0.0398459 abs_tol=1e-11\n  Line search alpha = 0.792724 increment = 0.000802358\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=12 trial_stress=479743 scalar=0.0383164 residual=0.0405971 ref_res=0.169572 rel_res=0.239409 rel_tol=1e-08 abs_res=0.0405971 abs_tol=1e-11\n  Line search alpha = 0.790639 increment = 0.000815333\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=13 trial_stress=479743 scalar=0.0383164 residual=0.041152 ref_res=0.169572 rel_res=0.242681 rel_tol=1e-08 abs_res=0.041152 abs_tol=1e-11\n  Line search alpha = 0.789155 increment = 0.000824926\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=14 trial_stress=479743 scalar=0.0383164 residual=0.0415619 ref_res=0.169572 rel_res=0.245099 rel_tol=1e-08 abs_res=0.0415619 abs_tol=1e-11\n  Line search alpha = 0.788087 increment = 0.000832017\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=15 trial_stress=479743 scalar=0.0383164 residual=0.0418648 ref_res=0.169572 rel_res=0.246885 rel_tol=1e-08 abs_res=0.0418648 abs_tol=1e-11\n  Line search alpha = 0.787313 increment = 0.000837256\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=16 trial_stress=479743 scalar=0.0383164 residual=0.0420885 ref_res=0.169572 rel_res=0.248204 rel_tol=1e-08 abs_res=0.0420885 abs_tol=1e-11\n  Line search alpha = 0.78675 increment = 0.000841128\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=17 trial_stress=479743 scalar=0.0383164 residual=0.0422537 ref_res=0.169572 rel_res=0.249179 rel_tol=1e-08 abs_res=0.0422537 abs_tol=1e-11\n  Line search alpha = 0.786338 increment = 0.000843988\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=18 trial_stress=479743 scalar=0.0383164 residual=0.0423758 ref_res=0.169572 rel_res=0.249898 rel_tol=1e-08 abs_res=0.0423758 abs_tol=1e-11\n  Line search alpha = 0.786037 increment = 0.000846102\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=19 trial_stress=479743 scalar=0.0383164 residual=0.0424659 ref_res=0.169572 rel_res=0.25043 rel_tol=1e-08 abs_res=0.0424659 abs_tol=1e-11\n  Line search alpha = 0.785815 increment = 0.000847663\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=20 trial_stress=479743 scalar=0.0383164 residual=0.0425325 ref_res=0.169572 rel_res=0.250823 rel_tol=1e-08 abs_res=0.0425325 abs_tol=1e-11\n  Line search alpha = 0.785652 increment = 0.000848816\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=21 trial_stress=479743 scalar=0.0383164 residual=0.0425817 ref_res=0.169572 rel_res=0.251113 rel_tol=1e-08 abs_res=0.0425817 abs_tol=1e-11\n  Line search alpha = 0.785532 increment = 0.000849667\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=22 trial_stress=479743 scalar=0.0383164 residual=0.042618 ref_res=0.169572 rel_res=0.251327 rel_tol=1e-08 abs_res=0.042618 abs_tol=1e-11\n  Line search alpha = 0.785443 increment = 0.000850297\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=23 trial_stress=479743 scalar=0.0383164 residual=0.0426449 ref_res=0.169572 rel_res=0.251485 rel_tol=1e-08 abs_res=0.0426449 abs_tol=1e-11\n  Line search alpha = 0.785378 increment = 0.000850761\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=24 trial_stress=479743 scalar=0.0383164 residual=0.0426647 ref_res=0.169572 rel_res=0.251602 rel_tol=1e-08 abs_res=0.0426647 abs_tol=1e-11\n  Line search alpha = 0.78533 increment = 0.000851105\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=25 trial_stress=479743 scalar=0.0383164 residual=0.0426794 ref_res=0.169572 rel_res=0.251689 rel_tol=1e-08 abs_res=0.0426794 abs_tol=1e-11\n  Line search alpha = 0.785294 increment = 0.000851358\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=26 trial_stress=479743 scalar=0.0383164 residual=0.0426902 ref_res=0.169572 rel_res=0.251752 rel_tol=1e-08 abs_res=0.0426902 abs_tol=1e-11\n  Line search alpha = 0.785268 increment = 0.000851546\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=27 trial_stress=479743 scalar=0.0383164 residual=0.0426982 ref_res=0.169572 rel_res=0.251799 rel_tol=1e-08 abs_res=0.0426982 abs_tol=1e-11\n  Line search alpha = 0.785249 increment = 0.000851684\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=28 trial_stress=479743 scalar=0.0383164 residual=0.0427041 ref_res=0.169572 rel_res=0.251834 rel_tol=1e-08 abs_res=0.0427041 abs_tol=1e-11\n  Line search alpha = 0.785234 increment = 0.000851786\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=29 trial_stress=479743 scalar=0.0383164 residual=0.0427084 ref_res=0.169572 rel_res=0.25186 rel_tol=1e-08 abs_res=0.0427084 abs_tol=1e-11\n  Line search alpha = 0.785224 increment = 0.000851862\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=30 trial_stress=479743 scalar=0.0383164 residual=0.0427116 ref_res=0.169572 rel_res=0.251879 rel_tol=1e-08 abs_res=0.0427116 abs_tol=1e-11\n  Line search alpha = 0.785216 increment = 0.000851917\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=31 trial_stress=479743 scalar=0.0383164 residual=0.042714 ref_res=0.169572 rel_res=0.251893 rel_tol=1e-08 abs_res=0.042714 abs_tol=1e-11\n  Line search alpha = 0.78521 increment = 0.000851959\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=32 trial_stress=479743 scalar=0.0383164 residual=0.0427158 ref_res=0.169572 rel_res=0.251903 rel_tol=1e-08 abs_res=0.0427158 abs_tol=1e-11\n  Line search alpha = 0.785206 increment = 0.000851989\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=33 trial_stress=479743 scalar=0.0383164 residual=0.0427171 ref_res=0.169572 rel_res=0.251911 rel_tol=1e-08 abs_res=0.0427171 abs_tol=1e-11\n  Line search alpha = 0.785203 increment = 0.000852012\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=34 trial_stress=479743 scalar=0.0383164 residual=0.042718 ref_res=0.169572 rel_res=0.251917 rel_tol=1e-08 abs_res=0.042718 abs_tol=1e-11\n  Line search alpha = 0.785201 increment = 0.000852028\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=35 trial_stress=479743 scalar=0.0383164 residual=0.0427187 ref_res=0.169572 rel_res=0.251921 rel_tol=1e-08 abs_res=0.0427187 abs_tol=1e-11\n  Line search alpha = 0.785199 increment = 0.00085204\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=36 trial_stress=479743 scalar=0.0383164 residual=0.0427193 ref_res=0.169572 rel_res=0.251924 rel_tol=1e-08 abs_res=0.0427193 abs_tol=1e-11\n  Line search alpha = 0.785198 increment = 0.000852049\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=37 trial_stress=479743 scalar=0.0383164 residual=0.0427196 ref_res=0.169572 rel_res=0.251926 rel_tol=1e-08 abs_res=0.0427196 abs_tol=1e-11\n  Line search alpha = 0.785197 increment = 0.000852056\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=38 trial_stress=479743 scalar=0.0383164 residual=0.0427199 ref_res=0.169572 rel_res=0.251928 rel_tol=1e-08 abs_res=0.0427199 abs_tol=1e-11\n  Line search alpha = 0.785196 increment = 0.000852061\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=39 trial_stress=479743 scalar=0.0383164 residual=0.0427201 ref_res=0.169572 rel_res=0.251929 rel_tol=1e-08 abs_res=0.0427201 abs_tol=1e-11\n  Line search alpha = 0.785196 increment = 0.000852065\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=40 trial_stress=479743 scalar=0.0383164 residual=0.0427203 ref_res=0.169572 rel_res=0.25193 rel_tol=1e-08 abs_res=0.0427203 abs_tol=1e-11\n  Line search alpha = 0.785195 increment = 0.000852067\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=41 trial_stress=479743 scalar=0.0383164 residual=0.0427204 ref_res=0.169572 rel_res=0.251931 rel_tol=1e-08 abs_res=0.0427204 abs_tol=1e-11\n  Line search alpha = 0.785195 increment = 0.000852069\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=42 trial_stress=479743 scalar=0.0383164 residual=0.0427205 ref_res=0.169572 rel_res=0.251931 rel_tol=1e-08 abs_res=0.0427205 abs_tol=1e-11\n  Line search alpha = 0.785195 increment = 0.000852071\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=43 trial_stress=479743 scalar=0.0383164 residual=0.0427206 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427206 abs_tol=1e-11\n  Line search alpha = 0.785195 increment = 0.000852072\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=44 trial_stress=479743 scalar=0.0383164 residual=0.0427206 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427206 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852073\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=45 trial_stress=479743 scalar=0.0383164 residual=0.0427206 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427206 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852073\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=46 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852074\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=47 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852074\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=48 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852074\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=49 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=50 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251932 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n.......\n.......\n.......\n\n iteration=951 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=952 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=953 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=954 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=955 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=956 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=957 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=958 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=959 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=960 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=961 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=962 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=963 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=964 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=965 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=966 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=967 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=968 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=969 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=970 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=971 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=972 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=973 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=974 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=975 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=976 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=977 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=978 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=979 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=980 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=981 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=982 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=983 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=984 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=985 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=986 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=987 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=988 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=989 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=990 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=991 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=992 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=993 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=994 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=995 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=996 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=997 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=998 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\n  Line search alpha = 0.785194 increment = 0.000852075\n  Trial scalar_increment exceeded bounds.  Setting between lower/upper bounds. frac: 0.5\n iteration=999 trial_stress=479743 scalar=0.0383164 residual=0.0427207 ref_res=0.169572 rel_res=0.251933 rel_tol=1e-08 abs_res=0.0427207 abs_tol=1e-11\nAt element 0 _qp=0 Coordinates (x,y,z)=(0.0704416, 0.0704416, 0.0704416) block=0\nIn 1000 iterations the residual went from 1.99197 to 0.0427207 in '_L2creep'.\n\nNonlinear solve did not converge due to DIVERGED_LINE_SEARCH iterations 0\n Solve Did NOT Converge!\n\n(Note: I showed only the first 50 and the last 50 iterations here.)\nI vary the error tolerances a bit by setting nl_rel_tol = 1e-8 and nl_abs_tol = 1e-11, but I'm still getting the convergence error. Please, help. What error tolerance will you recommend? Thanks.",
          "url": "https://github.com/idaholab/moose/discussions/23104",
          "updatedAt": "2024-08-04T06:02:37Z",
          "publishedAt": "2023-01-07T20:58:01Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nCan you first turn off the linear search\nIn [Executioner], line_search = none\nYou could tighten the linear solve tolerance, I suspect the calculation that fails here is the 2nd nonlinear iteration residual calculation\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/23104#discussioncomment-4624525",
                  "updatedAt": "2023-01-08T10:26:49Z",
                  "publishedAt": "2023-01-08T10:26:48Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "batodon"
                          },
                          "bodyText": "Ok, thanks, @GiudGiud . I think I may have found the solution. My moose (numerical) solution now matches my analytical solution for Lubby2, as you can see below. There is a slight deviation between 5 to 10 days, but it's fine. The only thing is that I got these results by multiplying my numerical results by a factor of 0.1. My analytical solution is in percentage (i.e., I multiplied the actual results by 100%). In reality, I should be multiplying my numerical results too by 100%. It shows that my numerical results are higher than the analytical solution by a factor of 1000. I don't know if I have to implement a correction factor somewhere or not. If you could help with a suggestion, that would be awesome. Thanks.",
                          "url": "https://github.com/idaholab/moose/discussions/23104#discussioncomment-4630004",
                          "updatedAt": "2023-01-09T05:51:28Z",
                          "publishedAt": "2023-01-09T05:51:28Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Hi\nI dont have any insight on why they would be different that much.\nI would double check the units of both the analytical and numerical model.\nMaybe plot other quantities that you can obtain analytically and see if everything agrees well / where the difference appears\nGuillaume",
                          "url": "https://github.com/idaholab/moose/discussions/23104#discussioncomment-4632852",
                          "updatedAt": "2023-01-09T12:11:22Z",
                          "publishedAt": "2023-01-09T12:11:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "batodon"
                          },
                          "bodyText": "Thanks, Guillaume. I\u2019ll consider it and let you know shortly.",
                          "url": "https://github.com/idaholab/moose/discussions/23104#discussioncomment-4635153",
                          "updatedAt": "2023-01-09T16:06:03Z",
                          "publishedAt": "2023-01-09T16:06:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "batodon"
                          },
                          "bodyText": "Yeah, I found the bug...Thanks @GiudGiud",
                          "url": "https://github.com/idaholab/moose/discussions/23104#discussioncomment-4638309",
                          "updatedAt": "2023-01-09T21:29:21Z",
                          "publishedAt": "2023-01-09T21:29:20Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Multiapps coupling problem",
          "author": {
            "login": "shin-chan-cpu"
          },
          "bodyText": "Since the convergence of thermal-mechanical coupling is not good when calculated separately, I want to put the stress field and temperature field into two cards to calculate and use multiapp to transfer, hoping to improve the convergence. It is possible to calculate each card separately, but the first step after using multiapp will report that the error has been killed. What is the problem with my settings and how can I improve it?\nHere are my two input cards. The first one calculates stress and strain, and the other one calculates temperature\uff1a\n[Mesh]\n  type = MeshGeneratorMesh\n  displacements = 'disp_x disp_y disp_z'\n# uniform_refine = 2\n  [./fmg]\n  type = FileMeshGenerator\n  file = SBEND.exo\n  [../]\n  [./transform]\n  type = TransformGenerator\n  input = fmg\n  transform = SCALE\n  vector_value = '1 1 1'\n  [../]\n[]\n\n[GlobalParams]\n  displacements = 'disp_x disp_y disp_z'\n[]\n[NodalNormals]\n[]\n\n[AuxVariables]\n [./temperature]\n    order = FIRST\n    family = LAGRANGE\n  [../]\n   [./pressure]\n    family=MONOMIAL\n    order = CONSTANT\n  [../]\n[]\n\n  [Functions]\n \n    [cp_func]\n      type = PiecewiseLinear\n      x = '20 220 420 620 820 1020'\n      y = '460 460 460 460 460 460 ' # [J/(kg\u00b7K)]\n    []\n    [k_func]\n      type = PiecewiseLinear\n      x = '20 220 420 620 820 1020'\n      y = '13.4 14 14.6 15 15.3 15.5' # [W/(m\u00b7K)]\n    []\n \n    [c_thermalstrain_func]\n      type = PiecewiseLinear\n      x = '373 473 573 673 773 873 973 8000'\n      y = '1.66e-5 1.7e-5 1.72e-5 1.75e-5 1.79e-5 1.82e-5 1.86e-5 1.86e-5'\n    []\n  []\n  \n\n[Modules]\n[./TensorMechanics]\n  [./Master]\n    [./all]\n    strain = FINITE\n    add_variables = true\n   # use_displaced_mesh = true\n    use_finite_deform_jacobian = true\n    generate_output = 'hydrostatic_stress stress_xx stress_yy stress_zz vonmises_stress creep_strain_xx creep_strain_xy creep_strain_xz   strain_xx   strain_xy     strain_xz '\n    eigenstrain_names = eigenstrain\n\t[../]\n  [../]\n  [../]\n[]\n\n[ICs]\n  [./temp_ic]\n    variable = temperature\n    type = ConstantIC\n    value = 300\n  [../]\n  [./prerssure_ic]\n    variable = pressure\n    type = ConstantIC\n    value = 1e5\n  [../]\n[]\n\n\n[BCs]\n[./Pressure]\n  [./Side1]\n    boundary = 'other'\n    factor = 5e5\n    displacements = 'disp_x disp_y disp_z'\n  [../]\n[../]  \n \n \n[./anchora_x]\n type=DirichletBC\n variable= disp_x\n boundary='gudingall'\n value=0.0\n [../]\n [./anchora_y]\n type=DirichletBC\n variable= disp_y\n boundary='gudingall'\n value=0.0\n [../]\n [./anchora_z]\n type=DirichletBC\n variable= disp_z\n boundary='gudingall'\n value=0.0\n [../]\n   [./anchora_y1]\n type=DirichletBC\n variable= disp_y\n boundary='gudingyz'\n value=0.0\n [../]\n  [./anchora_z1]\n type=DirichletBC\n variable= disp_z\n boundary='gudingyz'\n value=0.0\n [../]\n[]\n\n [Materials]\n    [youngs_modulus]\n      type = PiecewiseLinearInterpolationMaterial\n      x = '293 573 873 973 1073 8000'\n      y = '17.5e9 16.3e9 15.2e9 14.0e9 12.9e9 11.7e9'\n      property = youngs_modulus\n      variable = temperature\n    []\n    [poissons_ratio]\n      type = PiecewiseLinearInterpolationMaterial\n      x = '20 220 420 620 820 1020'\n      y = '0.3 0.3 0.3 0.3 0.3 0.3'\n      property = poissons_ratio\n      variable = temperature\n    []\n    [elasticity_tensor]\n      type = ComputeVariableIsotropicElasticityTensor\n      args = temperature\n      youngs_modulus = youngs_modulus\n      poissons_ratio = poissons_ratio\n    []  \n  [./radial_return_stress]\n    type = ComputeMultipleInelasticStress\n    block = 'ti-HEX ti-TETRA ti-PYRAMID'\n    inelastic_models = 'powerlawcrp'\n  [../]\n  [./powerlawcrp]\n    type = NonPowerLawCreepStressUpdate\n   block = 'ti-HEX ti-TETRA ti-PYRAMID'\n   coefficient = 1.6E-4\n    n_exponent = 2.1\n    m_exponent = 0\n    activation_energy = 88627.24\n    max_inelastic_increment = 0.01\n\t temperature = temperature\n  [../]\n  [thermal_strain]\n      type = ComputeInstantaneousThermalExpansionFunctionEigenstrain\n      thermal_expansion_function = c_thermalstrain_func\n      stress_free_temperature = 300\n      temperature = temperature\n      eigenstrain_name = eigenstrain\n  []\n[]\n\n[Preconditioning]\n  [./smp]\n    type = SMP\n    full = true\n  [../]\n[]\n  \n[MultiApps]\n  [./sub]\n    type = TransientMultiApp\n    input_files = 'SBEND.i'\n    sub_cycling = true\n    interpolate_transfers = true\n  [../]\n[]\n[Transfers]\n  [./from_sub]\n    source_variable = temperature\n    direction = from_multiapp\n    variable = temperature\n    type = MultiAppCopyTransfer\n    multi_app = sub\n  [../]\n   [./to_sub_disp_x]\n    source_variable = disp_x\n    direction = to_multiapp\n    variable = disp_x\n    type = MultiAppCopyTransfer\n    multi_app = sub\n  [../]\n  [./to_sub_disp_y]\n    source_variable = disp_y\n    direction = to_multiapp\n    variable = disp_y\n    type = MultiAppCopyTransfer\n    multi_app = sub\n  [../]\n  [./to_sub_disp_z]\n    source_variable = disp_z\n    direction = to_multiapp\n    variable = disp_z\n    type = MultiAppCopyTransfer\n    multi_app = sub\n  [../]\n  []\n\n  \n  \n[VectorPostprocessors]\n  [./nodal_sample_T]\n    type = NodalValueSampler\n    variable = temperature\n  boundary = 're'\n    sort_by = x\n    outputs = 'surface_T'\n  [../]\n  [./nodal_sample_disp]\n    type = NodalValueSampler\n    variable = 'disp_x disp_y disp_z'\n  boundary = 're'#\u6539\u52a8\u6539\u52a8\u6539\u52a8\u6539\u52a8\n    sort_by = x\n    outputs = 'surface_disp'\n  [../]\n[]\n\n\n[Executioner]\n  type = Transient\n # solve_type = 'Linear'\n solve_type = 'NEWTON'\n\n  petsc_options = '-snes_converged_reason'\n  petsc_options_iname = '-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart'\n  petsc_options_value = ' asm      2              lu            gmres     200'\n\n  line_search = bt\n timestep_tolerance = 0.001\n nl_abs_tol = 1e-5\n  nl_rel_tol = 1e-6\n\n  l_max_its = 500\n  nl_max_its = 100\n  start_time = 0 \n  end_time = 60\n   \n  dt = 2\n\n  \n  \n[]\n\n\n [Outputs]\n checkpoint=true\n #execute_on = 'timestep_end'\n [./exodus]\n    type = Exodus\n\t#interval = 300\n [../]\n  [./tecplot]\n    type = Tecplot\n\tuse_displaced = true\n   # interval = 300\n  [../]\n [./surface_T]\n    type = CSV\n  #  time_data = true\n  #  time_column = true\n   use_displaced = true\n   # interval = 300\n [../]\n  [./surface_disp]\n    type = CSV\n  #  time_data = true\n  #  time_column = true\n   use_displaced = true\n   # interval = 300\n [../]\n[]\n\n[Mesh]\n  type = MeshGeneratorMesh\n  displacements = 'disp_x disp_y disp_z'\n#uniform_refine = 1\n  [./fmg]\n  type = FileMeshGenerator\nfile = SBEND.exo#\n[../]\n [./transform]\n  type = TransformGenerator\n  input = fmg\n  transform = SCALE\n  vector_value =  '1 1 1'#\n  [../]\n[]\n\n[Variables]\n  [./temperature]\n  [../]\n[]\n\n[ICs]\n  [./temp_ic]\n    variable = temperature\n    type = ConstantIC\n    value = 300#\n  [../]\n[]\n\n[Functions]\n\n    [cp_func]\n      type = PiecewiseLinear\n      x = '373 473 573 673 773 873 973 1073 1173 8000'\n      y = '501.6 501.6 501.6 501.6 501.6 501.6 501.6 501.6 501.6 501.6 ' # [J/(kg\u00b7K)]\n    []\n    [k_func]\n      type = PiecewiseLinear\n      x = '373 473 573 673 773 873 973 1073 1173 8000'\n      y = '16.3 17.6 18.8 20.5 21.8 23.5 24.7 26.4 28.5 28.5' # [W/(m\u00b7K)]\n    []\n\n    [c_thermalstrain_func]\n      type = PiecewiseLinear\n      x = '373 473 573 673 773 873 973 8000'\n      y = '1.66e-5 1.7e-5 1.72e-5 1.75e-5 1.79e-5 1.82e-5 1.86e-5 1.86e-5'\n    []\n[]\n\n[AuxVariables]\n [./disp_x]\n  [../]\n  [./disp_y]\n  [../]\n  [./disp_z]\n  [../]\n[]\n\n\n[Kernels]\n  [./temporal]\n    type = HeatConductionTimeDerivative\n    variable = temperature\n\t#use_displaced_mesh = true\n\t#displacements='disp_x disp_y disp_z'\n  [../]\n  [./diff]\n    type = HeatConduction\n    variable = temperature\n  [../]\n  \n[]\n\n\n[BCs]\n  [./cold]\n     type = NeumannBC\n    variable = temperature\n  boundary = 're'#\n   value= 7.5e5\n  [../]\n[]\n\n[Materials]\n    [density]\n      type = Density\n      density = 7930\n      displacements = 'disp_x disp_y disp_z'\n    []  \n    [heat]\n      type = HeatConductionMaterial\n      specific_heat_temperature_function = cp_func\n      thermal_conductivity_temperature_function = k_func\n      temp = temperature\n    []\n # [./material_compute_heatflux]\n   # type = ComputeNonablationHeatfluxMaterial\n  #boundary = 're'#\n  #  temperature_varialble = temperature\n\n  #[../]\n \n[]\n\n[VectorPostprocessors]\n  [./nodal_sample]\n    type = NodalValueSampler\n    variable = temperature\n  boundary = 're'#\n    sort_by = x\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = newton\n   timestep_tolerance = 0.01\n  l_tol = 1e-06\n  nl_rel_tol = 1e-04\n  l_max_its = 10\n  nl_max_its = 1000\n  petsc_options_iname = '-pc_type -pc_hypre_type'\n  petsc_options_value = 'hypre boomeramg'\n \n  dt = 2 #\n  start_time = 0\n  end_time = 60\n   \n  \n    # [./TimeStepper] #\n  #  type = FunctionDT\n  #  time_t =  '0 1 4 10 100 1000'\n  #  time_dt = '0.25 0.5 1 10 100 100'\n # [../]\n  \n[]\n[Outputs]\ncheckpoint=true\n\n [./exodus]\n    type = Exodus\n\tuse_displaced = true\n    interval = 1\n  [../]\n  [./tecplot]\n    type = Tecplot\n\tuse_displaced = true\n    interval = 1\n  [../]\n  [./temp]\n  type = CSV\n  use_displaced = true\n  interval = 1\n  [../]\n[]",
          "url": "https://github.com/idaholab/moose/discussions/28304",
          "updatedAt": "2024-08-04T02:11:00Z",
          "publishedAt": "2024-08-04T02:10:59Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": []
          }
        }
      },
      {
        "node": {
          "title": "Problems with the using AreaPostprocessor on a Generated Mesh",
          "author": {
            "login": "TLWise"
          },
          "bodyText": "I created a mesh using two instances of AnnularMeshGenerator, that I then stitched, using StitchedMeshGenerato, which I the extruded using AdvancedExtruderGenerator, with bias. I attempted to determine the surface area of the endpoint of the generated mesh with the AreaPostprocessor. It did not work. On previous .e file the AreaPostprocessor worked fine. Any ideas of why it does not work with the generated mesh?",
          "url": "https://github.com/idaholab/moose/discussions/28303",
          "updatedAt": "2024-08-04T01:20:07Z",
          "publishedAt": "2024-08-04T01:01:15Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "TLWise"
                  },
                  "bodyText": "The culprit was me using find and replace, to replace my previous named boundaries with the new generated boundary names that replaced words with numbers. The use of numbers in the names of the postprocessors seem to have been the issue.",
                  "url": "https://github.com/idaholab/moose/discussions/28303#discussioncomment-10233011",
                  "updatedAt": "2024-08-04T01:19:53Z",
                  "publishedAt": "2024-08-04T01:19:52Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Mesh reset occurs with change in step or time period",
          "author": {
            "login": "JAWilliams123"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello everyone,\nI am running a simulation to form a rectangular hollow section (RHS) from a circular hollow section (CHS). Rollers are used, top and side, and then I would like to rotate the rollers along the length of the CHS. My issue is that the rollers are reset into their original position after the displacement step. I have tried StepPeriod as well as TimePeriod without success. The input file is provided below and I would be very grateful for any advice on how to get this going. As a side note, I used DisplacementAboutAxis for the rotation but when executed on the deformed mesh using use_displaced_mesh = true the rollers turn in on themselves, so I used ParsedFunction of my own for the rotation.\nMany thanks,\nJW\n# This test case creates a rectangular hollow section (RHS)\n# from a circular hollow section (CHS). \n\n[GlobalParams]\n  volumetric_locking_correction = true\n  displacements = 'disp_x disp_y disp_z'\n[]\n\n[Mesh]\n  [mFile]\n   # Read mesh from file\n    type = FileMeshGenerator\n    file = roller_form_hex8_move30_4_thin_coarse.e\n  []\n\n  [create_sideset]\n    type = SideSetsFromNodeSetsGenerator\n    input = mFile\n  []\n\n   length_unit = m\n   patch_update_strategy = iteration\n   patch_size = 20\n   allow_renumbering = true\n[]\n\n[Physics]\n  [SolidMechanics]\n    [QuasiStatic]\n      # Parameters that apply to all subblocks are specified at this level.\n      # They can be overwritten in the subblocks.\n      add_variables = true\n      #incremental = false\n      strain = FINITE\n      use_automatic_differentiation = true\n      use_finite_deform_jacobian = true\n      generate_output = 'stress_xx stress_xy stress_xz stress_yy stress_zz vonmises_stress'\n      [block]\n        block = 'TROLLER SROLLER CHS'\n      []\n    []\n  []\n[]\n\n[Functions]\n  [stress_strain_curve_steel]\n    # Stress Strain Curve for Plastic material (steel)\n    type = PiecewiseLinear\n    x = '0.000 0.012 0.050 0.100 0.150 0.200 0.280'\n    y = '185.0e6 225.0e6 290.0e6 340.0e6 370.0e6 385.0e6 405.0e6'\n  []\n  [stress_strain_curve_al]\n    # Stress Strain Curve for Plastic material (steel)\n    type = PiecewiseLinear\n    x = '0.000  0.002  0.025   0.050    0.075  0.100   0.150    0.175'\n    y = '75.0e6 82.0e6 116.0e6 140.0e6  150e6  162.0e6 164.0e6 168.0e6'\n  []\n\n  [roller_step1]\n    type = PiecewiseLinear\n    x = '0    0.0250    0.0500    0.0750    0.1000    0.1250    0.1500    0.1750    0.2000    0.2250    0.2500   0.3000  0.5000  1.0000  2.0000  3.0000'\n    y = '0    0.1000    0.2000    0.3000    0.4000    0.5000    0.6000    0.7000    0.8000    0.9000    1.0000   1.0000  1.0000  1.0000  1.0000  1.0000'\n  []\n  [roller_step2]\n    type = PiecewiseLinear\n    x = '0.2500     0.4792    0.7083    0.9375    1.1667    1.3958    1.6250    1.8542    2.0833    2.3125    2.5417    2.7708    3.0000'\n    #y = '1.000      1.0833    1.1667    1.2500    1.3333    1.4167    1.5000    1.5833    1.6667    1.7500    1.8333    1.9167    2.0000'\n    y = '0.000     0.0833    0.1667    0.2500    0.3333    0.4167    0.5000    0.5833    0.6667    0.7500    0.8333    0.9167    1.0000'\n  []\n\n  [disp_roller_step1]  # Roller initial displacement that forms RHS in Step 1\n    type = ParsedFunction\n    expression = 'vDisp * roller_step1' #* 4*t'\n    symbol_names = 'vDisp roller_step1'\n    symbol_values = '-6.0e-3 roller_step1'\n  []\n\n  [disp_CHS_step2] # Displacement of RHS CHS through rollers in Step 2\n    type = ParsedFunction\n    expression = 'alpha2 * roller_step2'#(0.3636*t-0.909)'\n    symbol_names = 'alpha2 roller_step2' \n    symbol_values = '-238.0e-3 roller_step2'\n  []\n\n\n  [x_rotation]\n    type = ParsedFunction\n    #expression = '(x0*cos(angle*pi/180) - y0*sin(angle*pi/180) - x0)'\n    expression =  '(x - x0)*(cos(alpha*angle*pi/180*roller_step2)-1) - (y - y0)*sin(alpha*angle*pi/180*roller_step2)'\n    symbol_names = 'alpha angle roller_step2 x0 y0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n  \n  [y_rotation]\n    type = ParsedFunction\n    #expression = '(y0*cos(angle*pi/180) + x0*sin(angle*pi/180) - y0)'\n    expression = '((x - x0)*sin(alpha*angle*pi/180*roller_step2) + (y - y0)*(cos(alpha*angle*pi/180*roller_step2)-1))'\n    symbol_names = 'alpha angle roller_step2 x0 y0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n\n  [z_rotation]\n    type = ParsedFunction\n    #expression = '(y0*cos(angle*pi/180) + x0*sin(angle*pi/180) - y0)'\n    expression = '((x - x0)*sin(alpha*angle*pi/180*roller_step2) + (z - z0)*(cos(alpha*angle*pi/180*roller_step2)-1))'\n    symbol_names = 'alpha angle roller_step2 x0 z0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n\n[]\n\n[Materials]\n  [elasticity_tensor_steel]\n    # Creates the elasticity tensor using steel parameters\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 210e9 # Pa\n    poissons_ratio = 0.3\n    block = 'TROLLER SROLLER'\n  []\n  [stress]\n    # Computes the stress, using linear elasticity\n    type = ComputeFiniteStrainElasticStress\n    block = 'TROLLER SROLLER'\n  []\n  [elasticity_tensor]\n    # Creates the elasticity tensor using aluminnium parameters\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 68e9 # Pa\n    poissons_ratio = 0.33\n    block = 'CHS'\n  []\n  [isotropic_plasticity]\n    type = IsotropicPlasticityStressUpdate\n    yield_stress = 75.0e6\n    hardening_function = stress_strain_curve_al\n    block = 'CHS'\n  []\n  [radial_return_stress]\n    type = ComputeMultipleInelasticStress\n    tangent_operator = elastic\n    inelastic_models = 'isotropic_plasticity'\n    block = 'CHS'\n  []\n  [density_steel]\n    # Defines the density of steel\n    type = GenericConstantMaterial\n    prop_names = 'density'\n    prop_values = '7850' # kg/m^3\n    block = 'TROLLER SROLLER CHS'\n  []\n[]\n\n # Centroid locations of rollers prior to vertical move\n #                x                       y                      z \n # SRoller    0.029999999931746      -0.006                 0.0770000003174603\n # TRoller    0.029999999931746       0.0770000003174603       0.006    \n\n[BCs]\n  # STEP 1\n\n  # Boundary Conditions - TRoller\n\n  # No x or z displacement of TRoller\n  [bc_fixed01_TRoller]\n    type = DirichletBC\n    variable = disp_x\n    preset = false\n    boundary = 'BCTRoller'\n    value = 0.0\n  []\n  [bc_fixed02_TRoller]\n    type = DirichletBC\n    variable = disp_z\n    #use_displaced_mesh = true \n    preset = false\n    boundary = 'BCTRoller'\n    value = 0.0\n  []\n\n  # Movement of TRoller to form RHS\n  [bc_disp01_TRoller]\n    type = FunctionDirichletBC\n    variable = disp_y\n    preset = true\n    #use_displaced_mesh = true \n    boundary = 'BCTRoller'\n    function = disp_roller_step1\n  []\n\n\n  # Boundary Conditions - SRoller\n\n  # No x or y displacement of SRoller\n  [bc_fixed01_SRoller]\n    type = DirichletBC\n    variable = disp_x\n    preset = false\n    boundary = 'BCSRoller'\n    value = 0.0\n  []\n  [bc_fixed02_SRoller]\n    type = DirichletBC\n    variable = disp_y\n    #use_displaced_mesh = true \n    preset = false\n    boundary = 'BCSRoller'\n    value = 0.0\n  []\n\n  # Movement of SRoller to form RHS\n  [bc_disp01_SRoller]\n    type = FunctionDirichletBC\n    variable = disp_z\n    preset = false\n    boundary = 'BCSRoller'\n    function = disp_roller_step1\n  []\n\n  # Boundary Conditions - CHS\n\n  # Fixity on free end of CHS as well as Y and Z symmetry faces\n  \n  [bc_fixed01_CHS]\n    type = DirichletBC\n    variable = disp_x\n    preset = false\n    boundary = 'XDispCHS'\n    value = 0.0\n  []\n  [bc_fixed02_CHS]\n    type = DirichletBC\n    variable = disp_z\n    preset = false\n    boundary = 'ZSymmetryCHS'\n    value = 0.0\n  []\n  [bc_fixed03_CHS]\n    type = DirichletBC\n    variable = disp_y\n    preset = false\n    boundary = 'YSymmetryCHS'\n    value = 0.0\n  []\n\n\n  # STEP 2\n\n  # Boundary Conditions - TRoller\n\n  # Rotation in the y and z direction of the TRoller\n\n  [rotate_x_TRoller]\n    type = FunctionDirichletBC\n    variable = disp_x\n    boundary = 'BCTRoller'\n    function = x_rotation\n    preset = false\n    use_displaced_mesh = false\n  []\n  \n  [rotate_y_TRoller]\n    type = FunctionDirichletBC\n    variable = disp_y\n    boundary = 'BCTRoller'\n    function = y_rotation\n    preset = false\n    use_displaced_mesh = false\n  []\n\n  # Fix displacement in z direction as part of rotation\n  # [bc_fixed02_TRoller]\n\n  # Boundary Conditions - SRoller\n\n  # Rotation in the x and z direction of the SRoller\n  [rotate_x_SRoller]\n    type = FunctionDirichletBC\n    variable = disp_x\n    boundary = 'BCSRoller'\n    function = x_rotation\n    preset = false\n    use_displaced_mesh = false\n  []\n  \n  [rotate_z_SRoller]\n    type = FunctionDirichletBC\n    variable = disp_z\n    boundary = 'BCSRoller'\n    function = z_rotation\n    preset = false\n    use_displaced_mesh = false\n  []\n\n  # Fix displacement in y direction as part of rotation\n  # [bc_fixed02_SRoller]\n\n\n  # Boundary Conditions - CHS\n\n  [bc_disp01_CHS]\n    type = FunctionDirichletBC\n    variable = disp_x\n    use_displaced_mesh = true \n    preset = false\n    boundary = 'XDispCHS'\n    function = disp_CHS_step2\n  []\n  # [bc_fixed02_CHS]\n  # [bc_fixed03_CHS]\n[]\n\n[Contact]\n  [troller_chs]\n    primary = TRoller_Contact\n    secondary = CHS_Contact\n    friction_coefficient = 0.4\n    model = coulomb\n    formulation = mortar_penalty\n    penalty = 68e9\n    penalty_friction = 1e4\n    use_dual = false\n  []\n  [sroller_chs]\n    primary = SRoller_Contact\n    secondary = CHS_Contact\n    friction_coefficient = 0.4\n    model = coulomb\n    formulation = mortar_penalty\n    penalty = 68e9\n    penalty_friction = 1e4\n    use_dual = false\n  []\n[]\n\n\n[Dampers]\n  [contact_slip01]\n    type = ContactSlipDamper\n    primary = 'TRoller_Contact SRoller_Contact'\n    secondary = 'CHS_Contact CHS_Contact'\n  []\n[]\n\n[Preconditioning]\n  [SMP]\n    type = SMP\n    full = true\n  []\n[]\n\n\n[Controls]\n  [step1]\n    # This step covers the formation of the RHS\n    type = TimePeriod\n    # Enable only BCs that move the rollers\n    enable_objects =\n    'BCs::bc_fixed01_TRoller BCs::bc_fixed02_TRoller BCs::bc_disp01_TRoller\n     BCs::bc_fixed01_SRoller BCs::bc_fixed02_SRoller BCs::bc_disp01_SRoller\n     BCs::bc_fixed01_CHS BCs::bc_fixed02_CHS BCs::bc_fixed03_CHS \n     TimeStepper::step1DT'\n    disable_objects = \n    'BCs::rotate_x_TRoller BCs::rotate_y_TRoller  \n     BCs::rotate_x_SRoller BCs::rotate_z_SRoller  \n     BCs::bc_disp01_CHS\n     TimeStepper::step2DT'\n    reverse_on_false = false\n    execute_on = 'initial timestep_end'\n    start_time = '0'\n    end_time = '0.25'\n    #step_user_object = step_uo\n    #set_sync_times = true\n    #step_number = 0\n  []\n  [step2]\n    # This step covers the formation of the RHS\n    type = TimePeriod\n    # Enable only BCs that move the rollers\n    enable_objects = \n    'BCs::rotate_x_TRoller BCs::rotate_y_TRoller BCs::bc_fixed02_TRoller BCs::bc_disp01_TRoller\n     BCs::rotate_x_SRoller BCs::rotate_z_SRoller BCs::bc_fixed02_SRoller BCs::bc_disp01_SRoller\n     BCs::bc_fixed02_CHS BCs::bc_fixed03_CHS BCs::bc_disp01_CHS\n    TimeStepper::step2DT'\n    disable_objects = \n    'BCs::bc_fixed01_TRoller \n     BCs::bc_fixed01_SRoller  \n     BCs::bc_fixed01_CHS \n     TimeStepper::step1DT'\n    reverse_on_false = false\n    #depends_on = 'step1'\n    execute_on = 'timestep_end'\n    start_time = '0.25'\n    end_time = '0.75'\n    #step_user_object = step_uo\n    #set_sync_times = true\n    #step_number = 1\n  []\n[]\n\n[Executioner]\n  type = Transient\n  scheme = 'crank-nicolson'\n  solve_type = 'NEWTON'\n\n  petsc_options = '-snes_converged_reason -ksp_converged_reason -snes_ksp_ew'\n  petsc_options_iname = '-pc_type -pc_factor_mat_solver_type -pc_factor_shift_type \n  -pc_factor_shift_amount '\n  petsc_options_value = 'lu mumps NONZERO 1e-15'\n  \n  \n  reuse_preconditioner = true\n  reuse_preconditioner_max_linear_its = 25\n\n  line_search_package = petsc\n\n  # Taken from frictionless_penalty_contact_line_search.i\n  line_search = 'contact'\n  contact_line_search_ltol = .5\n  contact_line_search_allowed_lambda_cuts = 0\n\n  # Total simulation time\n  end_time = 0.75\n  # Minimum and maximum time step sizes\n  dtmin = 1e-15\n  dtmax = 0.1\n\n  # Auto time stepping (similar to Abaqus and CalculiX)\n  [TimeSteppers]\n    [step1DT]\n      type = IterationAdaptiveDT\n      # Initial time step size\n      reset_dt = true\n      dt = 0.001\n      optimal_iterations = 6\n      iteration_window = 2\n      growth_factor = 1.2\n      cutback_factor = 0.8\n    []\n    [step2DT ]\n      type = IterationAdaptiveDT #ConstantDT\n      # Initial time step size\n      reset_dt = true\n      dt = 1e-4\n      optimal_iterations = 6\n      iteration_window = 2\n      growth_factor = 1.2\n      cutback_factor = 0.8\n    []\n  []\n \n  # Non-linear solver settings\n  nl_rel_tol = 1.5e-06\n  nl_abs_tol = 1.5e-06 # 6 if no friction\n  l_tol = 1e-3\n  l_max_its = 60\n  nl_max_its = 50\n  automatic_scaling = true\n  #automatic_scaling_function = scaling_function\n[]\n\n[Outputs]\n  perf_graph = true\n  csv = false\n  [out]\n    type = Exodus\n    #elemental_as_nodal = true\n  []\n[]",
          "url": "https://github.com/idaholab/moose/discussions/28277",
          "updatedAt": "2024-08-03T14:28:47Z",
          "publishedAt": "2024-07-31T20:10:23Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nI think you want to use ParsedFunctions for the displacements with if-conditions to go from step 1 to step 2, to the steps after\nSo something like\nexpression = 'if(t < step2_time, step1_disp, if(t<step3_time, step2_disp, something_else_for_the_rest))'",
                  "url": "https://github.com/idaholab/moose/discussions/28277#discussioncomment-10214079",
                  "updatedAt": "2024-08-01T15:24:26Z",
                  "publishedAt": "2024-08-01T15:24:25Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "JAWilliams123"
                          },
                          "bodyText": "Hello @GiudGiud,\nMany thanks. I had another go but I am now getting hung with the details below as it gets to step 2. The updated input file is also provided below.\n  Elem Information\n   id()=410, unique_id()=5028, subdomain_id()=1, processor_id()=5\n   type()=HEX8\n   dim()=3\n   n_nodes()=8\n   mapping=LAGRANGE_MAP\n    0  Node id()=663, processor_id()=5, Point=(x,y,z)=(0.0636204, 0.0820671,    0.031)\n    DoFs=(0/0/9477) (0/1/9478) (0/2/9479) (1/6/30267) (1/7/30268) (1/8/30269) \n    1  Node id()=662, processor_id()=5, Point=(x,y,z)=(0.128021, 0.079503, 0.0493704)\n    DoFs=(0/0/9474) (0/1/9475) (0/2/9476) (1/6/30264) (1/7/30265) (1/8/30266) \n    2  Node id()=682, processor_id()=5, Point=(x,y,z)=(0.143968, 0.0562245, -0.00301094)\n    DoFs=(0/0/9534) (0/1/9535) (0/2/9536) (1/6/30324) (1/7/30325) (1/8/30326) \n    3  Node id()=683, processor_id()=5, Point=(x,y,z)=(0.0675757, 0.0826632,    0.031)\n    DoFs=(0/0/9537) (0/1/9538) (0/2/9539) (1/6/30327) (1/7/30328) (1/8/30329) \n    4  Node id()=696, processor_id()=5, Point=(x,y,z)=(0.0640001, 0.0769997,    0.031)\n    DoFs=(0/0/9576) (0/1/9577) (0/2/9578) (1/6/30366) (1/7/30367) (1/8/30368) \n    5  Node id()=695, processor_id()=5, Point=(x,y,z)=(0.119611, 0.096375, -0.0381048)\n    DoFs=(0/0/9573) (0/1/9574) (0/2/9575) (1/6/30363) (1/7/30364) (1/8/30365) \n    6  Node id()=715, processor_id()=5, Point=(x,y,z)=(0.0473736, -0.107209, 0.422614)\n    DoFs=(0/0/9633) (0/1/9634) (0/2/9635) (1/6/30423) (1/7/30424) (1/8/30425) \n    7  Node id()=716, processor_id()=5, Point=(x,y,z)=(0.0680001, 0.0769996,    0.031)\n    DoFs=(0/0/9636) (0/1/9637) (0/2/9638) (1/6/30426) (1/7/30427) (1/8/30428) \n   n_sides()=6\n    neighbor(0)=390\n    neighbor(1)=400\n    neighbor(2)=411\n    neighbor(3)=nullptr\n    neighbor(4)=nullptr\n    neighbor(5)=819\n   hmin()=0.004, hmax()=0.508849\n   volume()=-5.26751e-05\n   active()=1, ancestor()=0, subactive()=0, has_children()=0\n   parent()=nullptr\n   level()=0, p_level()=0\n   refinement_flag()=DO_NOTHING\n   p_refinement_flag()=DO_NOTHING\n   DoFs=(1/0/27792) (1/1/27793) (1/2/27794) (1/3/27795) (1/4/27796) (1/5/27797) \n  Elem Information\n   id()=1659, unique_id()=5857, subdomain_id()=2, processor_id()=3\n   type()=HEX8\n   dim()=3\n   n_nodes()=8\n   mapping=LAGRANGE_MAP\n    0  Node id()=2725, processor_id()=3, Point=(x,y,z)=(0.215311, 0.0378969, 0.0430397)\n    DoFs=(0/0/6825) (0/1/6826) (0/2/6827) (1/6/21945) (1/7/21946) (1/8/21947) \n    1  Node id()=2727, processor_id()=3, Point=(x,y,z)=(0.0624894,   -0.031, 0.066978)\n    DoFs=(0/0/6831) (0/1/6832) (0/2/6833) (1/6/21951) (1/7/21952) (1/8/21953) \n    2  Node id()=2738, processor_id()=3, Point=(x,y,z)=(0.0663117,   -0.031, 0.0657989)\n    DoFs=(0/0/6864) (0/1/6865) (0/2/6866) (1/6/21984) (1/7/21985) (1/8/21986) \n    3  Node id()=2737, processor_id()=3, Point=(x,y,z)=( 0.10983, 0.0493022,   0.0854)\n    DoFs=(0/0/6861) (0/1/6862) (0/2/6863) (1/6/21981) (1/7/21982) (1/8/21983) \n    4  Node id()=2758, processor_id()=3, Point=(x,y,z)=(0.175991, -0.00543239, 0.0545552)\n    DoFs=(0/0/6924) (0/1/6925) (0/2/6926) (1/6/22044) (1/7/22045) (1/8/22046) \n    5  Node id()=2760, processor_id()=3, Point=(x,y,z)=(0.0636203,   -0.031, 0.0719322)\n    DoFs=(0/0/6930) (0/1/6931) (0/2/6932) (1/6/22050) (1/7/22051) (1/8/22052) \n    6  Node id()=2771, processor_id()=3, Point=(x,y,z)=(0.0675756,   -0.031, 0.071336)\n    DoFs=(0/0/6963) (0/1/6964) (0/2/6965) (1/6/22083) (1/7/22084) (1/8/22085) \n    7  Node id()=2770, processor_id()=3, Point=(x,y,z)=( 0.13052, -0.0462636, 0.0684565)\n    DoFs=(0/0/6960) (0/1/6961) (0/2/6962) (1/6/22080) (1/7/22081) (1/8/22082) \n   n_sides()=6\n    neighbor(0)=1639\n    neighbor(1)=1649\n    neighbor(2)=nullptr\n    neighbor(3)=nullptr\n    neighbor(4)=1658\n    neighbor(5)=1679\n   hmin()=0.004, hmax()=0.169335\n   volume()=-4.68619e-05\n   active()=1, ancestor()=0, subactive()=0, has_children()=0\n   parent()=nullptr\n   level()=0, p_level()=0\n   refinement_flag()=DO_NOTHING\n   p_refinement_flag()=DO_NOTHING\n   DoFs=(1/0/19569) (1/1/19570) (1/2/19571) (1/3/19572) (1/4/19573) (1/5/19574) \n\n    Computing Residual\n      Computing User Objects.........................................\n\nHere is the updated code based on ParsedFunctions for the displacements.\n# This test case creates a rectangular hollow section (RHS)\n# from a circular hollow section (CHS). \n\n\n[GlobalParams]\n  volumetric_locking_correction = true\n  displacements = 'disp_x disp_y disp_z'\n[]\n\n# Set some global variables\nstep2_time = 0.25 \ntransition_time = 0.2499 \nvDisp = -6.0e-3 \n\n\n[Mesh]\n  [mFile]\n   # Read mesh from file\n    type = FileMeshGenerator\n    file = roller_form_hex8_move30_4_thin_coarse.e\n  []\n\n  [create_sideset]\n    type = SideSetsFromNodeSetsGenerator\n    input = mFile\n  []\n\n   length_unit = m\n   patch_update_strategy = iteration\n   patch_size = 20\n   allow_renumbering = true\n[]\n\n[Physics]\n  [SolidMechanics]\n    [QuasiStatic]\n      # Parameters that apply to all subblocks are specified at this level.\n      # They can be overwritten in the subblocks.\n      add_variables = true\n      #incremental = false\n      strain = FINITE\n      use_automatic_differentiation = true\n      use_finite_deform_jacobian = true\n      generate_output = 'stress_xx stress_xy stress_xz stress_yy stress_zz vonmises_stress'\n      [block]\n        block = 'TROLLER SROLLER CHS'\n      []\n    []\n  []\n[]\n\n\n\n[Functions]\n  [stress_strain_curve_steel]\n    # Stress Strain Curve for Plastic material (steel)\n    type = PiecewiseLinear\n    x = '0.000 0.012 0.050 0.100 0.150 0.200 0.280'\n    y = '185.0e6 225.0e6 290.0e6 340.0e6 370.0e6 385.0e6 405.0e6'\n  []\n  [stress_strain_curve_al]\n    # Stress Strain Curve for Plastic material (steel)\n    type = PiecewiseLinear\n    x = '0.000  0.002  0.025   0.050    0.075  0.100   0.150    0.175'\n    y = '75.0e6 82.0e6 116.0e6 140.0e6  150e6  162.0e6 164.0e6 168.0e6'\n  []\n\n  [roller_step1]\n    type = PiecewiseLinear\n    x = '0    0.0250    0.0500    0.0750    0.1000    0.1250    0.1500    0.1750    0.2000    0.2250    0.2500   0.3000  0.5000  1.0000  2.0000  3.0000'\n    y = '0    0.1000    0.2000    0.3000    0.4000    0.5000    0.6000    0.7000    0.8000    0.9000    1.0000   1.0000  1.0000  1.0000  1.0000  1.0000'\n    extrap = true\n  []\n  [roller_step2]\n    type = PiecewiseLinear\n    x = '0.000  0.2500     0.4792    0.7083    0.9375    1.1667    1.3958    1.6250    1.8542    2.0833    2.3125    2.5417    2.7708    3.0000'\n    y = '0.000  0.000     0.0833    0.1667    0.2500    0.3333    0.4167    0.5000    0.5833    0.6667    0.7500    0.8333    0.9167    1.0000'\n    extrap = true\n  []\n\n  [disp_roller_step1]  # Roller initial displacement that forms RHS in Step 1\n    type = ParsedFunction\n    expression = '${vDisp} * roller_step1' \n    symbol_names = 'roller_step1'\n    symbol_values = 'roller_step1'\n  []\n\n  [disp_CHS_step2] # Displacement of RHS CHS through rollers in Step 2\n    type = ParsedFunction\n    expression = 'alpha2 * roller_step2'\n    symbol_names = 'alpha2 roller_step2' \n    symbol_values = '-238.0e-3 roller_step2'\n  []\n\n\n  [x_rotation]\n    type = ParsedFunction\n    expression =  '(x - x0)*(cos(alpha*angle*pi/180*roller_step2)-1) - (y - y0)*sin(alpha*angle*pi/180*roller_step2)'\n    symbol_names = 'alpha angle roller_step2 x0 y0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n\n  [x_rotationS]\n    type = ParsedFunction\n    expression =  '(x - x0)*(cos(alpha*angle*pi/180*roller_step2)-1) - (z - z0)*sin(alpha*angle*pi/180*roller_step2)'\n    symbol_names = 'alpha angle roller_step2 x0 z0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n  \n  [y_rotation]\n    type = ParsedFunction\n    expression = '((x - x0)*sin(alpha*angle*pi/180*roller_step2) + (y - y0)*(cos(alpha*angle*pi/180*roller_step2)-1))'\n    symbol_names = 'alpha angle roller_step2 x0 y0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n\n  [z_rotation]\n    type = ParsedFunction\n    expression = '((x - x0)*sin(alpha*angle*pi/180*roller_step2) + (z - z0)*(cos(alpha*angle*pi/180*roller_step2)-1))'\n    symbol_names = 'alpha angle roller_step2 x0 z0'\n    symbol_values = '-1 120 roller_step2 0.029999999931746  0.07100000'\n  []\n\n\n  # TRoller conditions\n  # disp_x\n  [disp_TRoller_x]\n    type = ParsedFunction\n    # expression = 'if(t < step2_time, step1_disp, if(t<step3_time, step2_disp, something_else_for_the_rest))'\n    expression = 'if(t<${step2_time},0,x_rotation)'\n    symbol_names =  'x_rotation'\n    symbol_values = 'x_rotation'\n  []\n\n  # disp_y\n  [disp_TRoller_y]\n    type = ParsedFunction\n    expression = 'if(t<${step2_time},disp_roller_step1,y_rotation)'\n    symbol_names = 'disp_roller_step1 y_rotation'\n    symbol_values = 'disp_roller_step1 y_rotation'\n   []\n\n   [disp_SRoller_x]\n    type = ParsedFunction\n    # expression = 'if(t < step2_time, step1_disp, if(t<step3_time, step2_disp, something_else_for_the_rest))'\n    expression = 'if(t<${step2_time},0,x_rotationS)'\n    symbol_names =  'x_rotationS'\n    symbol_values = 'x_rotationS'\n  []\n\n  # disp_z\n  [disp_SRoller_z]\n    type = ParsedFunction\n    expression = 'if(t<${step2_time},disp_roller_step1,z_rotation)'\n    symbol_names = 'disp_roller_step1 z_rotation'\n    symbol_values = 'disp_roller_step1 z_rotation'\n   []\n\n  # disp_x - CHS\n  [disp_CHS_x]\n    type = ParsedFunction\n    expression =    'if(t<${step2_time},0,disp_CHS_step2)'\n    symbol_names =  'disp_CHS_step2'\n    symbol_values = 'disp_CHS_step2'\n   []   \n[]\n\n[Materials]\n  [elasticity_tensor_steel]\n    # Creates the elasticity tensor using steel parameters\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 210e9 # Pa\n    poissons_ratio = 0.3\n    block = 'TROLLER SROLLER'\n  []\n  [stress]\n    # Computes the stress, using linear elasticity\n    type = ComputeFiniteStrainElasticStress\n    block = 'TROLLER SROLLER'\n  []\n  [elasticity_tensor]\n    # Creates the elasticity tensor using aluminnium parameters\n    type = ComputeIsotropicElasticityTensor\n    youngs_modulus = 68e9 # Pa\n    poissons_ratio = 0.33\n    block = 'CHS'\n  []\n  [isotropic_plasticity]\n    type = IsotropicPlasticityStressUpdate\n    yield_stress = 75.0e6\n    hardening_function = stress_strain_curve_al\n    block = 'CHS'\n  []\n  [radial_return_stress]\n    type = ComputeMultipleInelasticStress\n    tangent_operator = elastic\n    inelastic_models = 'isotropic_plasticity'\n    block = 'CHS'\n  []\n  [density_steel]\n    # Defines the density of steel\n    type = GenericConstantMaterial\n    prop_names = 'density'\n    prop_values = '7850' # kg/m^3\n    block = 'TROLLER SROLLER CHS'\n  []\n[]\n\n # Centroid locations of rollers prior to vertical move\n #                x                       y                      z \n # SRoller    0.029999999931746      -0.006                 0.0770000003174603\n # TRoller    0.029999999931746       0.0770000003174603       0.006    \n\n[BCs]\n  # STEP 1\n\n  # Boundary Conditions - TRoller\n\n  # Step 1 - No x displacement of TRoller\n  # Step 2 - Rotation in x of TRoller\n\n  [bc_fixed01_TRoller]\n    type = FunctionDirichletBC\n    variable = disp_x\n    #preset = false\n    boundary = 'BCTRoller'\n    function = disp_TRoller_x\n  []\n\n  # Step 1 - No z displacement of TRoller\n  # Step 2 - No z displacement of TRoller\n\n  [bc_fixed02_TRoller]\n    type = DirichletBC\n    variable = disp_z\n    #use_displaced_mesh = true \n    #preset = false\n    boundary = 'BCTRoller'\n    value = 0.0\n  []\n\n  # Step 1 - Vertical y displacement of TRoller\n  # Step 2 - Rotation in y of TRoller\n\n  # Movement of TRoller to form RHS\n  [bc_disp01_TRoller]\n    type = FunctionDirichletBC\n    variable = disp_y\n    #preset = true\n    #use_displaced_mesh = true \n    boundary = 'BCTRoller'\n    function = disp_TRoller_y\n  []\n\n\n  # Boundary Conditions - SRoller\n\n  # Step 1 - No x displacement of SRoller\n  # Step 2 - Rotation in x of SRoller\n\n  [bc_fixed01_SRoller]\n    type = FunctionDirichletBC\n    variable = disp_x\n    #preset = false\n    boundary = 'BCSRoller'\n    function = disp_SRoller_x\n  []\n\n  # Step 1 - No y displacement of SRoller\n  # Step 2 - No y displacement of SRoller\n\n  [bc_fixed02_SRoller]\n    type = DirichletBC\n    variable = disp_y\n    #use_displaced_mesh = true \n    #preset = false\n    boundary = 'BCSRoller'\n    value = 0.0\n  []\n\n\n  # Step 1 - Horizontal z displacement of SRoller\n  # Step 2 - Rotation in z of SRoller\n\n  # Movement of SRoller to form RHS\n  [bc_disp01_SRoller]\n    type = FunctionDirichletBC\n    variable = disp_z\n    #preset = false\n    boundary = 'BCSRoller'\n    function = disp_SRoller_z\n  []\n\n  # Boundary Conditions - CHS\n\n  # Step 1 - Fixity on free end of CHS \n  # Step 2 - Horizontal displacement on free end of CHS\n\n  [bc_disp01_CHS]\n    type = FunctionDirichletBC\n    variable = disp_x\n    #use_displaced_mesh = true \n    preset = false\n    boundary = 'XDispCHS'\n    function = disp_CHS_x\n  []\n  \n  # Step 1 - Fixity on Y and Z symmetry faces\n  # Step 2 - Fixity on Y and Z symmetry faces\n\n  [bc_fixed02_CHS]\n    type = DirichletBC\n    variable = disp_z\n    #preset = false\n    boundary = 'ZSymmetryCHS'\n    value = 0.0\n  []\n  [bc_fixed03_CHS]\n    type = DirichletBC\n    variable = disp_y\n    #preset = false\n    boundary = 'YSymmetryCHS'\n    value = 0.0\n  []\n[]\n\n[Contact]\n    [troller_chs]\n      primary = TRoller_Contact\n      secondary = CHS_Contact\n      friction_coefficient = 0.4\n      model = coulomb\n      formulation = mortar_penalty\n      penalty = 68e9\n      penalty_friction = 1e4\n      use_dual = false\n    []\n    [sroller_chs]\n      primary = SRoller_Contact\n      secondary = CHS_Contact\n      friction_coefficient = 0.4\n      model = coulomb\n      formulation = mortar_penalty\n      penalty = 68e9\n      penalty_friction = 1e4\n      use_dual = false\n    []\n[]\n  \n[Dampers]\n  [contact_slip01]\n    type = ContactSlipDamper\n    primary = 'TRoller_Contact SRoller_Contact'\n    secondary = 'CHS_Contact CHS_Contact'\n  []\n[]\n\n[Preconditioning]\n  [SMP]\n    type = SMP\n    full = true\n  []\n[]\n\n\n[Controls]\n  [step1]\n    # This step covers the formation of the RHS\n    type = TimePeriod\n    # Enable only BCs that move the rollers\n    enable_objects =  'TimeStepper::step1DT'\n    disable_objects = 'TimeStepper::step2DT'\n    reverse_on_false = false\n    execute_on = 'initial timestep_end'\n    start_time = '0'\n    end_time = ${transition_time}\n    #step_user_object = step_uo\n    set_sync_times = true\n    #step_number = 0\n  []\n  [step2]\n    # This step covers the formation of the RHS\n    type = TimePeriod\n    # Enable only BCs that move the rollers\n    enable_objects  = 'TimeStepper::step2DT'\n    disable_objects = 'TimeStepper::step1DT'\n    reverse_on_false = false\n    #depends_on = 'step1'\n    execute_on = 'timestep_end'\n    start_time = ${transition_time}\n    end_time = '4.00'\n    #step_user_object = step_uo\n    set_sync_times = true\n    #step_number = 1\n  []\n[]\n\n[Executioner]\n  type = Transient\n  scheme = 'crank-nicolson'\n  solve_type = 'NEWTON'\n\n  petsc_options = '-snes_converged_reason -ksp_converged_reason -snes_ksp_ew'\n  petsc_options_iname = '-pc_type -pc_factor_mat_solver_type -pc_factor_shift_type \n  -pc_factor_shift_amount '\n  petsc_options_value = 'lu mumps NONZERO 1e-15'\n  \n  \n  reuse_preconditioner = true\n  reuse_preconditioner_max_linear_its = 25\n\n  line_search_package = petsc\n\n  # Taken from frictionless_penalty_contact_line_search.i\n  line_search = 'contact'\n  contact_line_search_ltol = .5\n  contact_line_search_allowed_lambda_cuts = 0\n\n  # Total simulation time\n  end_time = 1.00\n  # Minimum and maximum time step sizes\n  dtmin = 1e-15\n  dtmax = 0.1\n\n  # Auto time stepping (similar to Abaqus and CalculiX)\n  [TimeSteppers]\n    [step1DT]\n      type = IterationAdaptiveDT\n      # Initial time step size\n      reset_dt = true\n      dt = 0.001\n      optimal_iterations = 6\n      iteration_window = 2\n      growth_factor = 1.2\n      cutback_factor = 0.8\n    []\n    [step2DT ]\n      type = IterationAdaptiveDT #ConstantDT\n      # Initial time step size\n      reset_dt = true\n      dt = 1e-9\n      optimal_iterations = 6\n      iteration_window = 2\n      growth_factor = 1.2\n      cutback_factor = 0.8\n    []\n  []\n \n  # Non-linear solver settings\n  nl_rel_tol = 1.5e-06\n  nl_abs_tol = 1.5e-06 # 6 if no friction\n  l_tol = 1e-3\n  l_max_its = 60\n  nl_max_its = 50\n  automatic_scaling = true\n  #automatic_scaling_function = scaling_function\n[]\n\n[Outputs]\n  perf_graph = true\n  csv = false\n  [out]\n    type = Exodus\n    #elemental_as_nodal = true\n  []\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/28277#discussioncomment-10224676",
                          "updatedAt": "2024-08-02T14:39:03Z",
                          "publishedAt": "2024-08-02T14:39:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "hello\nit seems some elements are getting distorted too strongly and have a negative volume now\n   volume()=-5.26751e-05\n\nyou'll need to limit or apply more uniformly the displacements to prevent that",
                          "url": "https://github.com/idaholab/moose/discussions/28277#discussioncomment-10230988",
                          "updatedAt": "2024-08-03T14:28:48Z",
                          "publishedAt": "2024-08-03T14:28:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "MOOSE with HIP",
          "author": {
            "login": "ljeft"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (avoid screenshots if possible, triple back quotes before/after pasted text, etc)\n\nIssue or question about MOOSE\nI have successfully installed MOOSE once before through CONDA, I want to install MOOSE with HIP support now, I have installed petsc with HIP support now. But don't know how to make MOOSE use this petsc directly. At the same time, the petsc I installed is less STRUMPACK than the petsc MOOSE downloaded by default. I wonder how this will affect my subsequent work? Or is the STRUMPACK a must for MOOSE?\nDiagnostics for MOOSE installation issues\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/27635",
          "updatedAt": "2024-08-02T23:47:16Z",
          "publishedAt": "2024-05-15T17:28:28Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nstrumpack is not necessary for MOOSE\nYou can specify the PETSC_DIR then follow instructions for HPC installs of moose starting at libmesh\nhttps://mooseframework.inl.gov/getting_started/installation/hpc_install_moose.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9449012",
                  "updatedAt": "2024-05-15T17:33:29Z",
                  "publishedAt": "2024-05-15T17:33:28Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "I want to install MOOSE offline. Can I start from libmesh as well?",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9454451",
                          "updatedAt": "2024-05-16T07:42:49Z",
                          "publishedAt": "2024-05-16T07:42:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "For libMesh, you can gather all the necessary bits by cloning libMesh and then performing a recursive submodule update command. Afterwards, you can transfer what was created to your air-gaped/offline machine and finish up with configure; make routines:\ncd moose\ngit submodule update --init --recursive libmesh\ntar -pzcf libmesh.tar.gz libmesh\n<copy libmesh.tar.gz to where it needs to go>\ncd moose\ntar -xf /some/path/where/you/copied/libmesh.tar.gz -C .\nAfter this, you can enter the libmesh directory, and perform your desired configure/build:\nmkdir libmesh/build\ncd libmesh/build\nexport PETSC_DIR=/where/ever/PETSc/is\n../configure --prefix='/some/final/resting/location' --methods=\"opt\" etc etc\nIf you wish to use the same configuration otherwise used by our update_and_rebuild scripts, please take a look at:\nmoose/scripts/configure_libmesh.sh",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9457378",
                          "updatedAt": "2024-05-16T12:19:16Z",
                          "publishedAt": "2024-05-16T12:19:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "I follow the method of \"offline\", I skipped cd ~/projects/moose /scripts/update_and_rebuild_petsc.sh -- with-package-download-dir =~/projects/downloads and /update_and_rebuild_petsc.sh --skip-submodule-update --with-packages-download-dir=~/projects/downloads , Then execute ./update_and_rebuild_libmesh.sh --skip-submodule-update\nHere's the problem\nconfiguring gdb command... \"no\"\n>>> INFO: Disabling library warnings <<<\n>>> Configuring library without warnings <<<\n<<< Configuring library with deprecated code support >>>\n../configure: line 39380: irrelevant=yes: command not found\n<<< Configuring library to require ``include \"libmesh/etc.h\"'' style >>>\n<<< Configuring library to keep names in libMesh namespace >>>\nconfiguring size of boundary_id... 2\nconfiguring size of dof_id... 4\nconfiguring size of processor_id... 4\nconfiguring size of subdomain_id... 2\n<<< Configuring library with unique id support >>>\nconfiguring size of unique_id... 8\n<<< Configuring library with AMR support >>>\n<<< Configuring library with variational smoother support >>>\n<<< Configuring library with periodic BC support >>>\n<<< Configuring library with Dirichlet constraint support >>>\n<<< --enable-parmesh is deprecated; use --enable-distmesh >>>\nconfiguring size of mapvector chunks: 1\n<<< Configuring library to use ghosted local vectors >>>\n<<< Configuring library to store node valence >>>\n<<< Configuring library with higher order p-FEM shapes >>>\n<<< Configuring library with second derivatives >>>\n<<< Configuring library with real number support >>>\n<<< Configuring library with reference counting support >>>\n<<< Configuring library example suite support >>>\n---------------------------------------------\n-- Done configuring core library features ---\n---------------------------------------------\n---------------------------------------------\n----- Configuring for optional packages -----\n---------------------------------------------\nchecking for built-in XDR support... yes\nchecking for boostlib >= 1.57.0... configure: We could not detect the boost libraries (version 1.57 or higher). If you have a staged boost library (still not installed) please specify $BOOST_ROOT in your environment and do not give a PATH to --with-boost option.  If you are sure you have boost installed, then check your version number looking in <boost/version.hpp>. See http://randspringer.de/boost for more documentation.\n<<< External boost installation *not* found... will try to configure for libmesh's internal boost >>>\nchecking for boostlib >= 1.57.0... yes\n<<< Using libmesh-provided boost in ./contrib >>>\nchecking for boost::movelib::unique_ptr support... yes\nnote: Checking /lib and /include for MPI\nnote: Could not find /lib/libmpi(.a/.so/.dylib)\nmpicxx Compiler Supports MPI \n<<< Found PETSc 3.21.0 installation in /opt/petsc/ ... >>>\nchecking whether we can compile a trivial PETSc program... yes\nchecking for TAO support via PETSc... yes\nconfigure: error: *** PETSc with Hypre was not found, but --enable-petsc-hypre-required was specified.\nRunning make -j 6...\nmake: *** No targets specified and no makefile found.  Stop.\n\nThis is the diagnostics\n##################################################################################################\nInfluential Environment Variables\n\nCC=mpicc\nCONDA_CHANNEL=https://conda.software.inl.gov/public\nCURL_CA_BUNDLE=\nCXX=mpicxx\nF77=mpif77\nF90=mpif90\nFC=mpif90\nLD_LIBRARY_PATH=/opt/openmpi-4.1.6/install/lib:/opt/gcc-11.4/libexec:/opt/gcc-11.4/lib64:/opt/gcc-11.4/lib:/opt/dtk-23.10/hip/lib:/opt/dtk-23.10/llvm/lib:/opt/dtk-23.10/lib:/opt/dtk-23.10/lib64:/opt/hyhal/lib:/opt/hyhal/lib64::/opt/mpi/lib:/opt/dtk-23.10/cuda/lib64\nMOOSE_JOBS=6\nPATH=/opt/openmpi-4.1.6/install/bin:/opt/gcc-11.4/bin:/opt/dtk-23.10/gpufort/bin:/opt/dtk-23.10/gpufort/hipfort_util/bin:/opt/dtk-23.10/cuda/bin:/opt/dtk-23.10/bin:/opt/dtk-23.10/llvm/bin:/opt/dtk-23.10/hip/bin:/opt/dtk-23.10/hip/bin/hipify:/opt/hyhal/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/opt/mpi/bin\nPETSC_DIR=/opt/petsc/\nREQUESTS_CA_BUNDLE=\nSSL_CERT_FILE=\n\n##################################################################################################\nCompiler(s) (CC CXX FC F77 F90):\n\nCC=/opt/openmpi-4.1.6/install/bin/mpicc\nCC -show:\ngcc -I/opt/openmpi-4.1.6/install/include -pthread -L/opt/openmpi-4.1.6/install/lib -Wl,-rpath -Wl,/opt/openmpi-4.1.6/install/lib -Wl,--enable-new-dtags -lmpi\nCC version:     gcc (GCC) 11.4.0\n\nCXX=/opt/openmpi-4.1.6/install/bin/mpicxx\nCXX -show:\ng++ -I/opt/openmpi-4.1.6/install/include -pthread -L/opt/openmpi-4.1.6/install/lib -Wl,-rpath -Wl,/opt/openmpi-4.1.6/install/lib -Wl,--enable-new-dtags -lmpi_cxx -lmpi\nCXX version:    g++ (GCC) 11.4.0\n\nFC=/opt/openmpi-4.1.6/install/bin/mpif90\nFC -show:\ngfortran -I/opt/openmpi-4.1.6/install/include -pthread -I/opt/openmpi-4.1.6/install/lib -L/opt/openmpi-4.1.6/install/lib -Wl,-rpath -Wl,/opt/openmpi-4.1.6/install/lib -Wl,--enable-new-dtags -lmpi_usempif08 -lmpi_usempi_ignore_tkr -lmpi_mpifh -lmpi\nFC version:     GNU Fortran (GCC) 11.4.0\n\nF77=/opt/openmpi-4.1.6/install/bin/mpif77\nF77 -show:\ngfortran -I/opt/openmpi-4.1.6/install/include -pthread -I/opt/openmpi-4.1.6/install/lib -L/opt/openmpi-4.1.6/install/lib -Wl,-rpath -Wl,/opt/openmpi-4.1.6/install/lib -Wl,--enable-new-dtags -lmpi_usempif08 -lmpi_usempi_ignore_tkr -lmpi_mpifh -lmpi\nF77 version:    GNU Fortran (GCC) 11.4.0\n\nF90=/opt/openmpi-4.1.6/install/bin/mpif90\nF90 -show:\ngfortran -I/opt/openmpi-4.1.6/install/include -pthread -I/opt/openmpi-4.1.6/install/lib -L/opt/openmpi-4.1.6/install/lib -Wl,-rpath -Wl,/opt/openmpi-4.1.6/install/lib -Wl,--enable-new-dtags -lmpi_usempif08 -lmpi_usempi_ignore_tkr -lmpi_mpifh -lmpi\nF90 version:    GNU Fortran (GCC) 11.4.0\n\nOK\n\n##################################################################################################\nPython Sanity Checks\n\nVerify `/usr/bin/env python3 --version` (reporting as: Python 3.7.12),\nmatches versions for: `which python3 && which python`\n\nOK\n\n##################################################################################################\nPython Modules (TestHarness, run-ability)\n\nWARNING: python module: `jinja2` not available\n\nWarning Python packages may cause miscellaneous runtime issues.\n\nEither install the above packages, or perhaps you have yet to activate your\nmoose environment: `conda activate moose`.\n\nWhen I downloaded petsc, I configured Hypre. Why can't MOOSE find it\uff1f",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9460712",
                          "updatedAt": "2024-05-16T17:09:45Z",
                          "publishedAt": "2024-05-16T16:56:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "that's the error you need to fix\nconfigure: error: *** PETSc with Hypre was not found, but --enable-petsc-hypre-required was specified.\n\nso remove --enable-petsc-hypre-required from the installation script since you didnt compile petsc with hypre",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9461004",
                          "updatedAt": "2024-05-16T17:31:07Z",
                          "publishedAt": "2024-05-16T17:31:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "Well ,I remove --enable-petsc-hypre-required from configure_libmesh.sh and I have successfully executed ./update_and_rebuild_libmesh.sh --skip-submodule-update.\nNow I run the last command ./update_and_rebuild_wasp.sh --skip-submodule-update and get a CMAKE error\nroot@23e3fce1676d:/opt/projects/moose/scripts# ./update_and_rebuild_wasp.sh --skip-submodule-update\nCMake Warning:\n  Ignoring extra path from command line:\n\n   \"../\"\n\n\nCMake Error: The source directory \"/opt/projects/moose/framework/contrib/wasp\" does not appear to contain CMakeLists.txt.\nSpecify --help for usage, or press the help button on the CMake GUI.\nError: configure step for WASP failed to complete successfully",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9467814",
                          "updatedAt": "2024-05-17T08:57:06Z",
                          "publishedAt": "2024-05-17T08:57:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You cant skip the submodule update for WASP since you have not downloaded it previously",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9469925",
                          "updatedAt": "2024-05-17T12:08:38Z",
                          "publishedAt": "2024-05-17T12:08:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "I can't run ./update_and_rebuild_wasp.sh directly, so do I need a pdate WASP with Internet access?\nroot@23e3fce1676d:/opt/projects/moose/scripts# ./update_and_rebuild_wasp.sh \nfatal: detected dubious ownership in repository at '/opt/projects/moose'\nTo add an exception for this directory, call:\n\n        git config --global --add safe.directory /opt/projects/moose\nError: git submodule update failed to complete successfully\nroot@23e3fce1676d:/opt/projects/moose/scripts# ./update_and_rebuild_wasp.sh \nfatal: detected dubious ownership in repository at '/opt/projects/moose'\nTo add an exception for this directory, call:\n\n        git config --global --add safe.directory /opt/projects/moose\nError: git submodule update failed to complete successfully",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9471533",
                          "updatedAt": "2024-05-17T14:17:30Z",
                          "publishedAt": "2024-05-17T14:17:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "you need internet to get WASP.\nok so maybe get it with internet access then on the machine with HIP and no internet, do use skip-submodule-update\nthere are offline isntructions on the moose website",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9471615",
                          "updatedAt": "2024-05-17T14:25:49Z",
                          "publishedAt": "2024-05-17T14:25:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "Yes, I followed the instructions for offline download, but I skipped cd ~/projects/moose ./scripts/update_and_rebuild_petsc.sh  --with-packages-download-dir=~/projects/downloads and ./update_and_rebuild_petsc.sh --skip-submodule-update --with-packages-download-dir=~/projects/downloads because I already had petsc.",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9472044",
                          "updatedAt": "2024-05-17T15:07:45Z",
                          "publishedAt": "2024-05-17T15:07:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "I followed the method of offline installation, uploaded the compressed package to the server with HIP-petsc, and removed  --enable-petsc-hypre-required from configure_libmesh before executing ./update_and_rebuild_libmesh.sh --skip-submodule-update. Now I got an error saying that petsc and LIBMESH are not compatible. So do I have to update my LIBMESH?\nThis is the error\nIn file included from ../src/numerics/numeric_vector.C:24:\n./include/libmesh/petsc_vector.h:1221:32: error: static assertion failed: PETSc and libMesh integer sizes must match!\n 1221 | static_assert(sizeof(PetscInt) == sizeof(numeric_index_type),\n      |               ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from ../src/numerics/petsc_preconditioner.C:26:\n./include/libmesh/petsc_vector.h:1221:32: error: static assertion failed: PETSc and libMesh integer sizes must match!\n 1221 | static_assert(sizeof(PetscInt) == sizeof(numeric_index_type),\n      |               ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmake[1]: *** [Makefile:28061: src/numerics/libmesh_opt_la-petsc_preconditioner.lo] Error 1\nmake[1]: *** Waiting for unfinished jobs....\nmake[1]: *** [Makefile:28047: src/numerics/libmesh_opt_la-numeric_vector.lo] Error 1\nIn file included from ../src/numerics/petsc_vector.C:18:\n./include/libmesh/petsc_vector.h:1221:32: error: static assertion failed: PETSc and libMesh integer sizes must match!\n 1221 | static_assert(sizeof(PetscInt) == sizeof(numeric_index_type),\n      |               ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from ../src/numerics/petsc_matrix.C:28:\n./include/libmesh/petsc_vector.h:1221:32: error: static assertion failed: PETSc and libMesh integer sizes must match!\n 1221 | static_assert(sizeof(PetscInt) == sizeof(numeric_index_type),\n      |               ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmake[1]: *** [Makefile:28075: src/numerics/libmesh_opt_la-petsc_vector.lo] Error 1\nmake[1]: *** [Makefile:28054: src/numerics/libmesh_opt_la-petsc_matrix.lo] Error 1\nIn file included from ./include/libmesh/petsc_shell_matrix.h:33,\n                 from ../src/numerics/petsc_shell_matrix.C:22:\n./include/libmesh/petsc_vector.h:1221:32: error: static assertion failed: PETSc and libMesh integer sizes must match!\n 1221 | static_assert(sizeof(PetscInt) == sizeof(numeric_index_type),\n      |               ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmake[1]: *** [Makefile:28068: src/numerics/libmesh_opt_la-petsc_shell_matrix.lo] Error 1\nmake[1]: Leaving directory '/root/projects/moose/libmesh/build'\nmake: *** [Makefile:33429: all-recursive] Error 1",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-9505548",
                          "updatedAt": "2024-05-21T08:30:12Z",
                          "publishedAt": "2024-05-21T08:30:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "ljeft"
                  },
                  "bodyText": "This is the result of me running the MOOSE case. Is this error due to the hip I used?\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# mpiexec -n 6 --allow-run-as-root ./ex01-opt -i ex01.i -vec_type hip -mat_type aijcusparse \n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n\n\n*** Info ***\n'execute_on' parameter specified in [Outputs] block is ignored for object 'checkpoint'.\nDefine this object in its own sub-block of [Outputs] to modify its execution schedule.\n[0]PETSC ERROR: --------------------- Error Message --------------------------------------------------------------\n\n\n*** ERROR ***\nUnknown Mat type given: aijcusparse\n\n\n\n*** ERROR ***\nUnknown Mat type given: aijcusparse\n\n\n\n*** ERROR ***\nUnknown Mat type given: aijcusparse\n\n\n\n*** ERROR ***\nUnknown Mat type given: aijcusparse\n\n\n\n*** ERROR ***\nUnknown Mat type given: aijcusparse\n\n--------------------------------------------------------------------------\nMPI_ABORT was invoked on rank 4 in communicator MPI_COMM_WORLD\nwith errorcode 1.\n\nNOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.\nYou may or may not see output from other processes, depending on\nexactly when Open MPI kills them.\n--------------------------------------------------------------------------\n[0]PETSC ERROR: Unknown type. Check for miss-spelling or missing package: https://petsc.org/release/install/install/#external-packages\n[0]PETSC ERROR: Unknown Mat type given: aijcusparse\n[0]PETSC ERROR: WARNING! There are unused option(s) set! Could be the program crashed before usage or a spelling mistake, etc!\n[0]PETSC ERROR:   Option left: name:-i value: ex01.i source: command line\n[0]PETSC ERROR: See https://petsc.org/release/faq/ for trouble shooting.\n[0]PETSC ERROR: Petsc Release Version 3.21.0, unknown \n[0]PETSC ERROR: ./ex01-opt on a arch-linux-c-opt named e9a45d4c9858 by root Tue Jul 30 09:38:21 2024\n[0]PETSC ERROR: Configure options --with-64-bit-indices --with-cxx-dialect=C++17 --with-debugging=no --with-fortran-bindings=0 --with-mpi=1 --with-openmp=1 --with-shared-libraries=1 --with-sowing=0 --with-hip=1 --download-fblaslapack=1 --download-hypre=1 --download-metis=1 --download-mumps=1 --download-ptscotch=1 --download-parmetis=1 --download-scalapack=1 --download-slepc=1 --download-superlu_dist=1 --with-hipc=/opt/dtk-23.10/bin/hipcc --with-hip-arch=gfx906 --download-fblaslapack=/opt/petsc/v3.4.2-p3.tar.gz --download-metis=/opt/petsc/v5.1.0-p11.tar.gz --download-parmetis=/opt/petsc/v4.0.3-p9.tar.gz --download-ptscotch=/opt/petsc/scotch-v7.0.3.tar.gz --download-bison=/opt/petsc/bison-3.8.2.tar.gz --download-superlu_dist=/opt/petsc/v8.2.1.tar.gz --download-scalapack=/opt/petsc/scalapack --download-mumps=/opt/petsc//MUMPS_5.6.2.tar.gz --download-hypre=/opt/petsc/ee74c20e7a84e4e48eec142c6bb6ff2a75db72f1.tar.gz --download-slepc=/opt/petsc/slepc-v3.21.0.tar.gz\n[0]PETSC ERROR: #1 MatSetType() at /opt/petsc/src/mat/interface/matreg.c:144\n[0]PETSC ERROR: #2 MatSetFromOptions() at /opt/petsc/src/mat/utils/gcreate.c:300\n\n\n*** ERROR ***\nUnknown Mat type given: aijcusparse\n\n                                                                               [  0.16 s] [  221 MB]\n[e9a45d4c9858:23417] 5 more processes have sent help message help-mpi-api.txt / mpi-abort\n[e9a45d4c9858:23417] Set MCA parameter \"orte_base_help_aggregate\" to 0 to see all help / error messages\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# mpiexec -n 6 --allow-run-as-root ./ex01-opt -i ex01.i -vec_type hip -mat_type aijcusparse",
                  "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10185440",
                  "updatedAt": "2024-07-30T02:06:11Z",
                  "publishedAt": "2024-07-30T02:06:10Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "what does ldd <your executable> return?",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10192221",
                          "updatedAt": "2024-07-30T15:25:26Z",
                          "publishedAt": "2024-07-30T15:25:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "You should be using -mat_type aijhipsparse",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10193635",
                          "updatedAt": "2024-07-30T18:06:27Z",
                          "publishedAt": "2024-07-30T18:06:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "what does ldd <your executable> return?\n\nThis is the return\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# ldd ex01-opt\n        linux-vdso.so.1 (0x00007ffd72f59000)\n        libex01_test-opt.so.0 => /opt/projects/moose/examples/ex01_inputfile/test/lib/libex01_test-opt.so.0 (0x00007f1078e31000)\n        libmoose-opt.so.0 => /opt/projects/moose/framework/libmoose-opt.so.0 (0x00007f10764fa000)\n        libpcre-opt.so.0 => /opt/projects/moose/framework/contrib/pcre/libpcre-opt.so.0 (0x00007f10764d6000)\n        libhit-opt.so.0 => /opt/projects/moose/framework/contrib/hit/libhit-opt.so.0 (0x00007f1076471000)\n        libex01-opt.so.0 => /opt/projects/moose/examples/ex01_inputfile/lib/libex01-opt.so.0 (0x00007f1076451000)\n        libwasphit.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwasphit.so.04 (0x00007f1076402000)\n        libwaspson.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwaspson.so.04 (0x00007f10763b4000)\n        libwasphive.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwasphive.so.04 (0x00007f10763aa000)\n        libwaspcore.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwaspcore.so.04 (0x00007f1076387000)\n        libwaspsiren.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwaspsiren.so.04 (0x00007f1076368000)\n        libwasphalite.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwasphalite.so.04 (0x00007f107630d000)\n        libwasplsp.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwasplsp.so.04 (0x00007f10762cd000)\n        libwaspjson.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwaspjson.so.04 (0x00007f107628a000)\n        libwaspddi.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwaspddi.so.04 (0x00007f107626a000)\n        libwaspexpr.so.04 => /opt/projects/moose/framework/contrib/wasp/install/lib/libwaspexpr.so.04 (0x00007f1076231000)\n        libmesh_opt.so.0 => /opt/projects/moose/scripts/../libmesh/installed/lib/libmesh_opt.so.0 (0x00007f1074e9a000)\n        libnetcdf.so.13 => /opt/projects/moose/scripts/../libmesh/installed/lib/libnetcdf.so.13 (0x00007f1074dbf000)\n        libgfortran.so.5 => /opt/gcc-11.4/lib64/libgfortran.so.5 (0x00007f1074b10000)\n        libquadmath.so.0 => /opt/gcc-11.4/lib64/libquadmath.so.0 (0x00007f1074ac7000)\n        libtimpi_opt.so.11 => /opt/projects/moose/scripts/../libmesh/installed/lib/libtimpi_opt.so.11 (0x00007f1074aa6000)\n        libmpi_cxx.so.40 => /opt/openmpi-4.1.6/install/lib/libmpi_cxx.so.40 (0x00007f1074a87000)\n        libmpi.so.40 => /opt/openmpi-4.1.6/install/lib/libmpi.so.40 (0x00007f1074932000)\n        libopen-rte.so.40 => /opt/openmpi-4.1.6/install/lib/libopen-rte.so.40 (0x00007f1074875000)\n        libopen-pal.so.40 => /opt/openmpi-4.1.6/install/lib/libopen-pal.so.40 (0x00007f1074763000)\n        libudev.so.1 => /lib/x86_64-linux-gnu/libudev.so.1 (0x00007f1074721000)\n        libstdc++.so.6 => /opt/gcc-11.4/lib64/libstdc++.so.6 (0x00007f1074509000)\n        libslepc.so.3.21 => /opt/petsc/arch-linux-c-opt/lib/libslepc.so.3.21 (0x00007f1074177000)\n        libpetsc.so.3.21 => /opt/petsc/arch-linux-c-opt/lib/libpetsc.so.3.21 (0x00007f10721be000)\n        libHYPRE-2.31.0.so => /opt/petsc/arch-linux-c-opt/lib/libHYPRE-2.31.0.so (0x00007f106faf3000)\n        libscalapack.so.2.2 => /opt/petsc/arch-linux-c-opt/lib/libscalapack.so.2.2 (0x00007f106f48c000)\n        libsuperlu_dist.so.8 => /opt/petsc/arch-linux-c-opt/lib/libsuperlu_dist.so.8 (0x00007f106f2b9000)\n        libparmetis.so => /opt/petsc/arch-linux-c-opt/lib/libparmetis.so (0x00007f106f274000)\n        libmetis.so => /opt/petsc/arch-linux-c-opt/lib/libmetis.so (0x00007f106f20c000)\n        libhipsparse.so.0 => /opt/dtk-23.10/lib/libhipsparse.so.0 (0x00007f106efd5000)\n        libhipblas.so.0 => /opt/dtk-23.10/lib/libhipblas.so.0 (0x00007f106ed77000)\n        libhipsolver.so.0 => /opt/dtk-23.10/lib/libhipsolver.so.0 (0x00007f106eb31000)\n        librocsparse.so.0 => /opt/dtk-23.10/lib/librocsparse.so.0 (0x00007f1065feb000)\n        librocsolver.so.0 => /opt/dtk-23.10/lib/librocsolver.so.0 (0x00007f1057571000)\n        librocblas.so.0 => /opt/dtk-23.10/lib/librocblas.so.0 (0x00007f1053981000)\n        librocrand.so.1 => /opt/dtk-23.10/lib/librocrand.so.1 (0x00007f1051ce5000)\n        libgalaxyhip.so.5 => /opt/dtk-23.10/hip/lib/libgalaxyhip.so.5 (0x00007f1049633000)\n        libX11.so.6 => /lib/x86_64-linux-gnu/libX11.so.6 (0x00007f10494f6000)\n        libmpi_usempif08.so.40 => /opt/openmpi-4.1.6/install/lib/libmpi_usempif08.so.40 (0x00007f10494b6000)\n        libmpi_usempi_ignore_tkr.so.40 => /opt/openmpi-4.1.6/install/lib/libmpi_usempi_ignore_tkr.so.40 (0x00007f10494a7000)\n        libmpi_mpifh.so.40 => /opt/openmpi-4.1.6/install/lib/libmpi_mpifh.so.40 (0x00007f104943f000)\n        libpciaccess.so.0 => /lib/x86_64-linux-gnu/libpciaccess.so.0 (0x00007f1049432000)\n        libutil.so.1 => /lib/x86_64-linux-gnu/libutil.so.1 (0x00007f104942d000)\n        libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007f1049411000)\n        libgcc_s.so.1 => /opt/gcc-11.4/lib64/libgcc_s.so.1 (0x00007f10493f6000)\n        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f10493d3000)\n        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f10493c9000)\n        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f10493c1000)\n        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f1049272000)\n        libgomp.so.1 => /opt/gcc-11.4/lib64/libgomp.so.1 (0x00007f104922d000)\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f104903b000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f1078e38000)\n        libomp.so => /opt/dtk-23.10/llvm/lib/libomp.so (0x00007f1048d46000)\n        libelf.so.1 => /lib/x86_64-linux-gnu/libelf.so.1 (0x00007f1048d28000)\n        libnuma.so.1 => /lib/x86_64-linux-gnu/libnuma.so.1 (0x00007f1048d1b000)\n        libdrm.so.2 => /lib/x86_64-linux-gnu/libdrm.so.2 (0x00007f1048d05000)\n        libdrm_amdgpu.so.1 => /lib/x86_64-linux-gnu/libdrm_amdgpu.so.1 (0x00007f1048cf9000)\n        libhsa-runtime64.so.1 => /opt/hyhal/hsa/lib/libhsa-runtime64.so.1 (0x00007f1048a37000)\n        libtinfo.so.5 => /lib/x86_64-linux-gnu/libtinfo.so.5 (0x00007f1048a09000)\n        libxcb.so.1 => /lib/x86_64-linux-gnu/libxcb.so.1 (0x00007f10489dd000)\n        libNanoLog.so.1 => /opt/hyhal/lib/libNanoLog.so.1 (0x00007f1048988000)\n        libXau.so.6 => /lib/x86_64-linux-gnu/libXau.so.6 (0x00007f1048982000)\n        libXdmcp.so.6 => /lib/x86_64-linux-gnu/libXdmcp.so.6 (0x00007f104897a000)\n        libbsd.so.0 => /lib/x86_64-linux-gnu/libbsd.so.0 (0x00007f104895e000)",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10197760",
                          "updatedAt": "2024-07-31T06:43:29Z",
                          "publishedAt": "2024-07-31T06:42:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "\u4f60\u5e94\u8be5\u4f7f\u7528-mat_type aijhipsparse\n\nUsing aijhipsparse will give me an error. I thought it would not work if I followed the error message, but if I directly executed mpiexec -n 6 --allow-run-as-root ./ex01-opt -i ex01.i -vec_type hip, it would work normally.\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# mpiexec -n 6 --allow-run-as-root ./ex01-opt -i ex01.i -vec_type hip -mat_type aijhipsparse\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n\n\n*** Info ***\n'execute_on' parameter specified in [Outputs] block is ignored for object 'checkpoint'.\nDefine this object in its own sub-block of [Outputs] to modify its execution schedule.\n                                                                               [  0.15 s] [  226 MB]\nFramework Information:\nMOOSE Version:           unknown\nLibMesh Version:         \nPETSc Version:           3.21.0\nSLEPc Version:           3.21.0\nCurrent Time:            Wed Jul 31 14:55:41 2024\nExecutable Timestamp:    Mon Jul 29 16:33:43 2024\n\nParallelism:\n  Num Processors:          6\n  Num Threads:             1\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          3\n  Spatial Dimension:       3\n  Nodes:                   \n    Total:                 3774\n    Local:                 711\n    Min/Max/Avg:           543/711/629\n  Elems:                   \n    Total:                 2476\n    Local:                 412\n    Min/Max/Avg:           412/414/412\n  Num Subdomains:          1\n  Num Partitions:          6\n  Partitioner:             metis\n\nNonlinear System:\n  Num DOFs:                3774\n  Num Local DOFs:          711\n  Variables:               \"diffused\" \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nExecution Information:\n  Executioner:             Steady\n  Solver Mode:             Preconditioned JFNK\n\nLEGACY MODES ENABLED:\n This application uses the legacy material output option: material properties are output only on TIMESTEP_END, not INITIAL. To remove this message, set 'use_legacy_material_output' to false in this application. If there are gold output files that contain material property output for which output occurs on INITIAL, then these will generate diffs due to zero values being stored, and these tests should be re-golded.\n\nLEGACY MODES ENABLED:\n This application uses the legacy initial residual evaluation behavior. The legacy behavior performs an often times redundant residual evaluation before the solution modifying objects are executed prior to the initial (0th nonlinear iteration) residual evaluation. The new behavior skips that redundant residual evaluation unless the parameter Executioner/use_pre_smo_residual is set to true. To remove this message and enable the new behavior, set the parameter 'use_legacy_initial_residual_evaluation_behavior' to false in *App.C. Some tests that rely on the side effects of the legacy behavior may fail/diff and should be re-golded.\n\nCurrently Executing\n    Computing Pre-SMO Residual\n      Computing Residual..                                                               [ 18.46 s] [ 3816 MB]\nPre-SMO residual: 22.3159\n    Finished Computing Pre-SMO Residual                                                  [ 18.46 s] [ 3816 MB]\n 0 Nonlinear |R| = 6.105359e+00\n      0 Linear |R| = 6.105359e+00\n      1 Linear |R| = 6.105359e+00\n  Linear solve did not converge due to DIVERGED_BREAKDOWN iterations 1\nNonlinear solve did not converge due to DIVERGED_LOCAL_MIN iterations 0\n  Finished Solving                                                                       [ 18.52 s] [ 3830 MB]\n Solve Did NOT Converge!\nAborting as solve did not converge\nFinished Executing                                                                       [ 18.57 s] [ 3830 MB]\nWARNING! There are options you set that were not used!\nWARNING! could be spelling mistake, etc!\nThere are 2 unused database options. They are:\nOption left: name:-mat_mffd_type value: wp source: code\nOption left: name:-vec_type value: hip source: command line",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10197995",
                          "updatedAt": "2024-07-31T07:10:22Z",
                          "publishedAt": "2024-07-31T07:10:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@lindsayad shouldnt we see -lcuda or something in the linked libraries?",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10199028",
                          "updatedAt": "2024-07-31T08:50:39Z",
                          "publishedAt": "2024-07-31T08:50:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "I don't think so for an AMD GPU with HIP. Can you run with -snes_view? Also you need to specify Executioner/solve_type = NEWTON. I don't recall why, but these GPU implementations do not work with matrix-free Jacobians. As a demo on my machine with cuda for the simple_diffusion.i input:\nlindad@pop-os:~/projects/moose/test/tests/kernels/simple_diffusion(kokkos)$ ../../../moose_test-devel -i simple_diffusion.i -vec_type cuda -mat_type aijcusparse\n\n 0 Nonlinear |R| = 3.082207e+00\n      0 Linear |R| = 3.082207e+00\n      1 Linear |R| = 3.082207e+00\n  Linear solve did not converge due to DIVERGED_BREAKDOWN iterations 1\nNonlinear solve did not converge due to DIVERGED_LOCAL_MIN iterations 0\n Solve Did NOT Converge!\n\nlindad@pop-os:~/projects/moose/test/tests/kernels/simple_diffusion(kokkos)$ ../../../moose_test-devel -i simple_diffusion.i -vec_type cuda -mat_type aijcusparse Executioner/solve_type=NEWTON\n\n 0 Nonlinear |R| = 3.082207e+00\n      0 Linear |R| = 3.082207e+00\n      1 Linear |R| = 4.617657e-01\n      2 Linear |R| = 2.103940e-01\n      3 Linear |R| = 8.673169e-02\n      4 Linear |R| = 1.563373e-02\n      5 Linear |R| = 2.597863e-03\n      6 Linear |R| = 8.230456e-04\n      7 Linear |R| = 1.890142e-04\n      8 Linear |R| = 2.560477e-05\n 1 Nonlinear |R| = 2.560477e-05\n      0 Linear |R| = 2.560477e-05\n      1 Linear |R| = 5.688495e-06\n      2 Linear |R| = 1.086579e-06\n      3 Linear |R| = 3.885360e-07\n      4 Linear |R| = 1.164039e-07\n      5 Linear |R| = 4.452560e-08\n      6 Linear |R| = 2.011179e-08\n      7 Linear |R| = 2.891492e-09\n      8 Linear |R| = 2.379732e-10\n 2 Nonlinear |R| = 2.379733e-10",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10203303",
                          "updatedAt": "2024-07-31T16:10:11Z",
                          "publishedAt": "2024-07-31T16:09:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "This is the result of running with -snes_view,and I modify Executioner/solve_type = NEWTON in ex01.i\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# make -j 8\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# mpiexec -n 6 --allow-run-as-root ./ex01-opt -i ex01.i -vec_type hip -snes_view\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n\n\n*** Info ***\n'execute_on' parameter specified in [Outputs] block is ignored for object 'checkpoint'.\nDefine this object in its own sub-block of [Outputs] to modify its execution schedule.\n                                                                               [  0.15 s] [  228 MB]\nFramework Information:\nMOOSE Version:           unknown\nLibMesh Version:         \nPETSc Version:           3.21.0\nSLEPc Version:           3.21.0\nCurrent Time:            Thu Aug  1 20:24:23 2024\nExecutable Timestamp:    Mon Jul 29 16:33:43 2024\n\nParallelism:\n  Num Processors:          6\n  Num Threads:             1\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          3\n  Spatial Dimension:       3\n  Nodes:                   \n    Total:                 3774\n    Local:                 711\n    Min/Max/Avg:           543/711/629\n  Elems:                   \n    Total:                 2476\n    Local:                 412\n    Min/Max/Avg:           412/414/412\n  Num Subdomains:          1\n  Num Partitions:          6\n  Partitioner:             metis\n\nNonlinear System:\n  Num DOFs:                3774\n  Num Local DOFs:          711\n  Variables:               \"diffused\" \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nExecution Information:\n  Executioner:             Steady\n  Solver Mode:             NEWTON\n  MOOSE Preconditioner:    SMP (auto)\n\nLEGACY MODES ENABLED:\n This application uses the legacy material output option: material properties are output only on TIMESTEP_END, not INITIAL. To remove this message, set 'use_legacy_material_output' to false in this application. If there are gold output files that contain material property output for which output occurs on INITIAL, then these will generate diffs due to zero values being stored, and these tests should be re-golded.\n\nLEGACY MODES ENABLED:\n This application uses the legacy initial residual evaluation behavior. The legacy behavior performs an often times redundant residual evaluation before the solution modifying objects are executed prior to the initial (0th nonlinear iteration) residual evaluation. The new behavior skips that redundant residual evaluation unless the parameter Executioner/use_pre_smo_residual is set to true. To remove this message and enable the new behavior, set the parameter 'use_legacy_initial_residual_evaluation_behavior' to false in *App.C. Some tests that rely on the side effects of the legacy behavior may fail/diff and should be re-golded.\n\nCurrently Executing\n    Computing Pre-SMO Residual\n      Computing Residual..                                                               [ 18.42 s] [ 3817 MB]\nPre-SMO residual: 22.3159\n    Finished Computing Pre-SMO Residual                                                  [ 18.42 s] [ 3817 MB]\n 0 Nonlinear |R| = 6.105359e+00\n      0 Linear |R| = 6.105359e+00\n      1 Linear |R| = 9.974021e-01\n      2 Linear |R| = 4.553251e-01\n      3 Linear |R| = 2.267631e-01\n      4 Linear |R| = 1.491978e-01\n      5 Linear |R| = 1.100377e-01\n      6 Linear |R| = 7.298555e-02\n      7 Linear |R| = 5.521537e-02\n      8 Linear |R| = 4.391126e-02\n      9 Linear |R| = 3.575172e-02\n     10 Linear |R| = 2.973446e-02\n     11 Linear |R| = 2.281436e-02\n     12 Linear |R| = 1.551603e-02\n     13 Linear |R| = 7.965008e-03\n     14 Linear |R| = 3.390029e-03\n     15 Linear |R| = 2.212221e-03\n     16 Linear |R| = 1.609138e-03\n     17 Linear |R| = 1.157976e-03\n     18 Linear |R| = 9.072908e-04\n     19 Linear |R| = 6.776024e-04\n     20 Linear |R| = 4.972971e-04\n     21 Linear |R| = 3.304996e-04\n     22 Linear |R| = 2.118354e-04\n     23 Linear |R| = 1.469469e-04\n     24 Linear |R| = 9.480257e-05\n     25 Linear |R| = 6.049671e-05\n 1 Nonlinear |R| = 6.049671e-05\n      0 Linear |R| = 6.049671e-05\n      1 Linear |R| = 4.491059e-05\n      2 Linear |R| = 2.915180e-05\n      3 Linear |R| = 1.878568e-05\n      4 Linear |R| = 1.180170e-05\n      5 Linear |R| = 7.971916e-06\n      6 Linear |R| = 5.603588e-06\n      7 Linear |R| = 4.117062e-06\n      8 Linear |R| = 3.160187e-06\n      9 Linear |R| = 2.320609e-06\n     10 Linear |R| = 1.682351e-06\n     11 Linear |R| = 1.170422e-06\n     12 Linear |R| = 7.183455e-07\n     13 Linear |R| = 4.165589e-07\n     14 Linear |R| = 2.283220e-07\n     15 Linear |R| = 1.551421e-07\n     16 Linear |R| = 1.224430e-07\n     17 Linear |R| = 9.953858e-08\n     18 Linear |R| = 8.027675e-08\n     19 Linear |R| = 6.429647e-08\n     20 Linear |R| = 5.203135e-08\n     21 Linear |R| = 4.170252e-08\n     22 Linear |R| = 3.032067e-08\n     23 Linear |R| = 1.939533e-08\n     24 Linear |R| = 9.604536e-09\n     25 Linear |R| = 5.720933e-09\n     26 Linear |R| = 3.587562e-09\n     27 Linear |R| = 2.277113e-09\n     28 Linear |R| = 1.581914e-09\n     29 Linear |R| = 1.044613e-09\n     30 Linear |R| = 7.488340e-10\n     31 Linear |R| = 6.160169e-10\n     32 Linear |R| = 4.874183e-10\n 2 Nonlinear |R| = 4.874183e-10\nSNES Object: 6 MPI processes\n  type: newtonls\n  maximum iterations=50, maximum function evaluations=10000\n  tolerances: relative=1e-08, absolute=1e-50, solution=0.\n  total number of linear solver iterations=57\n  total number of function evaluations=3\n  norm schedule ALWAYS\n  SNESLineSearch Object: 6 MPI processes\n    type: bt\n      interpolation: cubic\n      alpha=1.000000e-04\n    maxstep=1.000000e+08, minlambda=1.000000e-12\n    tolerances: relative=1.000000e-08, absolute=1.000000e-15, lambda=1.000000e-08\n    maximum iterations=40\n  KSP Object: 6 MPI processes\n    type: gmres\n      restart=30, using Classical (unmodified) Gram-Schmidt Orthogonalization with no iterative refinement\n      happy breakdown tolerance 1e-30\n    maximum iterations=10000, initial guess is zero\n    tolerances: relative=1e-05, absolute=1e-50, divergence=1e+100\n    right preconditioning\n    using UNPRECONDITIONED norm type for convergence test\n  PC Object: 6 MPI processes\n    type: bjacobi\n      number of blocks = 6\n      Local solver information for first block is in the following KSP and PC objects on rank 0:\n      Use -ksp_view ::ascii_info_detail to display information for all blocks\n      KSP Object: (sub_) 1 MPI process\n        type: preonly\n        maximum iterations=10000, initial guess is zero\n        tolerances: relative=1e-05, absolute=1e-50, divergence=10000.\n        left preconditioning\n        using NONE norm type for convergence test\n      PC Object: (sub_) 1 MPI process\n        type: ilu\n          out-of-place factorization\n          0 levels of fill\n          tolerance for zero pivot 2.22045e-14\n          matrix ordering: natural\n          factor fill ratio given 1., needed 1.\n            Factored matrix follows:\n              Mat Object: (sub_) 1 MPI process\n                type: seqaij\n                rows=711, cols=711\n                package used to perform factorization: petsc\n                total: nonzeros=13657, allocated nonzeros=13657\n                  not using I-node routines\n        linear system matrix = precond matrix:\n        Mat Object: (sub_) 1 MPI process\n          type: seqaij\n          rows=711, cols=711\n          total: nonzeros=13657, allocated nonzeros=14630\n          total number of mallocs used during MatSetValues calls=0\n            not using I-node routines\n    linear system matrix = precond matrix:\n    Mat Object: () 6 MPI processes\n      type: mpiaij\n      rows=3774, cols=3774\n      total: nonzeros=78400, allocated nonzeros=81774\n      total number of mallocs used during MatSetValues calls=0\n        not using I-node (on process 0) routines\n Solve Converged!\n  Finished Solving                                                                       [ 19.54 s] [ 4019 MB]\n[e9a45d4c9858:01081] Read -1, expected 5328, errno = 14\n[e9a45d4c9858:01081] Read -1, expected 4728, errno = 14\n[e9a45d4c9858:01081] Read -1, expected 4824, errno = 14\n[e9a45d4c9858:01081] Read -1, expected 4344, errno = 14\n[e9a45d4c9858:01081] Read -1, expected 5280, errno = 14\nFinished Executing                                                                       [ 19.60 s] [ 4019 MB]",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10212054",
                          "updatedAt": "2024-08-01T12:31:39Z",
                          "publishedAt": "2024-08-01T12:31:38Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "I don't know what's happening with the errno but it looks like most things are working. You should still try passing -mat_type aijhipsparse because right now the matrix type showing up in -snes_view is standard aij",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10213783",
                          "updatedAt": "2024-08-01T14:57:06Z",
                          "publishedAt": "2024-08-01T14:57:06Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ljeft"
                          },
                          "bodyText": "It looks like it worked\nroot@e9a45d4c9858:/opt/projects/moose/examples/ex01_inputfile# mpiexec -n 6 --allow-run-as-root ./ex01-opt -i ex01.i -vec_type hip -snes_view -mat_type aijhipsparse\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n[LOG_ERROR] ROCR-Runtime_5.2_docker/src/core/runtime/interrupt_signal.cpp:135: Create events pool failed. return value: 0x1\n\n\n\n*** Info ***\n'execute_on' parameter specified in [Outputs] block is ignored for object 'checkpoint'.\nDefine this object in its own sub-block of [Outputs] to modify its execution schedule.\n                                                                               [  0.15 s] [  224 MB]\nFramework Information:\nMOOSE Version:           unknown\nLibMesh Version:         \nPETSc Version:           3.21.0\nSLEPc Version:           3.21.0\nCurrent Time:            Thu Aug  1 23:57:45 2024\nExecutable Timestamp:    Mon Jul 29 16:33:43 2024\n\nParallelism:\n  Num Processors:          6\n  Num Threads:             1\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          3\n  Spatial Dimension:       3\n  Nodes:                   \n    Total:                 3774\n    Local:                 711\n    Min/Max/Avg:           543/711/629\n  Elems:                   \n    Total:                 2476\n    Local:                 412\n    Min/Max/Avg:           412/414/412\n  Num Subdomains:          1\n  Num Partitions:          6\n  Partitioner:             metis\n\nNonlinear System:\n  Num DOFs:                3774\n  Num Local DOFs:          711\n  Variables:               \"diffused\" \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nExecution Information:\n  Executioner:             Steady\n  Solver Mode:             NEWTON\n  MOOSE Preconditioner:    SMP (auto)\n\nLEGACY MODES ENABLED:\n This application uses the legacy material output option: material properties are output only on TIMESTEP_END, not INITIAL. To remove this message, set 'use_legacy_material_output' to false in this application. If there are gold output files that contain material property output for which output occurs on INITIAL, then these will generate diffs due to zero values being stored, and these tests should be re-golded.\n\nLEGACY MODES ENABLED:\n This application uses the legacy initial residual evaluation behavior. The legacy behavior performs an often times redundant residual evaluation before the solution modifying objects are executed prior to the initial (0th nonlinear iteration) residual evaluation. The new behavior skips that redundant residual evaluation unless the parameter Executioner/use_pre_smo_residual is set to true. To remove this message and enable the new behavior, set the parameter 'use_legacy_initial_residual_evaluation_behavior' to false in *App.C. Some tests that rely on the side effects of the legacy behavior may fail/diff and should be re-golded.\n\nCurrently Executing\n    Computing Pre-SMO Residual\n      Computing Residual..                                                               [ 18.54 s] [ 3813 MB]\nPre-SMO residual: 22.3159\n    Finished Computing Pre-SMO Residual                                                  [ 18.54 s] [ 3813 MB]\n 0 Nonlinear |R| = 6.105359e+00\n      0 Linear |R| = 6.105359e+00\n      1 Linear |R| = 9.974021e-01\n      2 Linear |R| = 4.553251e-01\n      3 Linear |R| = 2.267631e-01\n      4 Linear |R| = 1.491978e-01\n      5 Linear |R| = 1.100377e-01\n      6 Linear |R| = 7.298555e-02\n      7 Linear |R| = 5.521537e-02\n      8 Linear |R| = 4.391126e-02\n      9 Linear |R| = 3.575172e-02\n     10 Linear |R| = 2.973446e-02\n     11 Linear |R| = 2.281436e-02\n     12 Linear |R| = 1.551603e-02\n     13 Linear |R| = 7.965008e-03\n     14 Linear |R| = 3.390029e-03\n     15 Linear |R| = 2.212221e-03\n     16 Linear |R| = 1.609138e-03\n     17 Linear |R| = 1.157976e-03\n     18 Linear |R| = 9.072908e-04\n     19 Linear |R| = 6.776024e-04\n     20 Linear |R| = 4.972971e-04\n     21 Linear |R| = 3.304996e-04\n     22 Linear |R| = 2.118354e-04\n     23 Linear |R| = 1.469469e-04\n     24 Linear |R| = 9.480257e-05\n     25 Linear |R| = 6.049671e-05\n 1 Nonlinear |R| = 6.049671e-05\n      0 Linear |R| = 6.049671e-05\n      1 Linear |R| = 4.491059e-05\n      2 Linear |R| = 2.915180e-05\n      3 Linear |R| = 1.878568e-05\n      4 Linear |R| = 1.180170e-05\n      5 Linear |R| = 7.971916e-06\n      6 Linear |R| = 5.603588e-06\n      7 Linear |R| = 4.117062e-06\n      8 Linear |R| = 3.160187e-06\n      9 Linear |R| = 2.320609e-06\n     10 Linear |R| = 1.682351e-06\n     11 Linear |R| = 1.170422e-06\n     12 Linear |R| = 7.183455e-07\n     13 Linear |R| = 4.165589e-07\n     14 Linear |R| = 2.283220e-07\n     15 Linear |R| = 1.551421e-07\n     16 Linear |R| = 1.224430e-07\n     17 Linear |R| = 9.953858e-08\n     18 Linear |R| = 8.027675e-08\n     19 Linear |R| = 6.429647e-08\n     20 Linear |R| = 5.203135e-08\n     21 Linear |R| = 4.170252e-08\n     22 Linear |R| = 3.032067e-08\n     23 Linear |R| = 1.939533e-08\n     24 Linear |R| = 9.604536e-09\n     25 Linear |R| = 5.720933e-09\n     26 Linear |R| = 3.587562e-09\n     27 Linear |R| = 2.277113e-09\n     28 Linear |R| = 1.581914e-09\n     29 Linear |R| = 1.044613e-09\n     30 Linear |R| = 7.488340e-10\n     31 Linear |R| = 6.160169e-10\n     32 Linear |R| = 4.874183e-10\n 2 Nonlinear |R| = 4.874183e-10\nSNES Object: 6 MPI processes\n  type: newtonls\n  maximum iterations=50, maximum function evaluations=10000\n  tolerances: relative=1e-08, absolute=1e-50, solution=0.\n  total number of linear solver iterations=57\n  total number of function evaluations=3\n  norm schedule ALWAYS\n  SNESLineSearch Object: 6 MPI processes\n    type: bt\n      interpolation: cubic\n      alpha=1.000000e-04\n    maxstep=1.000000e+08, minlambda=1.000000e-12\n    tolerances: relative=1.000000e-08, absolute=1.000000e-15, lambda=1.000000e-08\n    maximum iterations=40\n  KSP Object: 6 MPI processes\n    type: gmres\n      restart=30, using Classical (unmodified) Gram-Schmidt Orthogonalization with no iterative refinement\n      happy breakdown tolerance 1e-30\n    maximum iterations=10000, initial guess is zero\n    tolerances: relative=1e-05, absolute=1e-50, divergence=1e+100\n    right preconditioning\n    using UNPRECONDITIONED norm type for convergence test\n  PC Object: 6 MPI processes\n    type: bjacobi\n      number of blocks = 6\n      Local solver information for first block is in the following KSP and PC objects on rank 0:\n      Use -ksp_view ::ascii_info_detail to display information for all blocks\n      KSP Object: (sub_) 1 MPI process\n        type: preonly\n        maximum iterations=10000, initial guess is zero\n        tolerances: relative=1e-05, absolute=1e-50, divergence=10000.\n        left preconditioning\n        using NONE norm type for convergence test\n      PC Object: (sub_) 1 MPI process\n        type: ilu\n          out-of-place factorization\n          0 levels of fill\n          tolerance for zero pivot 2.22045e-14\n          matrix ordering: natural\n          factor fill ratio given 1., needed 1.\n            Factored matrix follows:\n              Mat Object: (sub_) 1 MPI process\n                type: seqaijhipsparse\n                rows=711, cols=711\n                package used to perform factorization: hipsparse\n                total: nonzeros=13657, allocated nonzeros=13657\n                  not using I-node routines\n        linear system matrix = precond matrix:\n        Mat Object: (sub_) 1 MPI process\n          type: seqaijhipsparse\n          rows=711, cols=711\n          total: nonzeros=13657, allocated nonzeros=14630\n          total number of mallocs used during MatSetValues calls=0\n            not using I-node routines\n    linear system matrix = precond matrix:\n    Mat Object: () 6 MPI processes\n      type: mpiaijhipsparse\n      rows=3774, cols=3774\n      total: nonzeros=78400, allocated nonzeros=81774\n      total number of mallocs used during MatSetValues calls=0\n        not using I-node (on process 0) routines\n  Finished Solving                                                                       [ 19.67 s] [ 4036 MB]\n Solve Converged!\n[e9a45d4c9858:04454] Read -1, expected 5328, errno = 14\n[e9a45d4c9858:04454] Read -1, expected 4728, errno = 14\n[e9a45d4c9858:04454] Read -1, expected 4824, errno = 14\n[e9a45d4c9858:04454] Read -1, expected 4344, errno = 14\n[e9a45d4c9858:04454] Read -1, expected 5280, errno = 14\nFinished Executing                                                                       [ 19.73 s] [ 4036 MB]",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10214409",
                          "updatedAt": "2024-08-01T16:00:14Z",
                          "publishedAt": "2024-08-01T16:00:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "excellent!",
                          "url": "https://github.com/idaholab/moose/discussions/27635#discussioncomment-10214663",
                          "updatedAt": "2024-08-01T16:26:42Z",
                          "publishedAt": "2024-08-01T16:26:39Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Mesh Adaptivity for a set of vector variables",
          "author": {
            "login": "lkuna24"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHi,\nI am working on simulating polarization in ferroelectric thin films utilizing and was wondering if it is possible to have a marker operate on a set of vector variables (polar_x, polar_y, polar_z) or possibly even the norm of the vector represented as an AuxVariable (something along the lines of VectorThresholdMarker).\nI have been unsuccessful trying to create such a custom Marker from scratch as when I try to add the three polar variables, as coupledValue, the compile throws an error that it does not recognize coupledValue.\nIn these simulations I need a fine mesh at the start for polar domains to form from the paralectric state and as they materialize, I would like for the mesh to coarsen within each domain, shown below:\n\nIn this case pictured the coarsening is happening on the polar_z variable.  I can't just use a ComboMarker as all three polar variables exist on every point in the mesh and if the marker operating on polar_z marks for COARSEN, the markers for polar_x and polar_y will mark for REFINE and my understanding is that REFINE will always take precedence over COARSEN.\nAdditionally I was wondering if max_h_level can be block restricted.\nThanks",
          "url": "https://github.com/idaholab/moose/discussions/28292",
          "updatedAt": "2024-08-02T18:17:31Z",
          "publishedAt": "2024-08-02T13:57:18Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "maxnezdyur"
                  },
                  "bodyText": "I would use https://mooseframework.inl.gov/source/auxkernels/VectorVariableComponentAux.html or https://mooseframework.inl.gov/source/auxkernels/VectorVariableMagnitudeAux.html , which will get you an auxvariable that other markers would work on. Or use coupledVectorValue to get the vector variable in your custom marker.",
                  "url": "https://github.com/idaholab/moose/discussions/28292#discussioncomment-10224267",
                  "updatedAt": "2024-08-02T14:06:14Z",
                  "publishedAt": "2024-08-02T14:06:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lkuna24"
                          },
                          "bodyText": "The formulation used in the Ferret application utilizes three separate LAGRANGE variables for each vector component as opposed to one variable that is considered a vector.  I don't believe this approach would work for use in these simulations, but what Marker can utilize an AuxVariable instead of a Variable?",
                          "url": "https://github.com/idaholab/moose/discussions/28292#discussioncomment-10225971",
                          "updatedAt": "2024-08-02T16:55:09Z",
                          "publishedAt": "2024-08-02T16:55:08Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "maxnezdyur"
                          },
                          "bodyText": "Think I am a bit lost.\n\nI am working on simulating polarization in ferroelectric thin films utilizing and was wondering if it is possible to have a marker operate on a set of vector variables (polar_x, polar_y, polar_z) or possibly even the norm of the vector represented as an AuxVariable (something along the lines of VectorThresholdMarker).\n\nSo it's not a \"Vector Variable\", instead you have 3 \"regular\" variables?  There are a few different auxkernels that can perform operations on sets of variables. This will give you a single variable that you can use for the markers. Markers work on auxvariables and variables.",
                          "url": "https://github.com/idaholab/moose/discussions/28292#discussioncomment-10226177",
                          "updatedAt": "2024-08-02T17:24:59Z",
                          "publishedAt": "2024-08-02T17:24:57Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lkuna24"
                          },
                          "bodyText": "Theres actually an AuxKernel inside of Ferret that computes the magnitude of the polarization using the three variable inputs.  Seems like this is working fine with the ValueThreshold Marker.\nThanks for your suggestions!",
                          "url": "https://github.com/idaholab/moose/discussions/28292#discussioncomment-10226526",
                          "updatedAt": "2024-08-02T18:17:27Z",
                          "publishedAt": "2024-08-02T18:17:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "< MPI_COMM_WORLD with errorcode 1>",
          "author": {
            "login": "dongcongcong606"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nDear friends, I have a question to consult.\nWhen I was learning according to the official MOOSE case, I could not run \u2018 the step01.i \u2019 file in the directory I customized, and the following error would be reported after running it.\nHowever, I was able to successfully run the \u2018step01.i\u2019 file in the original directory with the following results.\n(Optional) code in question / simulation log / errors\n(moose) paracs123@DESKTOP-ICLNLQV:~/projects/myfile/file009/solid_mechanics/step1$ ./solid_mechanics-opt -i mech_step01.i\n[DESKTOP-ICLNLQV:04197] mca_base_component_repository_open: unable to open mca_btl_openib: librdmacm.so.1: cannot open shared object file: No such file or directory (ignored)\n\n\n*** ERROR ***\n/home/paracs123/projects/myfile/file009/solid_mechanics/step1/mech_step01.i contains Windows(DOS) line endings which are not supported.\n\nStack frames: 10\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)\n2: void mooseError<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)\n3: MooseUtils::checkFileReadable(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool, bool)\n4: Parser::parse()\n5: Moose::createMooseApp(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, char**)\n6: ./solid_mechanics-opt(+0x20e0) [0x7f957b5f10e0]\n7: main\n8: __libc_start_main\n9: ./solid_mechanics-opt(+0x238b) [0x7f957b5f138b]\n--------------------------------------------------------------------------\nMPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD\nwith errorcode 1.\n\nNOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.\nYou may or may not see output from other processes, depending on\nexactly when Open MPI kills them.\n--------------------------------------------------------------------------\n\n\n\n\n(moose) paracs123@DESKTOP-ICLNLQV:~/projects/moose/modules/solid_mechanics/tutorials/introduction$ ./solid_mechanics-opt -i mech_step01.i\n[DESKTOP-ICLNLQV:04078] mca_base_component_repository_open: unable to open mca_btl_openib: librdmacm.so.1: cannot open shared object file: No such file or directory (ignored)\n\n\n*** Info ***\nSolidMechanics Action: selecting 'total small strain' formulation. Use `incremental = true` to select 'incremental small strain' instead.\nFramework Information:\nMOOSE Version:           git commit 5fd5cc99b0 on 2024-07-27\nLibMesh Version:\nPETSc Version:           3.20.3\nSLEPc Version:           3.20.1\nCurrent Time:            Thu Aug  1 16:59:40 2024\nExecutable Timestamp:    Thu Aug  1 16:42:53 2024\n\nCheckpoint:\n  Wall Time Interval:      Every 3600.000000 s\n  User Checkpoint:         Disabled\n  # Checkpoints Kept:      2\n  Execute On:              TIMESTEP_END\n\nParallelism:\n  Num Processors:          1\n  Num Threads:             1\n\nMesh:\n  Parallel Type:           replicated\n  Mesh Dimension:          2\n  Spatial Dimension:       2\n  Nodes:                   121\n  Elems:                   100\n  Num Subdomains:          1\n\nNonlinear System:\n  Num DOFs:                242\n  Num Local DOFs:          242\n  Variables:               { \"disp_x\" \"disp_y\" }\n  Finite Element Types:    \"LAGRANGE\"\n  Approximation Orders:    \"FIRST\"\n\nExecution Information:\n  Executioner:             Transient\n  TimeStepper:             ConstantDT\n  TimeIntegrator:          ImplicitEuler\n  Solver Mode:             Preconditioned JFNK\n\n\nTime Step 0, time = 0\n\nTime Step 1, time = 1, dt = 1\n 0 Nonlinear |R| = 0.000000e+00\n Solve Converged!\n\nTime Step 2, time = 2, dt = 1\n 0 Nonlinear |R| = 0.000000e+00\n Solve Converged!\n\nTime Step 3, time = 3, dt = 1\n 0 Nonlinear |R| = 0.000000e+00\n Solve Converged!\n\nTime Step 4, time = 4, dt = 1\n 0 Nonlinear |R| = 0.000000e+00\n Solve Converged!\n\nTime Step 5, time = 5, dt = 1\n 0 Nonlinear |R| = 0.000000e+00\n Solve Converged!\nWARNING! There are options you set that were not used!\nWARNING! could be spelling mistake, etc!\nThere is one unused database option. It is:\nOption left: name:-ksp_converged_reason value: ::failed source: code\nEncountering Errors? Please include diagnostic output\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/28278",
          "updatedAt": "2024-08-02T12:52:14Z",
          "publishedAt": "2024-08-01T09:22:40Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "You can see the difference between two files like so:\ndiff ~/projects/moose/modules/solid_mechanics/tutorials/introduction/mech_step01.i \\\n~/projects/myfile/file009/solid_mechanics/step1/mech_step01.i\nThe results on the screen will highlight the differences. Allowing you to understand why the first file is working, while the other file is not.",
                  "url": "https://github.com/idaholab/moose/discussions/28278#discussioncomment-10212188",
                  "updatedAt": "2024-08-01T12:41:13Z",
                  "publishedAt": "2024-08-01T12:41:12Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "/home/paracs123/projects/myfile/file009/solid_mechanics/step1/mech_step01.i contains Windows(DOS) line endings which are not supported.\n\nIf you use VSCode, you can ctrl+shift+P and convert the line endings.\nIf on linux you use dos2unix to change the line endings",
                          "url": "https://github.com/idaholab/moose/discussions/28278#discussioncomment-10223513",
                          "updatedAt": "2024-08-02T12:52:15Z",
                          "publishedAt": "2024-08-02T12:52:14Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to obtain the gradient matrix of the element, perform operations, and assemble the matrices?",
          "author": {
            "login": "tttsss-01"
          },
          "bodyText": "I want to calculate the $\\bar{\\mathbb{C}}$ as mentioned in the literature equation 31 and save its components in postprocessors.\n$\\bar{\\mathbb{C}}$ is the overall tangent modulus tensor, a four order tensor.\nI think I should follow equation 23 first, perform operations on the gradient matrices $\\boldsymbol{B}$ and $\\mathbb{C}$ of each element, and then assemble them to obtain $\\boldsymbol{K}$ and $\\boldsymbol{L}$.\nI am uncertain about how to do the following:\n\nHow to obtain the gradient matrix $\\boldsymbol{B}$ for each element, and what methods can be used to call $\\boldsymbol{B}$?\nHow to assemble the results calculated for each element.\nWhich class do these matrices belong to, and what existing methods do they have for operations?\n\nThank you very much for any assistance or guidance!",
          "url": "https://github.com/idaholab/moose/discussions/28243",
          "updatedAt": "2024-08-02T12:27:35Z",
          "publishedAt": "2024-07-27T21:37:53Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nwe do not form B currently afaik,  but kernels can access _test and its gradient for the currently considered test function.\nYou can look at Assembly.h for all the finite element arrays (shape, test functions, gradients etc) you can have access to\n\nHow to assemble the results calculated for each element.\n\nyou will want to unroll the loop essentially, so the residual is assembled in a moose-like manner for a given test function\n(see the section of the tutorial on kernels)",
                  "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10184470",
                  "updatedAt": "2024-07-31T09:27:20Z",
                  "publishedAt": "2024-07-29T22:41:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "tttsss-01"
                          },
                          "bodyText": "Thank you for your help. I reviewed how things are done in the kernel. I noticed that in StressDivergenceTensors and TotalLagrangianStressDivergenceBase, $\\boldsymbol{B}^T \\mathbb{C} \\boldsymbol{B}$  is computed at each quadrature point. For example, in TotalLagrangianStressDivergenceBase, I think this function returns the $\\boldsymbol{B}^T \\mathbb{C} \\boldsymbol{B}$ at the quadrature points:\ntemplate <class G>\nReal\nTotalLagrangianStressDivergenceBase<G>::computeQpJacobianDisplacement(unsigned int alpha,\n                                                                      unsigned int beta)\n{\n  // J_{alpha beta} = phi^alpha_{i, J} T_{iJkL} G^beta_{kL}\n  return gradTest(alpha).doubleContraction(_dpk1[_qp] * gradTrial(beta));\n}\nThen, in Kernel::computeJacobian and Kernel::computeOffDiagJacobian, these values are assembled into K (the specified component).\nvoid\nKernel::computeJacobian()\n{\n  prepareMatrixTag(_assembly, _var.number(), _var.number());\n\n  precalculateJacobian();\n  for (_i = 0; _i < _test.size(); _i++)\n    for (_j = 0; _j < _phi.size(); _j++)\n      for (_qp = 0; _qp < _qrule->n_points(); _qp++)\n        _local_ke(_i, _j) += _JxW[_qp] * _coord[_qp] * computeQpJacobian(); \n\n  accumulateTaggedLocalMatrix();\n\n  if (_has_diag_save_in && !_sys.computingScalingJacobian())\n  {\n    DenseVector<Number> diag = _assembly.getJacobianDiagonal(_local_ke);\n    Threads::spin_mutex::scoped_lock lock(Threads::spin_mtx);\n    for (const auto & var : _diag_save_in)\n      var->sys().solution().add_vector(diag, var->dofIndices());\n  }\n}\nI'm not entirely clear on what prepareMatrixTag and accumulateTaggedLocalMatrix do specifically. However, since we have already computed and assembled K, I assume there should be a way to access this K through some tag.\nSimilarly, I need to compute $\\boldsymbol L$ (compute $\\boldsymbol{B}^T \\mathbb{C}$ and assemble) . Is it feasible to perform such calculations within a postprocessor?\nAdditionally, I need to compute $K^{-1}$. Does there exist a method to compute the inverse of K?",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10193882",
                          "updatedAt": "2024-07-30T18:44:03Z",
                          "publishedAt": "2024-07-30T18:44:01Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "accumulateTaggedLocalMatrix moves values from the local_ke threaded matrix to the global shared-between-threads matrix\n\nHowever, since we have already computed and assembled K, I assume there should be a way to access this K through some tag.\n\nadd a matrix tag to all the kernels that contribute to K then you can retrieve it using that tag\nhttps://mooseframework.inl.gov/source/interfaces/TaggingInterface.html",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10199388",
                          "updatedAt": "2024-07-31T09:29:31Z",
                          "publishedAt": "2024-07-31T09:29:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "tttsss-01"
                          },
                          "bodyText": "I'm still not entirely sure how MOOSE assembles the Jacobian and off-diagonal Jacobian values into a global Jacobian matrix and then computes its inverse.\nI guess that the overall Jacobian is a block matrix composed of component * component sub-matrices, each of size N * N. Is  this correct?\nI guess that during the Newton iteration process, the inverse of the Jacobian ($K^{-1}$) should have been calculated. Is there a way to access it directly?\nIf we were to recompute $K^{-1}$, do you have any suggestions?",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10219202",
                          "updatedAt": "2024-08-02T04:12:36Z",
                          "publishedAt": "2024-08-02T04:12:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "It does not compute its inverse directly. It solves the numerical system for the Newton update equation\nWhat do you mean by N here?\nYou can have petsc compute the inverse in a user object if you want. This will only work well for tiny problems.",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10219836",
                          "updatedAt": "2024-08-02T06:10:18Z",
                          "publishedAt": "2024-08-02T06:10:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "tttsss-01"
                          },
                          "bodyText": "N is the number of nodes",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10223095",
                          "updatedAt": "2024-08-02T12:02:12Z",
                          "publishedAt": "2024-08-02T12:02:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I guess that the overall Jacobian is a block matrix composed of component * component sub-matrices, each of size N * N. Is this correct?\n\nN should be the number of DoFs here, not the number of nodes. If you are using 1st order Lagrange then for a single variable that is the case.\nFor the block-matrices, are you asking about the DoFs are ordered for multiple variables?",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10223245",
                          "updatedAt": "2024-08-02T12:19:50Z",
                          "publishedAt": "2024-08-02T12:19:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "tttsss-01"
                          },
                          "bodyText": "Yes, this is what I wanted to ask.",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10223264",
                          "updatedAt": "2024-08-02T12:22:41Z",
                          "publishedAt": "2024-08-02T12:22:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "DoF ordering should be by default: rank/variable group/dof object/variable\nthis can be changed by the user so be careful coding for a given ordering",
                          "url": "https://github.com/idaholab/moose/discussions/28243#discussioncomment-10223301",
                          "updatedAt": "2024-08-02T12:27:36Z",
                          "publishedAt": "2024-08-02T12:27:35Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to get the displacement of the node of the current element?",
          "author": {
            "login": "Yasunaoka"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello Moose community!\nI want to implement hourglass resistance in my app, I'm going to add a new residual to each node in computeResidualAdditional(), in this process I need to get the displacement_old and displacement_older of the four nodes of the current element, I've looked at the other code and all I found was the displacement at the qp point, and all I need is the displacement on the nodes.\nIt occurred to me that maybe I could get it directly from the solution vector:\n  auto & olderglo = _sys.solutionOlder();\n  auto & oldglo = _sys.solutionOld();\n\n  std::vector<Number> old;\n  std::vector<Number> older;\n\n  oldglo.localize(old);\n  olderglo.localize(older);\n\n  // Real dx1 = old[(_current_elem->node_id(0)) * 2] - older[(_current_elem->node_id(0)) * 2];\n  // Real dy1 = old[_current_elem->node_id(0) * 2 + 1] - older[_current_elem->node_id(0) * 2 + 1];\n  // Real dx2 = old[(_current_elem->node_id(1)) * 2] - older[(_current_elem->node_id(1)) * 2];\n  // Real dy2 = old[_current_elem->node_id(1) * 2 + 1] - older[_current_elem->node_id(1) * 2 + 1];\n  // Real dx3 = old[(_current_elem->node_id(2)) * 2] - older[(_current_elem->node_id(2)) * 2];\n  // Real dy3 = old[_current_elem->node_id(2) * 2 + 1] - older[_current_elem->node_id(2) * 2 + 1];\n  // Real dx4 = old[(_current_elem->node_id(3)) * 2] - older[(_current_elem->node_id(3)) * 2];\n  // Real dy4 = old[_current_elem->node_id(3) * 2 + 1] - older[_current_elem->node_id(3) * 2 + 1];\n\nThis would work with a single thread, but not with multiple threads, and I'm thinking that maybe what is returned is not the global solution vector? Do you have a better way to do this? Thanks a lot!",
          "url": "https://github.com/idaholab/moose/discussions/28279",
          "updatedAt": "2024-08-02T09:28:56Z",
          "publishedAt": "2024-08-01T10:05:06Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nWhy dont you use a nodalKernel to add a residual on each node?\nDoes it need to be integrated over each element?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28279#discussioncomment-10214101",
                  "updatedAt": "2024-08-01T15:27:00Z",
                  "publishedAt": "2024-08-01T15:27:00Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Yasunaoka"
                          },
                          "bodyText": "Hello!\n1.I did check some of the official nodalkernel code, and it looks like there are no shape functions involved in it (from what I've seen of the code). Also, there's _qp in there, and I don't quite understand where the _qp is the integration point here (e.g. some low-order cells, where the integration point only exists inside the cell, so which cell's integration point does this _qp actually refer to?) . I'm not familiar with nodalkernel, so I didn't use nodalkernel.\n2.Yes, the calculation of hourglass resistance is based on the deformed modes of the element, and according to the formula, I need: node coordinates of the current element, node displacement, node displacement_old, and the shape function (and it's gradient)\n\n\n\nUnder solidmechanics, can we get the node displacement in kernel? Or can this problem be solved in nodalkernel? Thank you very much for your help!",
                          "url": "https://github.com/idaholab/moose/discussions/28279#discussioncomment-10214412",
                          "updatedAt": "2024-08-01T16:00:41Z",
                          "publishedAt": "2024-08-01T16:00:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "_qp is the node index in nodal kernels. The notation is abused",
                          "url": "https://github.com/idaholab/moose/discussions/28279#discussioncomment-10214877",
                          "updatedAt": "2024-08-01T16:52:38Z",
                          "publishedAt": "2024-08-01T16:52:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Yasunaoka"
                          },
                          "bodyText": "Hi,thanks for your help!\nSo here is the problem:\nIn kernel,I can't get the node variable like displacement.\nThen in nodalkernel, I can't get the element variable like the test function,although I can get the node variable.\nIs there any way to solve this problem? Much appreciated!",
                          "url": "https://github.com/idaholab/moose/discussions/28279#discussioncomment-10218355",
                          "updatedAt": "2024-08-02T02:11:18Z",
                          "publishedAt": "2024-08-02T02:11:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok so for both cases, you could use the Functor APIs in variables.\nYou can see those APIs in the doxygen for variables, or you can see them in MooseFunctor.h, which has the definition of the base functor class that variables inherit\nSee MooseFunctorArgument.h for all the potential arguments you can use. There's nodal arguments, there s elemental arguments etc",
                          "url": "https://github.com/idaholab/moose/discussions/28279#discussioncomment-10220248",
                          "updatedAt": "2024-08-02T07:02:56Z",
                          "publishedAt": "2024-08-02T07:02:55Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "Yasunaoka"
                  },
                  "bodyText": "Hi\n  auto du0 = _var.getNodalValue(_current_elem->node_ref(0)) -\n             _var.getNodalValueOld(_current_elem->node_ref(0));\n\nproblem solved! Thanks!",
                  "url": "https://github.com/idaholab/moose/discussions/28279#discussioncomment-10221779",
                  "updatedAt": "2024-08-02T09:28:38Z",
                  "publishedAt": "2024-08-02T09:28:38Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Control which Auxvariable to be saved in exodus file",
          "author": {
            "login": "Traiwit"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHi all,\nSo, in general case all Auxvariables will be saved into .e file during outputting step.\nI just wondering is there a way to control which Auxvariable to be saved in exodus file ?\nfor example, I want some of the Auxvariables to be saved every 10 timestep, but the rest to be saved at every timestep? is it possible to do this?\nor just choose which Auxvariables to be saved?\nThank you guys!\nTraiwit",
          "url": "https://github.com/idaholab/moose/discussions/28286",
          "updatedAt": "2024-08-06T03:22:13Z",
          "publishedAt": "2024-08-02T04:10:48Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou can't choose the frequency for each auxvariable currently in a single exodus file\nYou can choose which variables using hide/show in the Outputs block\nAnd you can choose the output frequency using the interval parameters.\nYou could have two exodus output for the two different output frequency groups of variables\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28286#discussioncomment-10220106",
                  "updatedAt": "2024-08-02T06:46:10Z",
                  "publishedAt": "2024-08-02T06:46:09Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Traiwit"
                          },
                          "bodyText": "Hi @GiudGiud,\nthank you! I will try to work around this\na quick question: for hide/show, if I only input some variable under hide, will it still show the rest of the auxvariable OR if I choose to do hide, I will also need to mention all the show?\nI will get back to you RE: interval parameters soon.\nTraiwit",
                          "url": "https://github.com/idaholab/moose/discussions/28286#discussioncomment-10220374",
                          "updatedAt": "2024-08-02T07:16:29Z",
                          "publishedAt": "2024-08-02T07:16:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "If you use hide you don't need to use show. And vice versa",
                          "url": "https://github.com/idaholab/moose/discussions/28286#discussioncomment-10220387",
                          "updatedAt": "2024-08-02T07:18:17Z",
                          "publishedAt": "2024-08-02T07:18:16Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}