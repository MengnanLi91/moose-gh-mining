{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyMS0xMS0yM1QxNDoyMzozNS0wNjowMM4AOCgo"
    },
    "edges": [
      {
        "node": {
          "title": "Visualization in MOOSE [DoFs]",
          "author": {
            "login": "jinca"
          },
          "bodyText": "Hello all,\nMay I ask how many DoFs the MOOSE application and peacock can handle?\nDoes it have a maximum number? what about more than 121 millions of DoFs?\nThanks in advance!\nJulita",
          "url": "https://github.com/idaholab/moose/discussions/19433",
          "updatedAt": "2022-10-30T07:25:23Z",
          "publishedAt": "2021-11-19T15:29:40Z",
          "category": {
            "name": "Q&A Meshing"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "ykvishal"
                  },
                  "bodyText": "It is better to limit peacock for small  simulations only. You can always run simulation via terminal and visualize output with Paraview. I ran few simulations with 3.5e9 DOFs, but you will need huge computational resources to run such large simulations.",
                  "url": "https://github.com/idaholab/moose/discussions/19433#discussioncomment-1672956",
                  "updatedAt": "2022-10-30T07:25:32Z",
                  "publishedAt": "2021-11-19T21:53:51Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jinca"
                  },
                  "bodyText": "Thank you for the answer. Could you please let me know if you used a supercomputer? My DoF is 10 to 8 instead of your test of 10 to 9.\nAppreciate again your help, Julita",
                  "url": "https://github.com/idaholab/moose/discussions/19433#discussioncomment-1678250",
                  "updatedAt": "2022-10-30T07:25:44Z",
                  "publishedAt": "2021-11-21T19:26:44Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "Yes, I always use HPC for running MOOSE  simulations and visualization of data.",
                          "url": "https://github.com/idaholab/moose/discussions/19433#discussioncomment-1678282",
                          "updatedAt": "2022-10-30T07:25:45Z",
                          "publishedAt": "2021-11-21T19:36:51Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "jinca"
                  },
                  "bodyText": "Thanks again @ykvishal, could you please let me know the configuration of the modules you used to do the visualization? Cheers!",
                  "url": "https://github.com/idaholab/moose/discussions/19433#discussioncomment-1705669",
                  "updatedAt": "2022-10-30T07:25:45Z",
                  "publishedAt": "2021-11-26T12:56:54Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ykvishal"
                          },
                          "bodyText": "This part is tricky, and it is not related to MOOSE. You may have to work with your HPC support team. I had shared my following requirements to my HPC support team:\n\nUse of desktop OnDemand (DOD)\nParaview is installed in DOD\nDOD works on whole node (ie I can use all cores of a given node)\nDOD also has a GPU\nParaview works in auto parallel mode in DOD (not using master/slave option. MS option is very slow)\n\nAfter a lot of problems, my HPC support team managed to make it work for me. Now, I can easily process 4TB data.  Also, for a couple of GB data, normal paraview works fine.\nI hope that it will work out for you. All the best.",
                          "url": "https://github.com/idaholab/moose/discussions/19433#discussioncomment-1713295",
                          "updatedAt": "2022-11-08T07:48:36Z",
                          "publishedAt": "2021-11-29T01:50:20Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Recovering from a split mesh calc",
          "author": {
            "login": "makeclean"
          },
          "bodyText": "I've got a problem that I split into 36 bits using split-mesh, I turned recovery on, since I knew this calc was going to run longer than my HPC's queue time. It split fine, and ran fine with the following command:\nmpirun -np 36 --npernode 6 <exec> -i <input_file> --use-split\n\nI included a recovery option in the input,\n[Outputs]\n  [checkpoints]\n      type = Checkpoint\n      num_files = 2\n      interval = 40\n  []\n[]\n\nHowever, when trying to restart I get consisent failures; using the command\nmpirun -np 36 --npernode 6 <exec> -i <input_file> --use-split --recover\n\nI get the error,\n** ERROR ***\nERROR: Neither one of the following files can be located:\n\t'_mesh.cpr/36/header.cpr' nor\n\t'_mesh.cpr'\nIf you are running a parallel job, double check that you've created a split for 36 ranks.\nNote: One of paths above may refer to a valid directory on your system, however we are attempting to read a valid header file.\n\nEven setting the split mesh filename --split-file tpipe.cpr makes no difference to the error. In the checkpoint directory for the filename, which happens to be tpipe-cfl-water-temp-correct-pc-6-36_checkpoints_cp/1920_mesh.cpr.\nIs there a better way/right way to restart properly?",
          "url": "https://github.com/idaholab/moose/discussions/19429",
          "updatedAt": "2022-06-14T02:42:52Z",
          "publishedAt": "2021-11-19T10:53:04Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "I think that s the way but maybe someone will correct me\nCan you get this to run by renaming the folder to the name it s expecting? _mesh.cpr it seems",
                  "url": "https://github.com/idaholab/moose/discussions/19429#discussioncomment-1685695",
                  "updatedAt": "2022-06-14T02:43:36Z",
                  "publishedAt": "2021-11-23T06:52:21Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": ":sad face: afraid not,\n*** Info ***\nUsing  for recovery.\nSetting Up\n  Setting Mesh...                                                                        [\n 27.30 s] [ 1270 MB]\nFinished Setting Up                                                                      [\n 29.15 s] [ 1339 MB]\n\n*** ERROR ***\nUnable to open file \".rd-47\". Check to make sure that it exists and that you have read per\nmission.\n\nI made a symbolic link from the timestep number/num splits folder to _mesh.cpr as suggested, its a hard no.",
                          "url": "https://github.com/idaholab/moose/discussions/19429#discussioncomment-1696743",
                          "updatedAt": "2022-06-14T02:43:37Z",
                          "publishedAt": "2021-11-24T21:45:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ah it is looking for an empty filename now. There might be broken logic. I ll see if I can repoduce this",
                          "url": "https://github.com/idaholab/moose/discussions/19429#discussioncomment-1697763",
                          "updatedAt": "2022-06-14T02:43:43Z",
                          "publishedAt": "2021-11-25T03:58:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok so I think the problem is that you did not specify the file name after --recover\nI m going to think about this more but maybe we want to error here when the file name is missing. Not sure why \" \" was an OK default",
                          "url": "https://github.com/idaholab/moose/discussions/19429#discussioncomment-1713112",
                          "updatedAt": "2022-06-14T02:43:43Z",
                          "publishedAt": "2021-11-29T00:33:04Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Note that once the mesh is split, I think the recover use that directly, no need to add --use-split --split-file split-mesh-filename anymore, since\n--recover input_name_checkpoint_cp/00014 (which is akin to what you need to specify here) is already a distributed file.\nSplits are sort of a confusing additional distinction in general. It's really distributed vs replicated mesh that is the big deal. Using a split or not only makes a difference at initialization, on slow file systems. I think this question is more about a distributed recover than a split recover.",
                          "url": "https://github.com/idaholab/moose/discussions/19429#discussioncomment-1713125",
                          "updatedAt": "2022-06-14T02:43:54Z",
                          "publishedAt": "2021-11-29T00:40:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "\"Solve did not converge\"",
          "author": {
            "login": "abc-hy"
          },
          "bodyText": "I have some questions about \"Solve did not converge\".\nI want to set the mobility function as c dependent variable, which equals to M=abs(1-c^2), which is the absolute value of (1-c^2). However, my simulation always cannot converge, even though the time steps go downs to 10e(-14). When I do not set mobility as a function of c and just set M=1 or other constant, using the same parameters, it can work and can get results. I wonder what's the problem? Why can't it run when using c dependent mobility? Could you give me some advice about this?\nThank you very much.\nThe following is my input file.\n[Mesh]\n  type = GeneratedMesh\n  dim = 2\n  elem_type = QUAD4\n  nx = 60\n  ny = 24\n  nz = 0\n  xmin = 0\n  xmax = 6.0\n  ymin = 0\n  ymax = 2.4\n  zmin = 0\n  zmax = 0\n  uniform_refine = 3\n  nemesis = true\n  skip_partitioning = true\n[]\n\n[Variables]\n\n  [./c]\n    order = FIRST\n    family = LAGRANGE\n    [./InitialCondition]\n      type = IsolatedBoundingBoxIC\n      smaller_coordinate_corners = '0.0 0.3 0   0.0 1.5 0  4.0 0.3 0   4.0 1.5 0  2.0 0.0 0'\n      larger_coordinate_corners =  '2.0 0.9 0   2.0 2.1 0  6.0 0.9 0   6.0 2.1 0  4.0 2.4 0'\n      inside = '1.0 1.0 1.0 1.0 0.0'\n      outside = -1.0\n      int_width = 0\n    [../]\n  [../]\n\n  [./w]\n    order = FIRST\n    family = LAGRANGE\n  [../]\n\n[]\n\n\n[BCs]\n  [./Periodic]\n    [./cx]\n      variable = c\n      auto_direction = 'x,y'\n    [../]\n    [./wx]\n      variable = w\n      auto_direction = 'x,y'\n    [../]\n  [../]\n\n[]\n\n\n[Kernels]\n  [./c_res]\n    type = SplitCHParsed\n    variable = c\n    f_name = F\n    kappa_name = kappa_c\n    w = w\n  [../]\n  [./w_res]\n    type = SplitCHWRes\n    variable = w\n    mob_name = M\n  [../]\n  [./time]\n    type = CoupledTimeDerivative\n    variable = w\n    v = c\n  [../]\n[]\n\n\n[Materials]\n  [./mobility]\n    type = DerivativeParsedMaterial\n    f_name = M\n    args = 'c'\n    function = abs(1-c^2)\n    derivative_order = 1\n  [../]\n\n  [./kappa_c]\n    type = GenericConstantMaterial\n    prop_names  = 'kappa_c'\n    prop_values = '8.0e-4'\n  [../]\n\n  [./free_energy]\n    # equivalent to `MathFreeEnergy`\n    type = DerivativeParsedMaterial\n    f_name = F\n    args = 'c'\n    function = (27/8)*c^2*(2-4*c^2+2*c^4)\n  [../]\n[]\n\n[Postprocessors]\n  [./step_size]             # Size of the time step\n    type = TimestepSize\n  [../]\n  [./iterations]            # Number of iterations needed to converge timestep\n    type = NumNonlinearIterations\n  [../]\n  [./nodes]                 # Number of nodes in mesh\n    type = NumNodes\n  [../]\n  [./evaluations]           # Cumulative residual calculations for simulation\n    type = NumResidualEvaluations\n  [../]\n  [./active_time]           # Time computer spent on simulation\n    type = PerfGraphData\n    section_name = \"Root\"\n    data_type = total\n  [../]\n  [./c]            # output concentration file\n    type = ElementAverageValue\n    variable = 'c'\n  [../]\n\n[]\n\n[VectorPostprocessors]\n  [./x_direc]\n   type =  LineValueSampler\n    start_point = '0 1.2 0'\n    end_point = '6 1.2 0'\n    variable = 'c'\n    num_points = 600\n    sort_by =  id\n  [../]\n[]\n\n\n\n[Preconditioning]\n  # active = ' '\n  [./SMP]\n    type = SMP\n    full = true\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  scheme = 'BDF2'\n  #petsc_options = '-snes_mf'\n\n  #Preconditioned JFNK (default)\n  solve_type = 'NEWTON'\n\n  petsc_options_iname = '-pc_type -ksp_grmres_restart -sub_ksp_type -sub_pc_type -pc_asm_overlap'\n  petsc_options_value = 'asm      31                  preonly       lu           1'\n  #petsc_options_iname = '-pc_type'\n  #petsc_options_value = 'lu'\n\n  l_max_its = 30 # maximum linear iterations\n  l_tol = 1.0e-6 # 0.001 Linear Tolerance\n\n  nl_max_its = 50 # maximum number of nonlinear iterations. exceed will cut dt.\n  nl_rel_tol = 1.0e-9 # -8 nonlinear relative tolerance\n  #num_steps = 2\n\n  [./TimeStepper]\n    type = IterationAdaptiveDT\n    dt = 1e-6\n    cutback_factor = 0.67\n    growth_factor = 1.5   # 1.6\n    optimal_iterations = 10\n    iteration_window = 2\n  [../]\n\n  [./Adaptivity]\n    coarsen_fraction = 0.1\n    refine_fraction = 0.7\n    max_h_level = 3\n    interval = 1\n  [../]\n[]\n\n[Debug]\n  show_var_residual_norms = true\n[]\n\n[Outputs]\n  exodus = true\n  console = true\n  csv = true\n  interval = 2\n  checkpoint = true\n  [./console]\n    type = Console\n    max_rows = 10\n  [../]\n[]",
          "url": "https://github.com/idaholab/moose/discussions/19427",
          "updatedAt": "2022-07-18T19:22:40Z",
          "publishedAt": "2021-11-19T04:45:54Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "jiangwen84"
                  },
                  "bodyText": "Add line_search = 'none'  in [Executioner] block.",
                  "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672069",
                  "updatedAt": "2022-07-18T19:22:46Z",
                  "publishedAt": "2021-11-19T17:58:57Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "I added, but it still cannot converge...",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672851",
                          "updatedAt": "2022-07-18T19:22:43Z",
                          "publishedAt": "2021-11-19T21:24:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "What is your output? Here are the outputs on my machine for the first two steps\nTime Step 0, time = 0\n\nPostprocessor Values:\n+----------------+----------------+----------------+----------------+----------------+----------------+----------------+\n| time           | active_time    | c              | evaluations    | iterations     | nodes          | step_size      |\n+----------------+----------------+----------------+----------------+----------------+----------------+----------------+\n|   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |\n+----------------+----------------+----------------+----------------+----------------+----------------+----------------+\n\n\nTime Step 1, time = 1e-06, dt = 1e-06\n 0 Nonlinear |R| = 8.285239e-02\n    |residual|_2 of individual variables:\n                          c: 0.0828524\n                          w: 0\n      0 Linear |R| = 8.285239e-02\n      1 Linear |R| = 8.285200e-02\n      2 Linear |R| = 8.150147e-02\n      3 Linear |R| = 4.260034e-03\n      4 Linear |R| = 5.015487e-05\n      5 Linear |R| = 1.157116e-06\n      6 Linear |R| = 2.224111e-08\n 1 Nonlinear |R| = 1.815031e+02\n    |residual|_2 of individual variables:\n                          c: 0.0113577\n                          w: 181.503\n      0 Linear |R| = 1.815031e+02\n      1 Linear |R| = 5.486170e+00\n      2 Linear |R| = 7.953554e-02\n      3 Linear |R| = 8.190110e-04\n      4 Linear |R| = 1.888074e-05\n 2 Nonlinear |R| = 4.182435e+01\n    |residual|_2 of individual variables:\n                          c: 0.000538839\n                          w: 41.8243\n      0 Linear |R| = 4.182435e+01\n      1 Linear |R| = 8.875130e-01\n      2 Linear |R| = 1.523437e-02\n      3 Linear |R| = 1.150581e-04\n      4 Linear |R| = 3.098059e-06\n 3 Nonlinear |R| = 4.621102e+00\n    |residual|_2 of individual variables:\n                          c: 7.24766e-06\n                          w: 4.6211\n      0 Linear |R| = 4.621102e+00\n      1 Linear |R| = 8.304308e-02\n      2 Linear |R| = 1.760706e-03\n      3 Linear |R| = 1.010337e-05\n      4 Linear |R| = 3.136062e-07\n 4 Nonlinear |R| = 4.457247e-01\n    |residual|_2 of individual variables:\n                          c: 6.77449e-08\n                          w: 0.445725\n      0 Linear |R| = 4.457247e-01\n      1 Linear |R| = 7.753800e-03\n      2 Linear |R| = 1.641713e-04\n      3 Linear |R| = 9.331427e-07\n      4 Linear |R| = 2.891046e-08\n 5 Nonlinear |R| = 4.246875e-02\n    |residual|_2 of individual variables:\n                          c: 6.02473e-10\n                          w: 0.0424687\n      0 Linear |R| = 4.246875e-02\n      1 Linear |R| = 7.411905e-04\n      2 Linear |R| = 1.571718e-05\n      3 Linear |R| = 8.825800e-08\n      4 Linear |R| = 2.726539e-09\n 6 Nonlinear |R| = 4.041104e-03\n    |residual|_2 of individual variables:\n                          c: 5.45484e-12\n                          w: 0.0040411\n      0 Linear |R| = 4.041104e-03\n      1 Linear |R| = 7.078257e-05\n      2 Linear |R| = 1.503071e-06\n      3 Linear |R| = 8.375145e-09\n      4 Linear |R| = 2.598920e-10\n 7 Nonlinear |R| = 3.843661e-04\n    |residual|_2 of individual variables:\n                          c: 7.64895e-14\n                          w: 0.000384366\n      0 Linear |R| = 3.843661e-04\n      1 Linear |R| = 6.727144e-06\n      2 Linear |R| = 1.428448e-07\n      3 Linear |R| = 7.919418e-10\n      4 Linear |R| = 2.472098e-11\n 8 Nonlinear |R| = 3.655650e-05\n    |residual|_2 of individual variables:\n                          c: 5.48361e-15\n                          w: 3.65565e-05\n      0 Linear |R| = 3.655650e-05\n      1 Linear |R| = 6.387932e-07\n      2 Linear |R| = 1.355982e-08\n      3 Linear |R| = 7.488306e-11\n      4 Linear |R| = 2.346971e-12\n 9 Nonlinear |R| = 3.477132e-06\n    |residual|_2 of individual variables:\n                          c: 5.27632e-16\n                          w: 3.47713e-06\n      0 Linear |R| = 3.477132e-06\n      1 Linear |R| = 6.070457e-08\n      2 Linear |R| = 1.288444e-09\n      3 Linear |R| = 7.092992e-12\n      4 Linear |R| = 2.228944e-13\n10 Nonlinear |R| = 3.307543e-07\n    |residual|_2 of individual variables:\n                          c: 1.3744e-16\n                          w: 3.30754e-07\n      0 Linear |R| = 3.307543e-07\n      1 Linear |R| = 5.771057e-09\n      2 Linear |R| = 1.224883e-10\n      3 Linear |R| = 6.726408e-13\n      4 Linear |R| = 2.118326e-14\n11 Nonlinear |R| = 3.146314e-08\n    |residual|_2 of individual variables:\n                          c: 1.19667e-16\n                          w: 3.14631e-08\n      0 Linear |R| = 3.146314e-08\n      1 Linear |R| = 5.486476e-10\n      2 Linear |R| = 1.164456e-11\n      3 Linear |R| = 6.382546e-14\n      4 Linear |R| = 2.013889e-15\n12 Nonlinear |R| = 2.993009e-09\n    |residual|_2 of individual variables:\n                          c: 1.07805e-16\n                          w: 2.99301e-09\n      0 Linear |R| = 2.993009e-09\n      1 Linear |R| = 5.216475e-11\n      2 Linear |R| = 1.107121e-12\n      3 Linear |R| = 6.060069e-15\n      4 Linear |R| = 1.915544e-16\n13 Nonlinear |R| = 2.847066e-10\n    |residual|_2 of individual variables:\n                          c: 9.72036e-17\n                          w: 2.84707e-10\n      0 Linear |R| = 2.847066e-10\n      1 Linear |R| = 4.958110e-12\n      2 Linear |R| = 1.052049e-13\n      3 Linear |R| = 5.723158e-16\n      4 Linear |R| = 1.812027e-17\n14 Nonlinear |R| = 2.712280e-11\n    |residual|_2 of individual variables:\n                          c: 9.22088e-17\n                          w: 2.71228e-11\n Solve Converged!\n  Finished Solving                                                                       [  5.04 s] [   71 MB]\n\nPostprocessor Values:\n+----------------+----------------+----------------+----------------+----------------+----------------+----------------+\n| time           | active_time    | c              | evaluations    | iterations     | nodes          | step_size      |\n+----------------+----------------+----------------+----------------+----------------+----------------+----------------+\n|   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |   0.000000e+00 |\n|   1.000000e-06 |   1.093813e+01 |   1.384549e-02 |   1.600000e+01 |   1.400000e+01 |   9.283300e+04 |   1.000000e-06 |\n+----------------+----------------+----------------+----------------+----------------+----------------+----------------+\n\n\nTime Step 2, time = 1.67e-06, dt = 6.7e-07\n 0 Nonlinear |R| = 1.229267e+03\n    |residual|_2 of individual variables:\n                          c: 0.00252969\n                          w: 1229.27\n      0 Linear |R| = 1.229267e+03\n      1 Linear |R| = 7.734829e+00\n      2 Linear |R| = 1.327525e-01\n      3 Linear |R| = 1.205157e-03\n 1 Nonlinear |R| = 3.064926e+01\n    |residual|_2 of individual variables:\n                          c: 0.0013772\n                          w: 30.6493\n      0 Linear |R| = 3.064926e+01\n      1 Linear |R| = 9.227145e-01\n      2 Linear |R| = 1.189050e-02\n      3 Linear |R| = 1.772888e-04\n      4 Linear |R| = 3.157499e-06\n 2 Nonlinear |R| = 1.260911e+00\n    |residual|_2 of individual variables:\n                          c: 2.65882e-06\n                          w: 1.26091\n      0 Linear |R| = 1.260911e+00\n      1 Linear |R| = 4.084877e-03\n      2 Linear |R| = 2.466497e-04\n      3 Linear |R| = 2.018710e-06\n      4 Linear |R| = 5.770113e-08\n 3 Nonlinear |R| = 2.801769e-02\n    |residual|_2 of individual variables:\n                          c: 2.24828e-09\n                          w: 0.0280177\n      0 Linear |R| = 2.801769e-02\n      1 Linear |R| = 1.622836e-04\n      2 Linear |R| = 3.441862e-06\n      3 Linear |R| = 3.355155e-08\n      4 Linear |R| = 1.510242e-09\n 4 Nonlinear |R| = 5.889715e-04\n    |residual|_2 of individual variables:\n                          c: 9.66277e-13\n                          w: 0.000588971\n      0 Linear |R| = 5.889715e-04\n      1 Linear |R| = 5.029289e-06\n      2 Linear |R| = 1.174423e-07\n      3 Linear |R| = 1.119917e-09\n      4 Linear |R| = 4.734060e-11\n 5 Nonlinear |R| = 1.244730e-05\n    |residual|_2 of individual variables:\n                          c: 2.99929e-14\n                          w: 1.24473e-05\n      0 Linear |R| = 1.244730e-05\n      1 Linear |R| = 4.605462e-08\n      2 Linear |R| = 2.306548e-09\n      3 Linear |R| = 1.713258e-11\n      4 Linear |R| = 6.023799e-13\n 6 Nonlinear |R| = 3.065976e-07\n    |residual|_2 of individual variables:\n                          c: 3.8171e-15\n                          w: 3.06598e-07\n Solve Converged!",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672898",
                          "updatedAt": "2022-07-18T19:22:43Z",
                          "publishedAt": "2021-11-19T21:35:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672947",
                          "updatedAt": "2022-07-18T19:22:54Z",
                          "publishedAt": "2021-11-19T21:48:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "Your simulation can converge??? I cannot converge....Why is this?",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672952",
                          "updatedAt": "2022-07-20T15:39:21Z",
                          "publishedAt": "2021-11-19T21:49:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "Is there any problem in the settings of my MOOSE software that makes the simulation cannot converge?",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672954",
                          "updatedAt": "2022-07-20T15:39:20Z",
                          "publishedAt": "2021-11-19T21:50:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "Show me your Executioner block. Did you add line_search=none?",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1672963",
                          "updatedAt": "2022-07-20T15:39:20Z",
                          "publishedAt": "2021-11-19T21:57:11Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "I added it.",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1673017",
                          "updatedAt": "2022-07-20T15:39:21Z",
                          "publishedAt": "2021-11-19T22:18:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "jiangwen84"
                          },
                          "bodyText": "It is interesting. I used a Mac. Both 1 and 10 MPI processes were running fine.\nAdd '-snes_converged_reason' in your command line and let us know what is the reason for not converging.",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1673288",
                          "updatedAt": "2022-07-20T15:39:20Z",
                          "publishedAt": "2021-11-19T23:54:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "Do you mean, typing '-snes_converged_reason' in the command line when I am running the simulation?\nI am using windows subsystem of linux.",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1673417",
                          "updatedAt": "2022-07-20T15:39:20Z",
                          "publishedAt": "2021-11-20T01:05:22Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "abc-hy"
                          },
                          "bodyText": "Do you mean, add '-snes_converged_reason' in the input file? And let it run?",
                          "url": "https://github.com/idaholab/moose/discussions/19427#discussioncomment-1673426",
                          "updatedAt": "2022-07-20T15:39:20Z",
                          "publishedAt": "2021-11-20T01:09:40Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "defining the BC regarding the defromation gradient",
          "author": {
            "login": "mFathidoost"
          },
          "bodyText": "HI,\nI have a given gradient defromatin matrix. I need to define the BC of a 2D RVE in order to deform corresponding to the given gradient deformation. Do you know if MOOSE is possible to do that for me automatically? It mean that instead of BC I just enter the deformation gradient matrix. If yes via which module?\nthank you very much",
          "url": "https://github.com/idaholab/moose/discussions/19487",
          "updatedAt": "2023-02-16T11:33:34Z",
          "publishedAt": "2021-11-25T13:43:52Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "hugary1995"
                  },
                  "bodyText": "I suppose by deformation gradient you are implying large deformation. You can use the global strain system in the tensor mechanics module to do that.\nThe global strain system isn't strictly equivalent to a standard KUBC. There's a new PR #17475 to address that.",
                  "url": "https://github.com/idaholab/moose/discussions/19487#discussioncomment-1702981",
                  "updatedAt": "2023-02-16T11:33:34Z",
                  "publishedAt": "2021-11-26T00:18:32Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to calculate the off-diagonal terms of the Jacobian in CoupledVarNeumannBC",
          "author": {
            "login": "aaelmeli"
          },
          "bodyText": "Hi\nI recently encountered a problem where I have two Linear Systems that are coupled only on the boundaries.  The CoupledVarNeumannBC  object was used to achieve the coupling. The issue is, CoupledVarNeumannBC does not have a method that provides the Jacobian. This means that, whenever a direct linear solver is used, it will not show any coupling because the contribution of the CoupledVarNeumannBC  to the off-diagonal terms in the Jacobian is zero. This enforces using a nonlinear solver where the Jacobian can be approximated numerically using for example FD. This issue was under discussion in #19365 where @GiudGiud had fruitful thoughts. The issue is, for some coupled PDEs, like the one in #19365, this would result in slow convergence or even divergence.\nSo, I am re-posting the following question here to have better visibility in case anyone encountered a similar problem.\nThe question is, Is it possible to implement a function that calculates the Jacobian terms of the CoupledVarNeumannBC object? Any thoughts on the implementation?",
          "url": "https://github.com/idaholab/moose/discussions/19465",
          "updatedAt": "2022-09-01T17:13:32Z",
          "publishedAt": "2021-11-23T20:21:05Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "This class was added in #13503 for use with aux variables. We should update this class in order to provide Jacobian calculations if the coupled variable is a \"nonlinear\" variable.",
                  "url": "https://github.com/idaholab/moose/discussions/19465#discussioncomment-1690332",
                  "updatedAt": "2022-09-01T17:13:32Z",
                  "publishedAt": "2021-11-23T21:23:25Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "I've created #19468 to address this",
                          "url": "https://github.com/idaholab/moose/discussions/19465#discussioncomment-1690347",
                          "updatedAt": "2022-09-01T17:13:33Z",
                          "publishedAt": "2021-11-23T21:27:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "I've created #19468 to address this\n\nThank you.",
                          "url": "https://github.com/idaholab/moose/discussions/19465#discussioncomment-1690414",
                          "updatedAt": "2022-09-01T17:13:33Z",
                          "publishedAt": "2021-11-23T21:47:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@aaelmeli Alex made a PR and it is merged in the framework. Can you please try again now?",
                          "url": "https://github.com/idaholab/moose/discussions/19465#discussioncomment-1697772",
                          "updatedAt": "2022-09-01T17:13:33Z",
                          "publishedAt": "2021-11-25T04:00:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "@aaelmeli Alex made a PR and it is merged in the framework. Can you please try again now?\n\nI have tested it, it works just fine. Thank you, @lindsayad and @GiudGiud",
                          "url": "https://github.com/idaholab/moose/discussions/19465#discussioncomment-1702075",
                          "updatedAt": "2022-09-01T17:13:35Z",
                          "publishedAt": "2021-11-25T18:27:39Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "N-S module calculation error, EXIT CODE: 9",
          "author": {
            "login": "ScouperLH"
          },
          "bodyText": "Hello everyone,\nAccept my warm greetings.\nI used to calculate the flow and heat transfer in an \"S\"-shaped pipe.\nThe error is reported as follows.\n\nMy files as follows:\n\nmu = 0.1\nrho = 1\nk = .01\ncp = 1\nvel = 'velocity'\nvelocity_interp_method = 'rc'\nadvected_interp_method = 'average'\n\n[Mesh]\n  type = FileMesh #Read in mesh from file\n  file = channel.e\n[]\n\n[Problem]\n  fv_bcs_integrity_check = true\n[]\n\n[Variables]\n  [u]\n    type = INSFVVelocityVariable\n    initial_condition = 1\n  []\n  [v]\n    type = INSFVVelocityVariable\n    initial_condition = 1\n  []\n  [w]\n    type = INSFVVelocityVariable\n    initial_condition = 1\n  []\n  [T]\n    type = INSFVEnergyVariable\n  []\n  [pressure]\n    type = INSFVPressureVariable\n  []\n  [lambda]\n    family = SCALAR\n    order = FIRST\n  []\n[]\n\n[ICs]\n  [T]\n    type = ConstantIC\n    variable = T\n    value = 300\n  []\n[]\n\n[AuxVariables]\n  [U]\n    order = CONSTANT\n    family = MONOMIAL\n    fv = true\n  []\n[]\n\n[AuxKernels]\n  [mag]\n    type = VectorMagnitudeAux\n    variable = U\n    x = u\n    y = v\n    z= w\n  []\n[]\n\n\n[FVKernels]\n  [mass]\n    type = INSFVMassAdvection\n    variable = pressure\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    vel = 'velocity'\n    pressure = pressure\n    u = u\n    v = v\n    w= w\n    mu = ${mu}\n    rho = ${rho}\n  []\n  [mean_zero_pressure]\n    type = FVScalarLagrangeMultiplier\n    variable = pressure\n    lambda = lambda\n  []\n\n  [u_time]\n    type = INSFVMomentumTimeDerivative\n    variable = 'u'\n    rho = ${rho}\n []\n  [u_advection]\n    type = INSFVMomentumAdvection\n    variable = u\n    advected_quantity = 'rhou'\n    vel = 'velocity'\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w=w\n    mu = ${mu}\n    rho = ${rho}\n  []\n  [u_viscosity]\n    type = FVDiffusion\n    variable = u\n    coeff = ${mu}\n  []\n  [u_pressure]\n    type = INSFVMomentumPressure\n    variable = u\n    momentum_component = 'x'\n    pressure = pressure\n  []\n\n  [v_time]\n    type = INSFVMomentumTimeDerivative\n    variable = v\n    rho = ${rho}\n  []\n  [v_advection]\n    type = INSFVMomentumAdvection\n    variable = v\n    advected_quantity = 'rhov'\n    vel = 'velocity'\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w=w\n    mu = ${mu}\n    rho = ${rho}\n  []\n  [v_viscosity]\n    type = FVDiffusion\n    variable = v\n    coeff = ${mu}\n  []\n  [v_pressure]\n    type = INSFVMomentumPressure\n    variable = v\n    momentum_component = 'y'\n    pressure = pressure\n  []\n\n  [w_time]\n    type = INSFVMomentumTimeDerivative\n    variable = w\n    rho = ${rho}\n  []\n [w_advection]\n    type = INSFVMomentumAdvection\n    variable = w\n    advected_quantity = 'rhow'\n    vel = 'velocity'\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w=w\n    mu = ${mu}\n    rho = ${rho}\n  []\n  [w_viscosity]\n    type = FVDiffusion\n    variable = w\n    coeff = ${mu}\n  []\n  [w_pressure]\n    type = INSFVMomentumPressure\n    variable = w\n    momentum_component = 'z'\n    pressure = pressure\n  []\n\n  [temp_time]\n    type = INSFVEnergyTimeDerivative\n    variable = T\n    rho = ${rho}\n    cp_name = 'cp'\n  []\n  [temp_conduction]\n    type = FVDiffusion\n    coeff = 'k'\n    variable = T\n  []\n  [temp_advection]\n    type = INSFVEnergyAdvection\n    variable = T\n    vel = ${vel}\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w= w\n    mu = ${mu}\n    rho = ${rho}\n  []\n[]\n\n[FVBCs]\n  [inlet-u]\n    type = INSFVInletVelocityBC\n    boundary = 'inlet'\n    variable = u\n    function = '1'\n  []\n  [inlet-v]\n    type = INSFVInletVelocityBC\n    boundary = 'inlet'\n    variable = v\n    function = '0'\n  []\n [inlet-w]\n    type = INSFVInletVelocityBC\n    boundary = 'inlet'\n    variable = w\n    function = '0'\n  []\n\n  [walls-u]\n    type = INSFVNoSlipWallBC\n    boundary = 'walltop wallbtm wallin wallout'\n    variable = u\n    function = 0\n  []\n  [walls-v]\n    type = INSFVNoSlipWallBC\n    boundary = 'walltop wallbtm wallin wallout'\n    variable = v\n    function = 0\n  []\n  [walls-w]\n    type = INSFVNoSlipWallBC\n    boundary = 'walltop wallbtm wallin wallout'\n    variable = w\n    function = 0\n  []\n  [T_hot]\n    type = FVDirichletBC\n    variable = T\n    boundary = 'walltop'\n    value = 310\n  []\n\n  [T_cold]\n    type = FVDirichletBC\n    variable = T\n    boundary = 'wallbtm'\n    value = 300\n  []\n\n  [outlet_p]\n    type = INSFVOutletPressureBC\n    boundary = 'outlet'\n    variable = pressure\n    function = '0'\n  []\n[]\n\n[Materials]\n  [functor_constants]\n    type = ADGenericConstantFunctorMaterial\n    prop_names = 'cp k'\n    prop_values = '${cp} ${k}'\n  []\n  [ins_fv]\n    type = INSFVMaterial\n    u = 'u'\n    v = 'v'\n    w = 'w'\n    pressure = 'pressure'\n    temperature = 'T'\n    rho = ${rho}\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = 'NEWTON'\n  num_steps = 20\n  dt = .5\n  dtmin = .5\n  petsc_options_iname = '-pc_type -ksp_gmres_restart -sub_pc_type -sub_pc_factor_shift_type'\n  petsc_options_value = 'asm      200                lu           NONZERO'\n  line_search = 'none'\n  nl_abs_tol = 1e-10\n  nl_max_its = 50\n  l_max_its = 200\n[]\n\n[Outputs]\n  exodus = true\n  csv = true\n  perf_graph = true # prints a performance report to the terminal\n[]\n\nI used the command \u201c mpiexec -n 4\u201d, but  it's also keep slowly.\nHow can I debug it?\nThanks for your reading.",
          "url": "https://github.com/idaholab/moose/discussions/19460",
          "updatedAt": "2022-07-02T17:54:59Z",
          "publishedAt": "2021-11-23T13:57:07Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "Hi, that error message typically indicates that you are out of memory. What is your MOOSE revision? This should be printed shortly above the top of the text that you pasted in here. Also, how much memory is on your machine?",
                  "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1688953",
                  "updatedAt": "2022-07-02T17:56:20Z",
                  "publishedAt": "2021-11-23T17:02:44Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "HELLO, Thanks for your answer.\nMy MOOSE revision is git commit d4b8ea6 on 2021-11-22\n.\nI use a VMware to run the test, it has 33GB memory,16CPUs. I have tried again, used 16 CPUs\uff0cthe same error message appeared.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691281",
                          "updatedAt": "2022-07-02T17:56:21Z",
                          "publishedAt": "2021-11-24T03:01:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I think the memory graph shows you are running out of memory",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691295",
                          "updatedAt": "2022-07-02T17:56:55Z",
                          "publishedAt": "2021-11-24T03:04:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "You are right, now I will try the following:\n\nIncrease the memory of the virtual machine;\nSimplify the pipeline;\nTry to use the PJFNK method of calculation.\nI will report my results later.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691331",
                          "updatedAt": "2022-07-02T17:56:56Z",
                          "publishedAt": "2021-11-24T03:18:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "These are all good ideas. Another two are to rework the mesh and to turn off cell_gradient_caching for each variable. That will slow down the code a bit but it ll cut the memory cost.\nhttps://mooseframework.inl.gov/source/variables/MooseVariableFV.html",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691346",
                          "updatedAt": "2022-07-05T02:42:33Z",
                          "publishedAt": "2021-11-24T03:23:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "You may also try using a distributed mesh. I hate to say it but PJFNK will not save you any memory here. We use AD and fill out all the non-zero coupling entries in the preconditioning matrix.\nYou may consider memory profiling and seeing where the highest memory use is. Turning cell_gradient_caching = false in all your variable blocks would be a big memory save as @GiudGiud suggested. I'd definitely start there and with a distributed mesh (after increasing your virtual machine's memory)",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691371",
                          "updatedAt": "2022-07-05T02:42:33Z",
                          "publishedAt": "2021-11-24T03:32:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "Oh I forgot to ask ... what is your -pc_type? That will play a significant role in memory usage",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691378",
                          "updatedAt": "2022-07-05T02:42:33Z",
                          "publishedAt": "2021-11-24T03:36:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "Oh I forgot to ask ... what is your -pc_type? That will play a significant role in memory usage\n\nIt's '-pc_type -ksp_gmres_restart -sub_pc_type -sub_pc_factor_shift_type'.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691393",
                          "updatedAt": "2022-07-05T02:43:55Z",
                          "publishedAt": "2021-11-24T03:42:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "also I would remove this\n[AuxVariables]\n  [U]\n    order = CONSTANT\n    family = MONOMIAL\n    fv = true\n  []\n[]\n\n[AuxKernels]\n  [mag]\n    type = VectorMagnitudeAux\n    variable = U\n    x = u\n    y = v\n    z= w\n  []\n[]\n\nthis is for postprocessing and you can do that operation in paraview easily",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691423",
                          "updatedAt": "2022-07-05T02:42:33Z",
                          "publishedAt": "2021-11-24T03:50:57Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@ScouperLH we need the petsc_values as well not just the names\nnevermind it s in the input file\npetsc_options_iname = '-pc_type -ksp_gmres_restart -sub_pc_type -sub_pc_factor_shift_type'\npetsc_options_value = 'asm      200                lu           NONZERO'\nbuilding that Krylov base is for sure expensive. @lindsayad what do you recommend?",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691425",
                          "updatedAt": "2022-07-05T02:45:19Z",
                          "publishedAt": "2021-11-24T03:51:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "IIRC PETSc does not allocate memory for all the GMRES vectors up front. I believe it allocates every 30 iterations or so as needed. @fdkong could comment on this. I think at this point we are kind of guessing what the big memory contributors are. A heap profile would settle this right away. It looks like these are all MOOSE objects. @ScouperLH how large is your mesh? If it's not too egregiously large, you can send it to alexlindsay239@gmail.com (or I suppose send me a google drive link), and I could profile this problem for you.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1694750",
                          "updatedAt": "2022-07-05T02:45:26Z",
                          "publishedAt": "2021-11-24T15:39:17Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "ScouperLH"
                  },
                  "bodyText": "These are all good ideas. Another two are to rework the mesh and to turn off cell_gradient_caching for each variable. That will slow down the code a bit but it ll cut the memory cost. https://mooseframework.inl.gov/source/variables/MooseVariableFV.html\n\nThank you, I will try your suggestion.\nAnd as @lindsayad says, I use PJFNK to calculate, but it not save the memory. Also thanks for your answer!@lindsayad",
                  "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691411",
                  "updatedAt": "2022-07-02T17:57:07Z",
                  "publishedAt": "2021-11-24T03:48:30Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "We've used AD in the finite volume for Navier Stokes. So we have a perfect numerical Jacobian and you might as well use it with Newton instead of PJFNK. Only reason to use PJFNK would be for memory imo, or if some other parts of the model didnt use AD",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1691479",
                          "updatedAt": "2022-07-02T17:57:10Z",
                          "publishedAt": "2021-11-24T04:11:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "@GiudGiud the issue is that with AD we fill the whole matrix (we don't respect users request for block diagonal or other custom sparsity pattern), so PJFNK and NEWTON will have the same memory requirements. So given that, indeed you should always use NEWTON when you are using AD as it will consume the same amount of memory and likely be way faster",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1694771",
                          "updatedAt": "2022-07-02T17:57:17Z",
                          "publishedAt": "2021-11-24T15:41:51Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "friedmud"
                  },
                  "bodyText": "You are using LU - sure... it's only on the parallel partitions with ASM... but LU will still take quite a lot of memory.  Try switching to something else like ILU with a small amount of fill to save even more RAM.",
                  "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1694867",
                  "updatedAt": "2022-07-02T17:57:50Z",
                  "publishedAt": "2021-11-24T15:54:47Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "This is right. If we do not make any mistake, LU memory will dominate the whole simulation. It will be helpful if you could tell us, DoFs and Number of elements/nodes",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1695245",
                          "updatedAt": "2022-07-02T17:57:50Z",
                          "publishedAt": "2021-11-24T16:49:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "Ok,it's the DoF, nodes and elements.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1697463",
                          "updatedAt": "2022-07-02T17:58:04Z",
                          "publishedAt": "2021-11-25T01:56:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "Thanks for information.  You have about half million DoFs, and you could run out of memory with ASM (LU) if the machine does not have enough memory.\nHow much memory you have on machine you were running? How much memory per core?",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1697489",
                          "updatedAt": "2022-07-02T17:58:26Z",
                          "publishedAt": "2021-11-25T02:05:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "When I first calculated, my VMware is 33GB, 16cores, and per core has 2GB. Then I changed the memory to 50GB, but the memory is still not enough, which is unreasonable for a geometric model of this scale. I imported the grid into Fluent and set up a simple laminar flow model calculation to confirm that there is no problem with the grid. Finally, I simplified the geometric model, and I will report to you after the post-processing confirms that the result is correct.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1697515",
                          "updatedAt": "2022-07-05T02:46:35Z",
                          "publishedAt": "2021-11-25T02:16:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "Just for debugging. Could you change your input file to take this? As Derek mentioned earlier, to replace LU with ILU to save memory.\n  petsc_options_iname = '-pc_type -ksp_gmres_restart -sub_pc_type -sub_pc_factor_shift_type'\n  petsc_options_value = 'asm      200                ilu           NONZERO' \n\nIf this won't work, we might actually have some memory issue somewhere. In that case, it would be really helpful if you would share an example with us,  and we will try to nail down the issue",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1697551",
                          "updatedAt": "2022-07-05T02:46:35Z",
                          "publishedAt": "2021-11-25T02:26:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "After modificated ILU it worked, I'm uploading my files to share you later.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1697608",
                          "updatedAt": "2022-07-05T02:46:43Z",
                          "publishedAt": "2021-11-25T02:53:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "fdkong"
                          },
                          "bodyText": "That meant you should select a memory-efficient solver. If ILU works for you, you could keep using that. Linear solver/preconditioner and nonlinear solver are problem-dependent and sometimes tricky. This might improve in the future as the team is working on a dedicated CFD solver strategy.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1697640",
                          "updatedAt": "2022-07-05T02:47:07Z",
                          "publishedAt": "2021-11-25T03:05:28Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "ScouperLH"
                  },
                  "bodyText": "Hello, moose experts, I have made the following modifications and tests:\n\n\nModify the variable cache and delete auxiliary variables.@GiudGiud  Run again and the same error message appears.\nAt the same time, the PJFNK method does not reduce memory consumption, which has been described in the previous comments.@lindsayad\n\n\nIncrease the memory to 64GB and redraw the geometric model and grid blend&channel/blend.e (in fact, new elems&nodes did not decrease, they increased, because I mistook the  grid number of the first model. The skewness of the new grid is better than that of the old grid.  They are in https://github.com/ScouperLH/bflow2.git )\n\n\nResults: the new grid run in the same inputfile (channel-3d2. i). It should be emphasized that the Lu command used by the solver uses 54gb of memory. Finally, the result is calculated. At present, I have no post-processing results, because I am still learning paraview, and may try to use Tecplot.\n\n\nFollowing suggestion of @friedmud @fdkong , I modified the solver command to ILU, which can successfully calculate the input files of blend model and channel model, and the memory usage is about 20GB.\n\n\nBUT, when I used ILU calculate channel-3d1st2.i  (with channel.e)\uff0cnew error appears:",
                  "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1698939",
                  "updatedAt": "2022-07-02T17:58:38Z",
                  "publishedAt": "2021-11-25T09:16:41Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "I just recalculated this file, modified the parameters according to gambka 's comment\uff0c the error disappeared, and got the result.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1699601",
                          "updatedAt": "2022-07-02T17:58:49Z",
                          "publishedAt": "2021-11-25T11:12:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "how big was the latest time step? I m going to fix that",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700063",
                          "updatedAt": "2022-07-02T17:58:50Z",
                          "publishedAt": "2021-11-25T12:27:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "the one that failed that is",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700075",
                          "updatedAt": "2022-07-02T17:58:50Z",
                          "publishedAt": "2021-11-25T12:29:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "how big was the latest time step? I m going to fix that\n\nTime Step 20, time = 10, dt = 0.5\n\nWhen it calculate in Step 19, error occur. It was very close to the solution.",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700189",
                          "updatedAt": "2022-07-05T02:47:56Z",
                          "publishedAt": "2021-11-25T12:50:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Umm ok so what did you change?\nThe comment you linked is related to the time stepper just missing it s end time by a tiny fraction, and the solver dying when trying to solve for 1e-14 s .  I m looking for the magnitude of the tiny step it took in your case, if that was the problem",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700274",
                          "updatedAt": "2022-07-05T02:47:56Z",
                          "publishedAt": "2021-11-25T13:05:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "I change the nl_abs_tol=1.1-10",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700287",
                          "updatedAt": "2022-07-05T02:47:56Z",
                          "publishedAt": "2021-11-25T13:07:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "oh ok that's not the same thing then.\nbtw it usually helps to scale your non-linear variables to reduce the residual / help convergence. You can do that manually for each variable or use automatic scaling. some docs:\nauto scaling: https://mooseframework.inl.gov/newsletter/2019_07.html\nmanual scaling: https://mooseframework.inl.gov/modules/porous_flow/convergence.html",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700318",
                          "updatedAt": "2022-07-05T02:47:56Z",
                          "publishedAt": "2021-11-25T13:13:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ScouperLH"
                          },
                          "bodyText": "Ok, I will read the files",
                          "url": "https://github.com/idaholab/moose/discussions/19460#discussioncomment-1700418",
                          "updatedAt": "2022-07-05T02:48:10Z",
                          "publishedAt": "2021-11-25T13:31:40Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Unable to run tests - failed to import pyhit",
          "author": {
            "login": "naveen-pr"
          },
          "bodyText": "Hi Everyone,\nI installed moose using the conda framework. Everything seemed to go smoothly until I run tests in the moose/test directory:\n$ ./run_tests -j8\nBuilding and linking hit...\nfailed to import pyhit - try running \"make hit\" in the $MOOSE_DIR/test directory.\n$ make hit\nBuilding and linking hit...\n$ ./run_tests -j8\nBuilding and linking hit...\nfailed to import pyhit - try running \"make hit\" in the $MOOSE_DIR/test directory.\nThings I checked/tried:\n\n\nCleaned and compiled run_tests again. It seems to be building fine without any issues.\n\n\nI made sure the environment is loaded (conda activate moose) and updated conda (conda update --all). I don't think there were any build issues but I updated anyway. There were some changes made during the update but got the same pyhit error.\n\n\nTried restarting the shell.\n\n\n$ conda config --show channels\nchannels:\n\n\n\nidaholab\nconda-forge\ndefaults\n\n5.$ which python\n~/miniconda3/envs/moose/bin/python\nI saw this on a different thread - seems to be using conda's python\n\n$  echo $CONDA_DEFAULT_ENV\nmoose\n\nI basically tried a bunch of things from the troubleshooting page (https://mooseframework.inl.gov/help/troubleshooting.html). I haven't tried removing and re-installing completely yet hoping that it would be something simple..\nThanks,\nNaveen.",
          "url": "https://github.com/idaholab/moose/discussions/17256",
          "updatedAt": "2022-06-29T15:56:03Z",
          "publishedAt": "2021-03-09T13:15:18Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "ngrilli"
                  },
                  "bodyText": "Dear @naveen-pr\nI had a similar problem on CentOS 7 cluster before.\nWhat I normally do is to use the python version that is installed in the cluster, so in the following order:\n\nsource ~/moose-environment.sh\nmodule load python3.6.4 (you need to check which version you have installed)\n\nIn that case \"which python\" should point to the version installed in the cluster,\nnot to miniconda.\nGive it a try and let me know.\nBest Regards,\nNicol\u00f2 Grilli\nNational University of Singapore",
                  "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-455426",
                  "updatedAt": "2022-06-29T15:56:07Z",
                  "publishedAt": "2021-03-09T13:34:41Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "Hi Nicolo, thanks. I'm on CentOS 7 as well so could be a similar issue. I don't seem to have a moose-environment.sh file though ( I used these instructions to install https://mooseframework.inl.gov/getting_started/installation/conda.html so I didn't manually create the environment file). I tried loading the default python module I have on the cluster (python3.6) but 'which python' still points to miniconda's version. Any suggestions ?\nThanks,\nNaveen.",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-455684",
                          "updatedAt": "2022-06-29T15:56:05Z",
                          "publishedAt": "2021-03-09T14:54:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ngrilli"
                          },
                          "bodyText": "Dear @naveen-pr\nIn our CentOS 7, I have used the manual installation GCC/MPICH.\nYou can try that.\nBased on the ldd command you show below,\nit is clear that your code did not link properly, so it's not only a python problem.\nBest Regards,\nNicol\u00f2 Grilli\nNational University of Singapore",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-471174",
                          "updatedAt": "2022-06-29T15:56:05Z",
                          "publishedAt": "2021-03-11T19:51:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ada-ayy"
                          },
                          "bodyText": "@ngrilli  Hello! I have the same problem with the python environment,  but it seems no problem on my ldd command.\nI can run successfully the tests on the login node, but it fails with pyhit import on the compute node.\nSo I wonder what can I do to change my version of python to the one installed in the cluster? I also install moose followed by  https://mooseframework.inl.gov/getting_started/installation/conda.html. Should I also manually install the GCC/MPICH? Thanks so much!",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-1691333",
                          "updatedAt": "2022-06-29T15:56:05Z",
                          "publishedAt": "2021-11-24T03:19:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Can you start a new discussion for this issue? I don't think this was ever actually answered correctly, and it has other posts with non-pertinent information (making it difficult to read).\nWhen you do start a new discussion, my first question will be \"what are the results of an ldd moose_test-opt. So if you wouldn't mind posting that with your discussion topic, it would speed things up :)",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-1694480",
                          "updatedAt": "2022-06-29T15:56:09Z",
                          "publishedAt": "2021-11-24T14:57:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ada-ayy"
                          },
                          "bodyText": "Yeah, I will. Thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-1697482",
                          "updatedAt": "2022-06-29T15:56:09Z",
                          "publishedAt": "2021-11-25T02:04:27Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "Can you report back what your conda list looks like?\nconda list\nAlso, it might help to see just what things are being linked:\nldd moose/test/moose_test-opt",
                  "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-455952",
                  "updatedAt": "2022-06-29T15:56:05Z",
                  "publishedAt": "2021-03-09T16:11:24Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "Hi @milljm, here are the two outputs:\n$ conda list\npackages in environment at /home/prakashn2/miniconda3/envs/moose:\nName                    Version                   Build  Channel\n_libgcc_mutex             0.1                 conda_forge    conda-forge\n_openmp_mutex             4.5                       1_gnu    conda-forge\nbeautifulsoup4            4.9.3              pyhb0f4dca_0    conda-forge\nbinutils_impl_linux-64    2.35.1               h193b22a_2    conda-forge\nbinutils_linux-64         2.35                hc3fd857_29    conda-forge\nbzip2                     1.0.8                h7f98852_4    conda-forge\nc-ares                    1.17.1               h7f98852_1    conda-forge\nca-certificates           2020.12.5            ha878542_0    conda-forge\ncertifi                   2020.12.5        py37h89c1867_1    conda-forge\ncloudpickle               1.6.0                      py_0    conda-forge\ncmake                     3.19.4               h4547794_0    conda-forge\ncurl                      7.75.0               h979ede3_0    conda-forge\ncycler                    0.10.0                     py_2    conda-forge\ncytoolz                   0.11.0           py37h5e8e339_3    conda-forge\ndask-core                 2021.3.0           pyhd8ed1ab_0    conda-forge\ndbus                      1.13.6               hfdff14a_1    conda-forge\ndecorator                 4.4.2                      py_0    conda-forge\nexpat                     2.2.10               h9c3ff4c_0    conda-forge\nfontconfig                2.13.1            hba837de_1004    conda-forge\nfreetype                  2.10.4               h0708190_1    conda-forge\nfuture                    0.18.2           py37h89c1867_3    conda-forge\ngcc_impl_linux-64         9.3.0               h28f5a38_17    conda-forge\ngcc_linux-64              9.3.0               h7247604_29    conda-forge\ngettext                   0.19.8.1          h0b5b191_1005    conda-forge\ngfortran_impl_linux-64    9.3.0               hc4a2995_18    conda-forge\ngfortran_linux-64         9.3.0               ha1c937c_29    conda-forge\nglib                      2.66.7               h9c3ff4c_1    conda-forge\nglib-tools                2.66.7               h9c3ff4c_1    conda-forge\ngst-plugins-base          1.14.0               hbbd80ab_1\ngstreamer                 1.14.0               h28cd5cc_2\ngxx_impl_linux-64         9.3.0               h53cdd4c_17    conda-forge\ngxx_linux-64              9.3.0               h0d07fa4_29    conda-forge\nhdf4                      4.2.13            h10796ff_1004    conda-forge\nhdf5                      1.10.5          nompi_h5b725eb_1114    conda-forge\nicu                       58.2              hf484d3e_1000    conda-forge\nimagecodecs-lite          2019.12.3        py37h902c9e0_3    conda-forge\nimageio                   2.9.0                      py_0    conda-forge\njinja2                    2.11.3             pyh44b312d_0    conda-forge\njpeg                      9d                   h36c2ea0_0    conda-forge\njsoncpp                   1.8.4             hc9558a2_1002    conda-forge\nkernel-headers_linux-64   2.6.32              h77966d4_13    conda-forge\nkiwisolver                1.3.1            py37h2527ec5_1    conda-forge\nkrb5                      1.17.2               h926e7f8_0    conda-forge\nlatexcodec                2.0.1              pyh9f0ad1d_0    conda-forge\nlcms2                     2.11                 hcbb858e_1    conda-forge\nld_impl_linux-64          2.35.1               hea4e1c9_2    conda-forge\nlibblas                   3.9.0                8_openblas    conda-forge\nlibcblas                  3.9.0                8_openblas    conda-forge\nlibcurl                   7.75.0               hc4aaa36_0    conda-forge\nlibdrm-cos6-x86_64        2.4.65            h9d98e8f_1104    conda-forge\nlibedit                   3.1.20191231         he28a2e2_2    conda-forge\nlibev                     4.33                 h516909a_1    conda-forge\nlibffi                    3.3                  h58526e2_2    conda-forge\nlibgcc-devel_linux-64     9.3.0               hfd08b2a_17    conda-forge\nlibgcc-ng                 9.3.0               h2828fa1_18    conda-forge\nlibgfortran-ng            9.3.0               hff62375_18    conda-forge\nlibgfortran5              9.3.0               hff62375_18    conda-forge\nlibglib                   2.66.7               h3e27bee_1    conda-forge\nlibglu                    9.0.0             hf484d3e_1000    conda-forge\nlibgomp                   9.3.0               h2828fa1_18    conda-forge\nlibice-cos6-x86_64        1.0.6             h9d98e8f_1104    conda-forge\nlibice-devel-cos6-x86_64  1.0.6             h9d98e8f_1104    conda-forge\nlibiconv                  1.16                 h516909a_0    conda-forge\nliblapack                 3.9.0                8_openblas    conda-forge\nlibnetcdf                 4.6.2             h303dfb8_1003    conda-forge\nlibnghttp2                1.43.0               h812cca2_0    conda-forge\nlibopenblas               0.3.12          pthreads_h4812303_1    conda-forge\nlibpng                    1.6.37               hed695b0_0    conda-forge\nlibsm-cos6-x86_64         1.2.1             h9d98e8f_1104    conda-forge\nlibsm-devel-cos6-x86_64   1.2.1             h9d98e8f_1104    conda-forge\nlibssh2                   1.9.0                ha56f1ee_6    conda-forge\nlibstdcxx-devel_linux-64  9.3.0               h4084dd6_17    conda-forge\nlibstdcxx-ng              9.3.0               h6de172a_18    conda-forge\nlibtiff                   4.1.0                hc3755c2_3    conda-forge\nlibuuid                   2.32.1            h7f98852_1000    conda-forge\nlibuv                     1.41.0               h7f98852_0    conda-forge\nlibx11-common-cos6-x86_64 1.6.4             h9d98e8f_1104    conda-forge\nlibx11-cos6-x86_64        1.6.4             h9d98e8f_1104    conda-forge\nlibx11-devel-cos6-x86_64  1.6.4             h9d98e8f_1104    conda-forge\nlibxcb                    1.13              h7f98852_1003    conda-forge\nlibxext-cos6-x86_64       1.3.3             h9d98e8f_1104    conda-forge\nlibxext-devel-cos6-x86_64 1.3.3             h9d98e8f_1104    conda-forge\nlibxml2                   2.9.10               hb55368b_3\nlibxslt                   1.1.34               hc22bd24_0\nlibxt-cos6-x86_64         1.1.4             h9d98e8f_1104    conda-forge\nlibxt-devel-cos6-x86_64   1.1.4             h9d98e8f_1104    conda-forge\nlivereload                2.6.3              pyh9f0ad1d_0    conda-forge\nlxml                      4.6.2            py37h77fd288_1    conda-forge\nlz4-c                     1.8.3             he1b5a44_1001    conda-forge\nmako                      1.1.4              pyh44b312d_0    conda-forge\nmarkupsafe                1.1.1            py37h5e8e339_3    conda-forge\nmatplotlib                3.3.4            py37h89c1867_0    conda-forge\nmatplotlib-base           3.3.4            py37h0c9df89_0    conda-forge\nmesa-dri-drivers-cos6-x86_64 11.0.7            h9d98e8f_1104    conda-forge\nmesa-dri1-drivers-cos6-x86_64 7.11              h9d98e8f_1104    conda-forge\nmesa-libgl-cos6-x86_64    11.0.7            h9d98e8f_1104    conda-forge\nmesa-libgl-devel-cos6-x86_64 11.0.7            h9d98e8f_1104    conda-forge\nmesalib                   18.3.1               h590aaf7_0    conda-forge\nmock                      4.0.3            py37h89c1867_1    conda-forge\nmoose-libmesh             2021.02.15              build_0    idaholab\nmoose-libmesh-vtk         6.3.0                   build_5    idaholab\nmoose-mpich               3.3.2                   build_5    idaholab\nmoose-petsc               3.14.2                  build_4    idaholab\nmoose-tools               2021.01.06                 py_0    idaholab\nmpi                       1.0                       mpich    conda-forge\nncurses                   6.2                  h58526e2_4    conda-forge\nnetworkx                  2.5                        py_0    conda-forge\nnumpy                     1.20.1           py37haa41c4c_0    conda-forge\nolefile                   0.46               pyh9f0ad1d_1    conda-forge\nopenssl                   1.1.1j               h7f98852_0    conda-forge\npandas                    1.2.3            py37hdc94413_0    conda-forge\npcre                      8.44                 he1b5a44_0    conda-forge\npillow                    8.1.0            py37he6b4880_1    conda-forge\npip                       21.0.1             pyhd8ed1ab_0    conda-forge\npkg-config                0.29.2            h36c2ea0_1008    conda-forge\npthread-stubs             0.4               h36c2ea0_1001    conda-forge\npybtex                    0.24.0           py37h89c1867_0    conda-forge\npylatexenc                2.9                pyhd8ed1ab_0    conda-forge\npyparsing                 2.4.7              pyh9f0ad1d_0    conda-forge\npyqt                      5.9.2            py37hcca6a23_4    conda-forge\npython                    3.7.10          hffdb5ce_100_cpython    conda-forge\npython-dateutil           2.8.1                      py_0    conda-forge\npython_abi                3.7                     1_cp37m    conda-forge\npytz                      2021.1             pyhd8ed1ab_0    conda-forge\npywavelets                1.1.1            py37h902c9e0_3    conda-forge\npyyaml                    5.4.1            py37h5e8e339_0    conda-forge\nqt                        5.9.7                h5867ecd_1\nreadline                  8.0                  he28a2e2_2    conda-forge\nrhash                     1.4.1                h7f98852_0    conda-forge\nscikit-image              0.17.2           py37hdc94413_4    conda-forge\nscipy                     1.6.0            py37h14a347d_0    conda-forge\nsetuptools                49.6.0           py37h89c1867_3    conda-forge\nsip                       4.19.8           py37hf484d3e_0\nsix                       1.15.0             pyh9f0ad1d_0    conda-forge\nsoupsieve                 2.0.1                      py_1    conda-forge\nsqlite                    3.34.0               h74cdb3f_0    conda-forge\nsysroot_linux-64          2.12                h77966d4_13    conda-forge\ntbb                       2020.2               h4bd325d_4    conda-forge\ntifffile                  2020.6.3                   py_0    conda-forge\ntk                        8.6.10               h21135ba_1    conda-forge\ntoolz                     0.11.1                     py_0    conda-forge\ntornado                   6.1              py37h5e8e339_1    conda-forge\nvtk                       8.2.0           py37hfdee58b_203    conda-forge\nwheel                     0.36.2             pyhd3deb0d_0    conda-forge\nxorg-kbproto              1.0.7             h7f98852_1002    conda-forge\nxorg-libice               1.0.10               h7f98852_0    conda-forge\nxorg-libsm                1.2.3             hd9c2040_1000    conda-forge\nxorg-libx11               1.7.0                h7f98852_0    conda-forge\nxorg-libxau               1.0.9                h7f98852_0    conda-forge\nxorg-libxdmcp             1.1.3                h7f98852_0    conda-forge\nxorg-libxt                1.2.1                h7f98852_2    conda-forge\nxorg-x11-proto-devel-cos6-x86_64 7.7               h9d98e8f_1104    conda-forge\nxorg-xproto               7.0.31            h7f98852_1007    conda-forge\nxz                        5.2.5                h516909a_1    conda-forge\nyaml                      0.2.5                h516909a_0    conda-forge\nzlib                      1.2.11            h516909a_1010    conda-forge\nzstd                      1.4.4                h3b9ef0a_2    conda-forge\n$ ldd moose_test-opt\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by ./moose_test-opt) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by ./moose_test-opt)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /lstr/home/prakashn2/work/codes/moose/test/lib/libmoose_test-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /lstr/home/prakashn2/work/codes/moose/test/lib/libmoose_test-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /lstr/home/prakashn2/work/codes/moose/test/lib/libmoose_test-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /lstr/home/prakashn2/work/codes/moose/test/lib/libmoose_test-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.11' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.22' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/hit/libhit-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/hit/libhit-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/hit/libhit-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.22' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libtimpi_opt.so.2) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libtimpi_opt.so.2)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/libpcre-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/libpcre-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/libpcre-opt.so.0) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/libpcre-opt.so.0)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonDataModel-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonDataModel-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonDataModel-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonDataModel-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkImagingCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkImagingCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkIOImage-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkIOImage-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkIOImage-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkIOImage-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkImagingMath-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonExecutionModel-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonExecutionModel-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonExecutionModel-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOXML-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOXML-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOXML-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOXML-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOParallelXML-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOParallelXML-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOParallelXML-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelMPI-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelMPI-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonMisc-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonMisc-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonSystem-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonSystem-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonSystem-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonTransforms-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonTransforms-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonMath-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonMath-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkmetaio-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkmetaio-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkmetaio-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkmetaio-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkDICOMParser-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkDICOMParser-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/lib/./libstrumpack.so) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/lib/./libstrumpack.so)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOXMLParser-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOXMLParser-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOXMLParser-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.20' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOCore-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOCore-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.8' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOLegacy-6.3.so.1)\n./moose_test-opt: /usr/lib64/libstdc++.so.6: version CXXABI_1.3.9' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOLegacy-6.3.so.1) ./moose_test-opt: /usr/lib64/libstdc++.so.6: version GLIBCXX_3.4.21' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOLegacy-6.3.so.1)\nlinux-vdso.so.1 =>  (0x00007ffe941e7000)\nlibmoose_test-opt.so.0 => /lstr/home/prakashn2/work/codes/moose/test/lib/libmoose_test-opt.so.0 (0x00002afecc725000)\nlibmoose-opt.so.0 => /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0 (0x00002afeccec0000)\nlibhit-opt.so.0 => /lstr/home/prakashn2/work/codes/moose/framework/contrib/hit/libhit-opt.so.0 (0x00002afecc5a1000)\nlibmesh_opt.so.0 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0 (0x00002afecea50000)\nlibtimpi_opt.so.2 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libtimpi_opt.so.2 (0x00002afecc606000)\nlibgfortran.so.5 => /home/prakashn2/miniconda3/envs/moose/lib/libgfortran.so.5 (0x00002afecfef7000)\nlibgcc_s.so.1 => /usr/lib64/libgcc_s.so.1 (0x00002afed0097000)\nlibstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x00002afed02ad000)\nlibm.so.6 => /usr/lib64/libm.so.6 (0x00002afed05b5000)\nlibc.so.6 => /usr/lib64/libc.so.6 (0x00002afed08b7000)\nlibmpi.so.12 => /home/prakashn2/miniconda3/envs/moose/lib/libmpi.so.12 (0x00002afed0c84000)\nlibpcre-opt.so.0 => /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/libpcre-opt.so.0 (0x00002afecc615000)\nlibvtkCommonCore-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1 (0x00002afed0fbe000)\nlibvtkCommonDataModel-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonDataModel-6.3.so.1 (0x00002afed1401000)\nlibvtkImagingCore-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkImagingCore-6.3.so.1 (0x00002afed170c000)\nlibvtkIOImage-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkIOImage-6.3.so.1 (0x00002afed192d000)\nlibvtkImagingMath-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkImagingMath-6.3.so.1 (0x00002afecc645000)\nlibvtkCommonExecutionModel-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonExecutionModel-6.3.so.1 (0x00002afed1aa8000)\nlibslepc.so.3.14 => /home/prakashn2/miniconda3/envs/moose/lib/libslepc.so.3.14 (0x00002afed1b41000)\nlibpetsc.so.3.14 => /home/prakashn2/miniconda3/envs/moose/lib/libpetsc.so.3.14 (0x00002afed1ee2000)\nlibHYPRE-2.19.0.so => /home/prakashn2/miniconda3/envs/moose/lib/libHYPRE-2.19.0.so (0x00002afed3651000)\nlibpthread.so.0 => /usr/lib64/libpthread.so.0 (0x00002afed3b33000)\nlibdl.so.2 => /usr/lib64/libdl.so.2 (0x00002afed3d4f000)\n/lib64/ld-linux-x86-64.so.2 (0x00002afecc501000)\nlibgomp.so.1 => /usr/lib64/libgomp.so.1 (0x00002afed3f53000)\nlibnetcdf.so.13 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/libnetcdf.so.13 (0x00002afed4179000)\nlibvtkIOXML-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOXML-6.3.so.1 (0x00002afed42c5000)\nlibvtkIOParallelXML-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkIOParallelXML-6.3.so.1 (0x00002afecc68f000)\nlibvtkParallelMPI-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelMPI-6.3.so.1 (0x00002afecc6b6000)\nlibvtkParallelCore-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/libvtkParallelCore-6.3.so.1 (0x00002afecc6ce000)\nlibz.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/libz.so.1 (0x00002afed4391000)\nlibparmetis.so => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/libparmetis.so (0x00002afed43ab000)\nlibmetis.so => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/libmetis.so (0x00002afed43f5000)\nlibquadmath.so.0 => /usr/lib64/libquadmath.so.0 (0x00002afed4464000)\nlibrt.so.1 => /usr/lib64/librt.so.1 (0x00002afed46a0000)\nlibvtksys-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1 (0x00002afed48a8000)\nlibvtkCommonMisc-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonMisc-6.3.so.1 (0x00002afed48fa000)\nlibvtkCommonSystem-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonSystem-6.3.so.1 (0x00002afed4910000)\nlibvtkCommonTransforms-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonTransforms-6.3.so.1 (0x00002afed4926000)\nlibvtkCommonMath-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkCommonMath-6.3.so.1 (0x00002afed4959000)\nlibvtkpng-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkpng-6.3.so.1 (0x00002afed497b000)\nlibvtktiff-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtktiff-6.3.so.1 (0x00002afed49af000)\nlibvtkmetaio-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkmetaio-6.3.so.1 (0x00002afed4a19000)\nlibvtkDICOMParser-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkDICOMParser-6.3.so.1 (0x00002afed4ac0000)\nlibvtkzlib-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkzlib-6.3.so.1 (0x00002afed4adf000)\nlibvtkjpeg-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtkjpeg-6.3.so.1 (0x00002afed4af8000)\nlibstrumpack.so => /home/prakashn2/miniconda3/envs/moose/lib/./libstrumpack.so (0x00002afed4b29000)\nlibsuperlu_dist.so.6 => /home/prakashn2/miniconda3/envs/moose/lib/./libsuperlu_dist.so.6 (0x00002afed5511000)\nlibmpifort.so.12 => /home/prakashn2/miniconda3/envs/moose/lib/./libmpifort.so.12 (0x00002afed5605000)\nlibmfhdf.so.0 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/./libmfhdf.so.0 (0x00002afed5645000)\nlibdf.so.0 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/./libdf.so.0 (0x00002afed5671000)\nlibhdf5_hl.so.100 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/./libhdf5_hl.so.100 (0x00002afed5720000)\nlibhdf5.so.103 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/./libhdf5.so.103 (0x00002afed5747000)\nlibcurl.so.4 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/./libcurl.so.4 (0x00002afed5adb000)\nlibvtkIOXMLParser-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOXMLParser-6.3.so.1 (0x00002afed5b75000)\nlibvtkIOCore-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOCore-6.3.so.1 (0x00002afed5b8e000)\nlibvtkIOLegacy-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/./libvtkIOLegacy-6.3.so.1 (0x00002afed5c08000)\nlibjpeg.so.9 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libjpeg.so.9 (0x00002afed5cac000)\nlibnghttp2.so.14 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libnghttp2.so.14 (0x00002afed5cea000)\nlibssh2.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libssh2.so.1 (0x00002afed5d14000)\nlibssl.so.1.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libssl.so.1.1 (0x00002afed5d58000)\nlibcrypto.so.1.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libcrypto.so.1.1 (0x00002afed5de8000)\nlibgssapi_krb5.so.2 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libgssapi_krb5.so.2 (0x00002afed60b5000)\nlibkrb5.so.3 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libkrb5.so.3 (0x00002afed6104000)\nlibk5crypto.so.3 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libk5crypto.so.3 (0x00002afed61dd000)\nlibcom_err.so.3 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/././libcom_err.so.3 (0x00002afed61fd000)\nlibvtkexpat-6.3.so.1 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../libmesh-vtk/lib/././libvtkexpat-6.3.so.1 (0x00002afed6203000)\nlibkrb5support.so.0 => /home/prakashn2/miniconda3/envs/moose/libmesh/lib/../../lib/./././libkrb5support.so.0 (0x00002afed6230000)\nlibresolv.so.2 => /usr/lib64/libresolv.so.2 (0x00002afed623f000)",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-456488",
                          "updatedAt": "2022-06-29T15:56:09Z",
                          "publishedAt": "2021-03-09T18:21:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "Update:\nI did not have my gcc module loaded. With gcc/8.2 loaded, I'm still get this with ldd moose_test-opt though:\n./moose_test-opt: /usr/nic/compiler/gcc/8.2/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /lstr/home/prakashn2/work/codes/moose/test/lib/libmoose_test-opt.so.0) ./moose_test-opt: /usr/nic/compiler/gcc/8.2/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /lstr/home/prakashn2/work/codes/moose/framework/libmoose-opt.so.0)\n./moose_test-opt: /usr/nic/compiler/gcc/8.2/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh/lib/libmesh_opt.so.0) ./moose_test-opt: /usr/nic/compiler/gcc/8.2/lib64/libstdc++.so.6: version GLIBCXX_3.4.26' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/libvtkCommonCore-6.3.so.1)\n./moose_test-opt: /usr/nic/compiler/gcc/8.2/lib64/libstdc++.so.6: version `GLIBCXX_3.4.26' not found (required by /home/prakashn2/miniconda3/envs/moose/libmesh-vtk/lib/./libvtksys-6.3.so.1)",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-456577",
                          "updatedAt": "2022-07-01T16:18:17Z",
                          "publishedAt": "2021-03-09T18:38:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I don't know about a conflict between python and gcc versions... but maybe??? What I mean: Conda (the moose environment part), comes with a predefined set of compilers. You'll get these when you install any of our conda-moose packages.\nCan you attempt the following:\nconda deactivate\nmodule purge\nconda activate moose\ncd /lstr/home/prakashn2/work/codes/moose\ngit clean -xfd      # warning... this will delete any unsaved commits if you have any\ncd test\nmake -j #yourcpucount\n./run_tests\nI want to make sure there are no environment paths possibly interfering with the conda activate portion.",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-456630",
                          "updatedAt": "2022-07-01T16:18:17Z",
                          "publishedAt": "2021-03-09T18:50:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "So I tried exactly the above, but unable to build run_tests:\n$ make -j 8\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/libtool: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/libtool: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\nRebuilding symlinks in /lstr/home/prakashn2/work/codes/moose/framework/build/header_symlinks\nRebuilding symlinks in /lstr/home/prakashn2/work/codes/moose/test/build/header_symlinks\nChecking if header needs updating: /lstr/home/prakashn2/work/codes/moose/framework/include/base/MooseRevision.h...\nCreating Unity Directory /lstr/home/prakashn2/work/codes/moose/framework/build/unity_src\nCopying default MOOSE configuration to: /lstr/home/prakashn2/work/codes/moose/framework/include/base/MooseConfig.h...\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\nCompiling C++ (in opt mode) /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/src/pcrecpp.cc...\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\nCompiling C++ (in opt mode) /lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/src/pcre_stringpiece.cc...\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/libtool: No such file or directory\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/contrib/bin/libmesh-config: No such file or directory\nmake: *** [/lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/src/pcrecpp..opt.lo] Error 127\nmake: *** Waiting for unfinished jobs....\n/bin/sh: /lstr/home/prakashn2/work/codes/moose/libmesh/installed/libtool: No such file or directory\nmake: *** [/lstr/home/prakashn2/work/codes/moose/framework/contrib/pcre/src/pcre_stringpiece..opt.lo] Error 127\nmake: *** wait: No child processes.  Stop.",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-456770",
                          "updatedAt": "2023-09-05T15:47:03Z",
                          "publishedAt": "2021-03-09T19:32:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "this would indicate that moose-libmesh is not installed, or you have LIBMESH_DIR set to point to a different location other than what moose-libmesh has it set to... Can you verify this?\necho $LIBMESH_DIR\nIt should point to the Conda env path:\n/home/prakashn2/miniconda3/envs/moose/libmesh  # somewhere here... instead of\n/lstr/home/prakashn2/work/codes/moose/libmesh/installed",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-456936",
                          "updatedAt": "2023-09-05T15:47:11Z",
                          "publishedAt": "2021-03-09T19:54:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "Hi Jason, sorry my bad. I did not activate moose when I tried to run the tests again. So this time the tests rans successfully. $LIBMESH_DIR points to /home/prakashn2/miniconda3/envs/moose/libmesh\nI could not run the tests without doing a 'module purge'. So there seems to be some conflict with one more environment variables? Is there any way around this without doing all the above as you suggested?\nAgain, sorry about the confusion, my first time using conda.",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-457554",
                          "updatedAt": "2023-09-05T15:47:11Z",
                          "publishedAt": "2021-03-09T21:58:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "What module is it that you are loading? Can you list all the modules that may also load when you load that module?\nmodule load <that module you load>\nmodule list",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-457566",
                          "updatedAt": "2023-09-05T15:47:11Z",
                          "publishedAt": "2021-03-09T22:00:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "I'm not loading any modules myself, just the default modules that come with the cluster I'm using. I'm not loading any compilers/libraries.\nDefault modules are pretty non-descriptive.\n$ module list\nCurrently Loaded Modulefiles:\n\npbs         2) utilities   3) use.own",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-457652",
                          "updatedAt": "2023-09-05T15:47:13Z",
                          "publishedAt": "2021-03-09T22:14:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Hmmm. I wonder if utilities is providing 'python' or some such:\nmodule display utilities\nwill 'display' the attributes it sets when active...\nOh, and no worries! Environment issues like these are pretty common place among these discussions.",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-457662",
                          "updatedAt": "2023-09-05T15:47:14Z",
                          "publishedAt": "2021-03-09T22:16:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "naveen-pr"
                          },
                          "bodyText": "I tried module whatis and nothing significant showed up\n$ module display utilities\n/usr/nic/Modules/modulefiles/Base/utilities:\nmodule-whatis\t utilities 1.0 - User convenience utilities\nappend-path\t PATH /usr/nic/utilities/bin\nappend-path\t LD_LIBRARY_PATH /usr/nic/utilities/lib\nappend-path\t INCLUDE /usr/nic/utilities/include\nI can try to find out more.",
                          "url": "https://github.com/idaholab/moose/discussions/17256#discussioncomment-457692",
                          "updatedAt": "2023-09-05T15:52:42Z",
                          "publishedAt": "2021-03-09T22:22:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "ConservativeAdvection Velocity Field?",
          "author": {
            "login": "makeclean"
          },
          "bodyText": "Hi All\nI've got a problem where I'm trying to mock conduction in fluid flow. I have two regions, the green and yellow regions in the figure. Fixed temperature on the lateral sides of the cube and a fixed 'inlet' temperature. I was hoping to be able to set the advected velocity as a field (as in my real use case) but all the examples for ConservativeAdvection only have a fixed velocity.\n\nAny advice? My input is below\n[Mesh]\n  type = FileMesh\n  file = \"advection.e\"\n[]\n\n[Variables]\n  [velocity]\n    order = FIRST\n    family = LAGRANGE_VEC\n  []\n  [temp]\n    order = FIRST\n    family = LAGRANGE\n  []\n[]\n\n[Kernels]\n  [heat-conduction]\n    type = ADHeatConduction\n    variable = temp\n    thermal_conductivity = 'k'\n  []\n  [heat-conduction-dt]\n    type = ADHeatConductionTimeDerivative\n    variable = temp\n    specific_heat = 'cp'\n    density_name = 'rho'\n  []\n  [advection]\n    type = ConservativeAdvection\n    variable = temp\n    velocity = velocity\n    block = 'tube'\n  []\n  [advection-dt]\n    type = TimeDerivative\n    variable = velocity\n  []\n[]\n\n[ICs]\n  [velocityIC]\n    type = VectorConstantIC\n    variable = velocity\n    x_value = 0.0\n    y_value = 0.0\n    z_value = 0.1\n  []\n[]\n  \n[BCs]\n  [walls]\n    type = ADDirichletBC\n    boundary = 'fixed-temp'\n    variable = temp\n    value = 500\n  []\n  [hot_in]\n    type = ADDirichletBC\n    variable = temp\n    boundary = 'fixed-temp-flow'\n    value = 250\n  []\n  [injection_left]\n    type = InflowBC\n    boundary = 'fixed-temp-flow'\n    variable = T\n    velocity = '0 0 0.1'\n    inlet_conc = 250\n  []\n[]\n\n[Materials]\n  [copper]\n    type = ADGenericConstantMaterial\n    prop_names = 'rho k cp'\n    prop_values = '8960 386.0 1486.0'\n    block = 'cube'\n  []\n  [water]\n    type = ADGenericConstantMaterial\n    prop_names = 'rho k cp'\n    prop_values = '1.0e3 0.5 4200.00'\n    block = 'tube'\n  []\n[]\n\n[Preconditioning]\n  [./SMP_PJFNK]\n    type = SMP\n    full = true\n    solve_type = 'NEWTON'\n  [../]\n[]\n\n[Executioner]\n  type = Transient\n  dt = 5\n  end_time = 60\n  dtmin = 1e-6\n  steady_state_detection = true\n  steady_state_tolerance = 1e-12\n  automatic_scaling = true\n  line_search = none\n  nl_rel_tol = 1e-10\n  nl_max_its = 10\n  l_tol = 1e-10\n  l_max_its = 200\n[]\n\n[Debug]\n  show_material_props = true\n  show_var_residual_norms = true\n[]\n\n[Outputs]\n  exodus = true\n[]",
          "url": "https://github.com/idaholab/moose/discussions/19048",
          "updatedAt": "2022-06-10T12:25:34Z",
          "publishedAt": "2021-10-08T21:15:41Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hi Andrew\nI would switch everything to finite volume (in navier stokes module) to do fluid flow.\nWhat are your plans after with this? I ll be able to tell you what s not supported with FV.\nIf you do not want to switch to FV, then you should have a look at the examples in navier_stokes/test/tests/ins (if your flow is incompressible)\nConservativeAdvection is a porous flow object. Navier Stokes has different kernels.\nEDIT: conservativeAdvection is a framework object\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1450586",
                  "updatedAt": "2022-06-10T12:26:27Z",
                  "publishedAt": "2021-10-08T21:34:36Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "makeclean"
                  },
                  "bodyText": "Ah no, sorry, Im not trying to do fluid flow - I'm trying to 'mock' the thermal effects. The end use is I have some velocity field which I would like to use to advect the temperature. So i would like to advect the temperature field with a velocity field, ignoring many (all?) the fluid effects. Lets say for example, I have the velocity field from another calculation, I would like to use that velocity field to advect the temperature in a specific mesh block, but also model conduction and its time derivative in that block. Is that more clear?",
                  "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1450604",
                  "updatedAt": "2022-06-10T12:26:43Z",
                  "publishedAt": "2021-10-08T21:40:20Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "Further, key, I want the velocity to be a field, not constant",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1450629",
                          "updatedAt": "2022-06-10T12:26:41Z",
                          "publishedAt": "2021-10-08T21:49:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Oh so you want some sort of passive scalar advection. Well in finite volume, it's done using INSFVScalarFieldAdvection or FVMatAdvection if you convert your velocity to a material property.\nWith finite element, I think you'd have write your own kernel based on ConservativeAdvection. Not a hard one to write though",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1450866",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-10-08T23:36:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Let me know which way you're going with this. If writing that kernel is an issue I could definitely do it.",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1450934",
                          "updatedAt": "2022-06-10T12:26:41Z",
                          "publishedAt": "2021-10-09T00:03:31Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "WilkAndy"
                  },
                  "bodyText": "Hi @makeclean ,  The velocity in ConervativeAdvection can indeed be a spatially-varying field.  If it is a Variable then you'll probably get poor convergence.  If it is an AuxVariable then convergence will be fine.",
                  "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1450947",
                  "updatedAt": "2022-06-10T12:26:40Z",
                  "publishedAt": "2021-10-09T00:10:32Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "First thing I should have checked ..",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1451001",
                          "updatedAt": "2022-06-10T12:26:41Z",
                          "publishedAt": "2021-10-09T00:45:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "When I run my problem as is with ConservativeAdvection I get this error\n*** ERROR ***\nThe following error occurred in the object \"MOOSE Problem\", of type \"FEProblem\".\n\nNo standard variable named velocity found. Did you specify a vector variable when you meant to specify a standard variable?",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1451555",
                          "updatedAt": "2022-06-10T12:26:41Z",
                          "publishedAt": "2021-10-09T06:54:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This is not due to this kernel i think\nIt's due to the TimeDerivative kernel. You would want to use VectorTimeDerivative https://mooseframework.inl.gov/source/kernels/VectorTimeDerivative.html\nBut as Andy mentioned, you do not want velocity to be a variable, you want it to be an AuxVariable because you are not solving for it. Your matrix will be a lot bigger, and potentially singular (i think the time derivative is here to avoid that right?) if you have it as a variable",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1456748",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-10-11T02:56:13Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "ngrilli"
                  },
                  "bodyText": "Dear @makeclean\nI had a similar problem recently and developed my own conservative advection kernel,\nin which I import the velocity as a material property in the kernel:\nhttps://github.com/ngrilli/c_pfor_am/blob/main/src/kernels/ConservativeAdvectionSchmid.C\nThis is because in my application the velocity is stress dependent, so need to be calculated at each time step\nby a material class.\nI don't think a variable can be used for velocity in ConservativeAdvection.\nBest Regards,\nNicol\u00f2",
                  "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1453785",
                  "updatedAt": "2022-06-10T12:26:41Z",
                  "publishedAt": "2021-10-09T23:25:47Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "I have the following file;\n[Mesh]\n  type = FileMesh\n  file = \"advection.e\"\n[]\n\n[Variables]\n  [temp]\n    order = FIRST\n    family = LAGRANGE\n  []\n[]\n\n[AuxVariables]\n  [velocity_v]                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    order = FIRST                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n    family = LAGRANGE_VEC                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[Kernels]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n  [heat-conduction]                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    type = ADHeatConduction                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n    variable = temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    thermal_conductivity = 'k'                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  [heat-conduction-dt]                                                                                                                                                                                                                                                                                                                                                                                                                                                                      \n    type = ADHeatConductionTimeDerivative                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n    variable = temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    specific_heat = 'cp'                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n    density_name = 'rho'                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  [advection]                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n    type = ConservativeAdvection                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n    variable = temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    velocity = 'velocity_v'                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n    block = 'tube'                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n    upwinding_type = full                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[ICs]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       \n  [velocityIC]                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    type = VectorConstantIC                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n    variable = velocity_v                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n    x_value = 0.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n    y_value = 0.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n    z_value = 0.1                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  [tempIC]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n    type = ConstantIC                                                                                                                                                                                                                                                                                                                                                                                                                                                                       \n    variable = temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    value = 250                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[BCs]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       \n  [walls]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n    type = ADDirichletBC                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n    boundary = 'fixed-temp'                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n    variable = temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    value = 250                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  [hot_in]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n    type = ADDirichletBC                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n    variable = temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n    boundary = 'fixed-temp-flow'                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n    value = 500                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[Materials]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n  [copper]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n    type = ADGenericConstantMaterial                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n    prop_names = 'rho k cp'                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n    prop_values = '8960 386.0 1486.0'                                                                                                                                                                                                                                                                                                                                                                                                                                                       \n    block = 'cube'                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  [water]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n    type = ADGenericConstantMaterial                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n    prop_names = 'rho k cp'                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \n    prop_values = '1.0e3 0.5 4200.00'                                                                                                                                                                                                                                                                                                                                                                                                                                                       \n    block = 'tube'                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n  []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[Preconditioning]                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n  [./SMP_PJFNK]                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n    type = SMP                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    full = true                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n    solve_type = 'NEWTON'                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n  [../]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[Executioner]                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n  type = Transient                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n  dt = 0.1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n  end_time = 6000                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n  dtmin = 1e-6                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n  steady_state_detection = true                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n  steady_state_tolerance = 1e-12                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n  petsc_options_iname = '-ksp_gmres_restart -pc_type -sub_pc_type -sub_pc_factor_levels'                                                                                                                                                                                                                                                                                                                                                                                                    \n  petsc_options_value = '200                bjacobi       ilu          4'                                                                                                                                                                                                                                                                                                                                                                                                                   \n  # petsc_options_iname = '-pc_type -pc_asm_overlap -sub_pc_type -sub_pc_factor_levels'                                                                                                                                                                                                                                                                                                                                                                                                     \n  # petsc_options_value = 'asm            2           ilu          4'                                                                                                                                                                                                                                                                                                                                                                                                                       \n  # petsc_options_iname = '-pc_type -sub_pc_type -sub_pc_factor_shift_type -ksp_gmres_restart'                                                                                                                                                                                                                                                                                                                                                                                              \n  # petsc_options_value = 'bjacobi           lu          NONZERO                  200'                                                                                                                                                                                                                                                                                                                                                                                                      \n  # petsc_options_iname = '-pc_type -pc_factor_mat_solver_type'                                                                                                                                                                                                                                                                                                                                                                                                                             \n  # petsc_options_value = 'lu       superlu_dist'                                                                                                                                                                                                                                                                                                                                                                                                                                           \n  automatic_scaling = true                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n  line_search = none                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  nl_rel_tol = 1e-10                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n  nl_max_its = 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n  l_tol = 1e-10                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n  l_max_its = 200                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[Debug]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n  show_material_props = true                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n  show_var_residual_norms = true                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n[Outputs]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n  exodus = true                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n\nHowever, my field does not advect, I would expect from this file for the 500 K temperature front to move in +z at 0.1 m/s, however it doesn't move. Do I need something more?",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1479169",
                          "updatedAt": "2021-10-14T20:08:03Z",
                          "publishedAt": "2021-10-14T20:08:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Just a quick look, but this wont advect the quantity from the wall I think. It will advect what is diffused into the domain from the wall.\nYou ll need some sort of advection boundary condition to create advection from the boundary",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1479209",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-10-14T20:20:13Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "That's exactly what I want, there are two domains the outer one, which has fixed temp, the cooler one and the inner domain which is effectively a water tube. It has an 'inlet' temperature of 500 K. What I was expecting is that there would be conduction into the water, which would then be advected along the water.",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1479271",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-10-14T20:34:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "When I use an InflowBC, I get the following error from the combined-opt executable\n*** ERROR ***\nA 'InflowBC' is not a registered object.\n\nIf you are trying to find this object in a dynamically linked library, make sure that\nthe library can be found either in your \"Problem/library_path\" parameter or in the\nMOOSE_LIBRARY_PATH environment variable.",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1479276",
                          "updatedAt": "2022-06-10T12:51:46Z",
                          "publishedAt": "2021-10-14T20:35:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok but where is the water coming from ? Is it not coming with a temperature of 500K from that wall?",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1479287",
                          "updatedAt": "2022-06-10T12:51:46Z",
                          "publishedAt": "2021-10-14T20:38:02Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "WilkAndy"
                          },
                          "bodyText": "InflowBC is in moose/test/src/bcs , so your application won't be picking it up.  Possibly the easiest way to get it is:\ncp moose/test/src/bcs/InflowBC.C your_app/src/bcs/.\ncp moose/test/include/bcs/InflowBC.h your_app/src/bcs/.\n\nThen change the start of InflowBC.C from registerMooseObject(\"MooseTestApp\", InflowBC); to registerMooseObject(\"YourApp\", InflowBC); and recompile.\nDid you read the documentation at https://mooseframework.inl.gov/source/kernels/ConservativeAdvection.html ?   It shows you how to setup such situations.  I would recommend turning off your ADHeatConduction for now, since its diffusion might mask the advection.",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1479580",
                          "updatedAt": "2022-06-10T12:52:04Z",
                          "publishedAt": "2021-10-14T22:00:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "Maybe this makes it more clear, I have the red region which is essentially zero conductivity, flowing at 1.0 m/s on a domain (0,1) in R^3 so I expect the advection to take the 500 K temperature immediately through to the 'other' side of the pipe. I've reformed the earlier attached example, hoping this would better demonstrate advection.\n\nWithout using the inflowBC nothing happens, all I see is conduction into the domain from the 500K BC, no advection\n@WilkAndy I brought the InFlowBC into my own executable, but when I run I get the following error; my application is indeed called 'fred'.\n\n\n\n*** ERROR ***\nThe following objects/actions have been registered to unknown applications/labels:\n\tInflowBC (app='fred')\n\nStack frames: 23\n0: libMesh::print_trace(std::ostream&)\n1: moose::internal::mooseErrorRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >)\n2: void mooseError<char const (&) [83], std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >(char const (&) [83], std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)\n3: Registry::checkLabels(std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&)\n4: MooseApp::checkRegistryLabels()\n5: Factory::reportUnregisteredError(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const\n6: Factory::getValidParams(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)\n7: MooseObjectAction::MooseObjectAction(InputParameters)\n8: AddKernelAction::AddKernelAction(InputParameters)\n9: /home/adavis/opt/moose/framework/libmoose-opt.so.0(+0xce7863) [0x7fdafe54f863]\n10: std::shared_ptr<Action> moose::internal::buildAct<AddKernelAction>(InputParameters const&)\n11: ActionFactory::create(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, InputParameters&)\n12: Parser::walkRaw(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, hit::Node*)\n13: Parser::walk(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, hit::Node*)\n14: hit::Node::walk(hit::Walker*, hit::NodeType)\n15: hit::Node::walk(hit::Walker*, hit::NodeType)\n16: hit::Node::walk(hit::Walker*, hit::NodeType)\n17: Parser::parse(std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&)\n18: MooseApp::setupOptions()\n19: MooseApp::run()\n20: /home/adavis/prod/inflow/fred/fred-opt() [0x402272]\n21: __libc_start_main\n22: /home/adavis/prod/inflow/fred/fred-opt() [0x40248e]\napplication called MPI_Abort(MPI_COMM_WORLD, 1) - process 0\n[unset]: write_line error; fd=-1 buf=:cmd=abort exitcode=1",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1489974",
                          "updatedAt": "2022-06-10T12:52:05Z",
                          "publishedAt": "2021-10-17T18:18:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Did you change InflowBC.C to register the class to your application?\n( registerMooseObject(\"fred\", InflowBC); )",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1491360",
                          "updatedAt": "2022-06-10T12:54:17Z",
                          "publishedAt": "2021-10-18T04:45:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "I did indeed",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1494631",
                          "updatedAt": "2022-06-10T12:54:17Z",
                          "publishedAt": "2021-10-18T10:38:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok I ll do the same see if I get the error",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1497736",
                          "updatedAt": "2022-06-10T12:54:17Z",
                          "publishedAt": "2021-10-18T17:33:44Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "makeclean"
                  },
                  "bodyText": "When I originally attached yes, I've since switched them to help demonstrate, I think I said a little higher in the chain\n\nGet Outlook for Android<https://aka.ms/AAb9ysg>\n\u2026\n________________________________\nFrom: Guillaume Giudicelli ***@***.***>\nSent: Monday, October 18, 2021 11:50:56 PM\nTo: idaholab/moose ***@***.***>\nCc: Davis, Andrew ***@***.***>; Mention ***@***.***>\nSubject: Re: [idaholab/moose] ConservativeAdvection Velocity Field? (Discussion #19048)\n\n\nwell in your BCs the advected flow is at 250 ?\n\n[BCs]\n  [walls]\n    type = ADDirichletBC\n    boundary = 'fixed-temp'\n    variable = temp\n    value = 500\n  []\n  [hot_in]\n    type = ADDirichletBC\n    variable = temp\n    boundary = 'fixed-temp-flow'\n    value = **250**\n  []\n  [injection_left]\n    type = InflowBC\n    boundary = 'fixed-temp-flow'\n    variable = T\n    velocity = '0 0 0.1'\n    inlet_conc = **250**\n  []\n[]\n\n\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub<#19048 (reply in thread)>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AASTUSSXWJ6PREMKIS6M2ETUHSQFBANCNFSM5FUNPSAQ>.\nTriage notifications on the go with GitHub Mobile for iOS<https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675> or Android<https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.",
                  "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1499038",
                  "updatedAt": "2022-06-10T12:26:40Z",
                  "publishedAt": "2021-10-18T22:56:13Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ah ok.  not that then.\nI d look at the form of the equation at this point.\n\\nabla \\cdot \\vec{v} u (what the kernel adds) is not quite what you want, since you are advecting rho cp T not just T.\nso either:\n\nmodify the kernel to add a coefficient\nnormalize your whole fluid equation by rho cp\nnormalize the velocity to include rho cp\n\nprobably same concerns for the InflowBC",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1499053",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-10-18T23:01:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@makeclean has this been solved?",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1616273",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-11-10T01:35:35Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "makeclean"
                          },
                          "bodyText": "Nope still stuck currently",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1665222",
                          "updatedAt": "2022-06-10T12:26:40Z",
                          "publishedAt": "2021-11-18T15:06:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok. well if fixing the equations (eg advecting rho cp T not T) did not do it, I want to try FV flow on this. I ll try this this week",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1678931",
                          "updatedAt": "2022-09-14T17:12:16Z",
                          "publishedAt": "2021-11-22T01:12:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "cylinder_flow_2d.zip\nquick 2D try seems fine.\nThe flow should only be in a cylindrical channel right? And the region around has no equations for now? i think I can generate that in MOOSE",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1685846",
                          "updatedAt": "2022-09-14T17:12:16Z",
                          "publishedAt": "2021-11-23T07:39:49Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@makeclean\nI think the values for inlet and walls may not be right but i've put this together and should be a good starting point\n\nit includes a very basic turbulence model, you can remove it if your flow is laminar, and you ll def want to adjust the parameters if turbulent. Run some CFD with Nek for example to adjust the coeffs\nit has a viscosity rampdown for intializing the flow solution. Starting closer to the solution can help remove this\nthis requires latest moose\nusing flibe fluid properties for density right now\n\n# 3D cylinder in square region\n\nrho = 'rho'\nvel = 'velocity'\nvelocity_interp_method = 'rc'\nadvected_interp_method = 'upwind'\n\n# Artificial fluid properties\n# For a real case, use a GeneralFluidFunctorProperties and a viscosity rampdown\n# or initialize very well!\nk = 10\ncp = 1000\nmu = 1e1\n\n# Operating conditions\ninitial_temp = 250 # C\ninlet_temp = 500 # C\nwalls_temp = 500 # C\noutlet_pressure = 1e5 # Pa\ninlet_v = 1 # m/s\n\n[Mesh]\n  [cylinder]\n    type = ConcentricCircleMeshGenerator\n    num_sectors = 6\n    radii = '1'\n    rings = '5 6'\n    has_outer_square = on\n    pitch = 3\n    preserve_volumes = on\n  []\n  [cylinder_name]\n    type = ParsedGenerateSideset\n    input = cylinder\n    combinatorial_geometry = 'abs(x*x + y*y - 1) < 1e-2'\n    new_sideset_name = 'walls'\n  []\n  [make3D]\n    input = cylinder_name\n    type = MeshExtruderGenerator\n    extrusion_vector = '0 0 12'\n    num_layers = 3\n    bottom_sideset = 'inlet'\n    top_sideset = 'outlet'\n  []\n[]\n\n[Variables]\n  [u]\n    type = INSFVVelocityVariable\n    initial_condition = 1e-15\n    block = 1\n  []\n  [v]\n    type = INSFVVelocityVariable\n    initial_condition = 1e-15\n    block = 1\n  []\n  [w]\n    type = INSFVVelocityVariable\n    initial_condition = ${inlet_v}\n    block = 1\n  []\n  [pressure]\n    type = INSFVPressureVariable\n    initial_condition = ${outlet_pressure}\n    block = 1\n  []\n  [T]\n    type = INSFVEnergyVariable\n    initial_condition = ${initial_temp}\n    block = 1\n  []\n[]\n\n[Problem]\n  kernel_coverage_check = false\n[]\n\n[AuxVariables]\n  [mixing_len]\n    type = MooseVariableFVReal\n  []\n[]\n\n[FVKernels]\n  inactive = 'u_turb v_turb temp_turb'\n  [mass_time]\n    type = WCNSFVMassTimeDerivative\n    variable = pressure\n    drho_dt = drho_dt\n  []\n  [mass]\n    type = INSFVMassAdvection\n    variable = pressure\n    vel = ${vel}\n    advected_interp_method = ${advected_interp_method}\n    velocity_interp_method = ${velocity_interp_method}\n    u = u\n    v = v\n    w =w\n    pressure = pressure\n    mu = mu_rampdown\n    rho = ${rho}\n  []\n\n  [u_time]\n    type = WCNSFVMomentumTimeDerivative\n    variable = u\n    drho_dt = drho_dt\n    rho = rho\n  []\n  [u_advection]\n    type = INSFVMomentumAdvection\n    variable = u\n    advected_quantity = 'rhou'\n    vel = ${vel}\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w =w\n    mu = mu_rampdown\n    rho = ${rho}\n  []\n  [u_viscosity]\n    type = FVDiffusion\n    variable = u\n    coeff = ${mu}\n  []\n  [u_pressure]\n    type = INSFVMomentumPressure\n    variable = u\n    momentum_component = 'x'\n    pressure = pressure\n  []\n  [u_turb]\n    type = INSFVMixingLengthReynoldsStress\n    variable = u\n    rho = ${rho}\n    mixing_length = mixing_len\n    momentum_component = 'x'\n    u = u\n    v = v\n    w =w\n  []\n\n  [v_time]\n    type = WCNSFVMomentumTimeDerivative\n    variable = v\n    drho_dt = drho_dt\n    rho = rho\n  []\n  [v_advection]\n    type = INSFVMomentumAdvection\n    variable = v\n    advected_quantity = 'rhov'\n    vel = ${vel}\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w =w\n    mu = mu_rampdown\n    rho = ${rho}\n  []\n  [v_viscosity]\n    type = FVDiffusion\n    variable = v\n    coeff = ${mu}\n  []\n  [v_pressure]\n    type = INSFVMomentumPressure\n    variable = v\n    momentum_component = 'y'\n    pressure = pressure\n  []\n  [v_turb]\n    type = INSFVMixingLengthReynoldsStress\n    variable = v\n    rho = ${rho}\n    mixing_length = mixing_len\n    momentum_component = 'y'\n    u = u\n    v = v\n    w =w\n  []\n\n  [w_time]\n    type = WCNSFVMomentumTimeDerivative\n    variable = w\n    drho_dt = drho_dt\n    rho = rho\n  []\n  [w_advection]\n    type = INSFVMomentumAdvection\n    variable = w\n    advected_quantity = 'rhow'\n    vel = ${vel}\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w =w\n    mu = mu_rampdown\n    rho = ${rho}\n  []\n  [w_viscosity]\n    type = FVDiffusion\n    variable = w\n    coeff = ${mu}\n  []\n  [w_pressure]\n    type = INSFVMomentumPressure\n    variable = w\n    momentum_component = 'z'\n    pressure = pressure\n  []\n  [w_turb]\n    type = INSFVMixingLengthReynoldsStress\n    variable = w\n    rho = ${rho}\n    mixing_length = mixing_len\n    momentum_component = 'z'\n    u = u\n    v = v\n    w =w\n  []\n\n  [temp_time]\n    type = WCNSFVEnergyTimeDerivative\n    variable = T\n    cp = cp\n    rho = rho\n    drho_dt = drho_dt\n    dcp_dt = dcp_dt\n  []\n  [temp_conduction]\n    type = FVDiffusion\n    coeff = 'k'\n    variable = T\n  []\n  [temp_advection]\n    type = INSFVEnergyAdvection\n    variable = T\n    vel = ${vel}\n    velocity_interp_method = ${velocity_interp_method}\n    advected_interp_method = ${advected_interp_method}\n    pressure = pressure\n    u = u\n    v = v\n    w =w\n    mu = mu_rampdown\n    rho = ${rho}\n  []\n  [temp_turb]\n    type = WCNSFVMixingLengthEnergyDiffusion\n    variable = T\n    rho = rho\n    cp = cp\n    mixing_length = mixing_len\n    schmidt_number = 1\n    u = u\n    v = v\n    w =w\n  []\n[]\n\n[FVBCs]\n  [no_slip_x]\n    type = INSFVNoSlipWallBC\n    variable = u\n    boundary = 'walls'\n    function = 0\n  []\n\n  [no_slip_y]\n    type = INSFVNoSlipWallBC\n    variable = v\n    boundary = 'walls'\n    function = 0\n  []\n\n  [no_slip_z]\n    type = INSFVNoSlipWallBC\n    variable = w\n    boundary = 'walls'\n    function = 0\n  []\n\n  # Inlet\n  [inlet_u]\n    type = INSFVInletVelocityBC\n    variable = u\n    boundary = 'inlet'\n    function = 0\n  []\n  [inlet_v]\n    type = INSFVInletVelocityBC\n    variable = v\n    boundary = 'inlet'\n    function = 0\n  []\n  [inlet_w]\n    type = INSFVInletVelocityBC\n    variable = w\n    boundary = 'inlet'\n    function = ${inlet_v}\n  []\n\n\n  [inlet_T]\n    type = FVDirichletBC\n    variable = T\n    boundary = 'inlet'\n    value = ${inlet_temp}\n  []\n  # This has got to be an approximation\n  # real one should be conjugate heat transfer.\n  # We have interface kernels for this (as we looked at the coupled problem with\n  # the solid temperature conduction), but could be done as a BC too\n  [walls_T]\n    type = FVDirichletBC\n    variable = T\n    boundary = 'walls'\n    value = ${walls_temp}\n  []\n\n  [outlet_p]\n    type = INSFVOutletPressureBC\n    variable = pressure\n    boundary = 'outlet'\n    function = ${outlet_pressure}\n  []\n[]\n\n[Modules]\n  [FluidProperties]\n    [fp]\n      type = FlibeFluidProperties\n    []\n  []\n[]\n\n[Materials]\n  [const_functor]\n    type = ADGenericFunctorMaterial\n    prop_names = 'cp k dcp_dt'\n    prop_values = '${cp} ${k} 0'\n  []\n  [rho]\n    type = RhoFromPTFunctorMaterial\n    fp = fp\n    temperature = T\n    pressure = pressure\n    block = 1\n  []\n  [ins_fv]\n    type = INSFVMaterial\n    u = 'u'\n    v = 'v'\n    w ='w'\n    pressure = 'pressure'\n    temperature = 'T'\n    rho = ${rho}\n    block = 1\n  []\n  [mu_rampdown]\n    type = ADGenericFunctorMaterial\n    prop_names = 'mu_rampdown'\n    prop_values = 'rampdown'\n  []\n[]\n\n[Functions]\n  [rampdown]\n    type = ADParsedFunction\n    value = '1 + 1e4*exp(-t)'\n  []\n[]\n\n[AuxKernels]\n  inactive = 'mixing_len'\n  [mixing_len]\n    type = WallDistanceMixingLengthAux\n    walls = 'walls'\n    variable = mixing_len\n    execute_on = 'initial'\n    delta = 0.5\n  []\n[]\n\n[Executioner]\n  type = Transient\n  solve_type = 'NEWTON'\n  petsc_options_iname = '-pc_type -pc_factor_shift_type'\n  petsc_options_value = 'lu       NONZERO'\n\n  [TimeStepper]\n    type = IterationAdaptiveDT\n    dt = 1e-3\n    optimal_iterations = 6\n  []\n  end_time = 15\n\n  nl_abs_tol = 1e-9\n  nl_max_its = 50\n  line_search = 'none'\n\n  automatic_scaling = true\n[]\n\n# Doesnt like AD functions\n# [Postprocessors]\n#   [mu]\n#     type = FunctionValuePostprocessor\n#     function = 'rampdown'\n#   []\n# []\n\n[Outputs]\n  exodus = true\n[]",
                          "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1691557",
                          "updatedAt": "2022-09-14T17:12:16Z",
                          "publishedAt": "2021-11-24T04:42:26Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "lindsayad"
                  },
                  "bodyText": "It's nice to get something working with finite volume, but I'd like to understand what's going on with ConservativeAdvection. I would definitely set all properties to unity so that our lack of coefficients inside of ConservativeAdvection is ok. @makeclean would you be willing to share your advection.e mesh.",
                  "url": "https://github.com/idaholab/moose/discussions/19048#discussioncomment-1695946",
                  "updatedAt": "2022-06-10T12:26:40Z",
                  "publishedAt": "2021-11-24T18:45:32Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": []
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "petsc check error",
          "author": {
            "login": "jin-psu"
          },
          "bodyText": "Dear all,\nWe have been trying for multiple time to install moose on lemhi,\nThe petsc installation process is fine (no error), but  \"make PETSC_DIR=/your/home/projects/moose/scripts/../petsc PETSC_ARCH=arch-moose check\" always has issue. The error message is attached.\nIt looks like mpi link issue, but the openmpi is loaded \"openmpi/4.1.1-gcc-11.2.0-n2sm\"\nReally appreciate some guidance!\nCheers,\nMiaomiao\nerror.txt",
          "url": "https://github.com/idaholab/moose/discussions/19467",
          "updatedAt": "2021-11-24T02:10:34Z",
          "publishedAt": "2021-11-23T21:08:18Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@fdkong openmpi on lemhi works fine for this?",
                  "url": "https://github.com/idaholab/moose/discussions/19467#discussioncomment-1690618",
                  "updatedAt": "2021-11-23T22:41:25Z",
                  "publishedAt": "2021-11-23T22:41:15Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "milljm"
                  },
                  "bodyText": "I have been running into errors with gcc-11.2.0. You might want to try an older (stabler) variant.\nI created a new stack due to this, it is available with:\n$> module load use.moose civet_env\n$> module list\n\nCurrently Loaded Modules:\n  1) use.moose                       6) cmake/3.21.3-gcc-9.4.0-d22d\n  2) flex/2.6.4-gcc-11.2.0-wvjp      7) patchelf/0.13-oneapi-2021.4.0-uxhq\n  3) bison/3.7.6-gcc-11.2.0-aysl     8) miniforge\n  4) gcc/9.4.0-gcc-8.4.1-57pg        9) civet_env\n  5) mvapich2/2.3.6-gcc-9.4.0-n6hz\nThe above is what our Civet clients load, when we need to build PETSc.\nOr if you would rather not build PETSc, you're welcome to use the default modules already in place:\n$> module load use.moose PETSc\n$> module list\n\nCurrently Loaded Modules:\n  1) use.moose                     4) gcc/9.4.0-gcc-8.4.1-57pg\n  2) flex/2.6.4-gcc-11.2.0-wvjp    5) mvapich2/2.3.6-gcc-9.4.0-n6hz\n  3) bison/3.7.6-gcc-11.2.0-aysl   6) PETSc/3.15.1-gcc-9.4.0\nBoth methods though, should describe in enough detail what version of GCC we are using for the most part.",
                  "url": "https://github.com/idaholab/moose/discussions/19467#discussioncomment-1690619",
                  "updatedAt": "2021-11-23T22:41:40Z",
                  "publishedAt": "2021-11-23T22:41:30Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "jin-psu"
                          },
                          "bodyText": "This works! Appreciate the help \ud83d\udc4d",
                          "url": "https://github.com/idaholab/moose/discussions/19467#discussioncomment-1691114",
                          "updatedAt": "2021-11-24T02:10:24Z",
                          "publishedAt": "2021-11-24T02:10:24Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Coupling Two System Variables on the Boundaries",
          "author": {
            "login": "aaelmeli"
          },
          "bodyText": "Hi\nI am trying to simulate a coupled system where the system variables are only coupled on the boundaries. For example,\nthe two systems in a simpler form would be as follows:\nsystem 1:\n\nand system 2:\n\nAs a trial, I used one input file to define both PDEs and used CoupledVarNeumannBC to model the robin BCs of coupled variables, but it does not show any coupling.\nAny thoughts in this regard?",
          "url": "https://github.com/idaholab/moose/discussions/19365",
          "updatedAt": "2022-06-21T19:57:57Z",
          "publishedAt": "2021-11-11T18:40:55Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nDo both systems live on the same cells or are they on both sides of the boundary?\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1627514",
                  "updatedAt": "2022-06-21T19:58:09Z",
                  "publishedAt": "2021-11-11T18:45:58Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Hello\nDo both systems live on the same cells or are they on both sides of the boundary?\nGuillaume\n\nYes, both systems live on the same cells.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1627529",
                          "updatedAt": "2022-06-21T19:58:11Z",
                          "publishedAt": "2021-11-11T18:49:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Should have worked afaik then.\nCan you share your input file?",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1627543",
                          "updatedAt": "2022-06-21T19:58:15Z",
                          "publishedAt": "2021-11-11T18:53:44Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Should have worked afaik then. Can you share your input file?\n\nThe following is the input file for the simplest case, a1D problem:\n> [Mesh]\n> \n>         type = GeneratedMesh\n>         dim = 1\n>         xmin = 0\n>         xmax = 1.0\n>         nx = 1000\n> \n> []\n\n> [Variables]\n> \n>     [ureal]\n>         order = FIRST\n>         family = LAGRANGE\n>     []\n>     [uimag]\n>         order = FIRST\n>         family = LAGRANGE\n>     []\n> \n> []\n\n> [Kernels]\n> \n>     [diffusion_real]\n>         type = MatDiffusion\n>         variable = ureal\n>         diffusivity = _diff_\n>     []\n> \n>     [diffusion_imag]\n>         type = MatDiffusion\n>         variable = uimag\n>         diffusivity = _diff_\n>     []\n>\n>     [reaction_real]\n>         type = Reaction\n>         variable = ureal\n>         rate = -10000\n>     []\n> \n>     [reaction_imag]\n>         type = Reaction\n>         variable = uimag\n>         rate = -10000\n>     []\n> []\n> \n> \n> [Materials]\n> \n>     [mat]\n>     type = GenericConstantMaterial\n>     prop_names = '_diff_'\n>     prop_values = '1'\n>     []\n> \n> []\n\n\n> [BCs]\n> \n>     [BC_left_real]\n>         type = CoupledVarNeumannBC\n>         variable = ureal\n>         boundary = 'left'\n>         v = uimag\n>         coef=-100\n>     []\n> \n>      [BC_left_imag]\n>         type = CoupledVarNeumannBC\n>         variable = uimag\n>         boundary = 'left'\n>         v = ureal\n>         coef=100\n>     []\n> \n>     [BC_right_real]\n>         type = DirichletBC\n>         variable = ureal\n>         boundary = 'right'\n>         value = 1\n>     []\n> \n>     [BC_right_imag]\n>         type = DirichletBC\n>         variable = uimag\n>         boundary = 'right'\n>         value = 0\n>     []\n> \n> []\n> \n> \n>    [Executioner]\n> \n>       execute_on = 'initial timestep_end'\n>        type = Steady\n>        solve_type = LINEAR\n> \n>   []\n> \n>   [Outputs]\n> \n>     [exodus]\n>         type = Exodus\n>         execute_on = final\n>     [ ]\n> []",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1627617",
                          "updatedAt": "2022-06-21T19:58:13Z",
                          "publishedAt": "2021-11-11T19:10:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "You are using solve_type = LINEAR. I dont think this is a linear problem anymore with the coupling. If you multiply u by 2, 2*v is not a solution.\nJust remove that line and I got a believable answer.\nNote that execute_on is not a parameter to Executioner. You should have been getting a warning about this.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1628491",
                          "updatedAt": "2022-09-06T18:05:48Z",
                          "publishedAt": "2021-11-11T23:06:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "You are using solve_type = LINEAR. I dont think this is a linear problem anymore with the coupling. If you multiply u by 2, 2*v is not a solution.\nJust remove that line and I got a believable answer. Note that execute_on is not a parameter to Executioner. You should have been getting a warning about this.\n\nYes, that was the problem. Thank you. It works now.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1633975",
                          "updatedAt": "2022-09-06T18:05:48Z",
                          "publishedAt": "2021-11-12T20:10:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Hi @GiudGiud, just a follow-up question, although using solver_type = NEWTON results in variables coupling, we have noticed that the system of equation is a linear system in the sense that, if the force (usually point sources) is multiplied by 2, both u and v variables will be multiplied by 2.\nBasically, it is a decomposed version of the following Helmholtz equation (which is a linear system)\n\ndiscussed in this forum #19259. And there is no nonlinear transformation that has been applied when doing that decomposition.\nSo, I was hoping if we can assemble the entire system as Ax=b , that is the coupling effect done through CoupledVarNeumannBC goes directly to the A and be able to solve the system using direct solvers. Any thought on this?\nThank you.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1682752",
                          "updatedAt": "2022-09-06T18:05:48Z",
                          "publishedAt": "2021-11-22T16:40:50Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "That is not true with the DirichletBC of 1 for ureal on the right boundary. If you change that one, then it s more likely to be linear. The NeumannBCs and the 0 DirchletBC certainly allow for linear transformations of the variables.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1682785",
                          "updatedAt": "2022-09-06T18:05:55Z",
                          "publishedAt": "2021-11-22T16:46:09Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "aaelmeli"
                  },
                  "bodyText": "That is not true with the DirichletBC of 1 for ureal on the right boundary. If you change that one, then it s more likely to be linear. The NeumannBCs and the 0 DirchletBC certainly allow for linear transformations of the variables.\n\nYes, you are right. And that what I have tried, please see the following input file. Using this input, I could not get couplding between the variables.\n[Mesh]\n        type = GeneratedMesh\n        dim = 1\n        xmin = 0\n        xmax = 1.0\n        nx = 1000\n[]\n\n[Variables]\n    [ureal]\n        order = FIRST\n        family = LAGRANGE\n    []\n    [uimag]\n        order = FIRST\n        family = LAGRANGE\n    []\n[]\n\n[Kernels]\n    [diffusion_real]\n        type = MatDiffusion\n        variable = ureal\n        diffusivity = _diff_\n    []\n    [diffusion_imag]\n        type = MatDiffusion\n        variable = uimag\n        diffusivity = _diff_\n    []\n    [reaction_real]\n        type = Reaction\n        variable = ureal\n        rate = -10000\n    []\n    [reaction_imag]\n        type = Reaction\n        variable = uimag\n        rate = -10000\n    []\n[]\n\n[DiracKernels]\n    [source] \n        type = ConstantPointSource\n        point = '1 0.0 0.0'\n        variable = ureal \n        value = 1\n    []\n[]\n\n[Materials]\n  [mat]\n    type = GenericConstantMaterial\n    prop_names = '_diff_'\n    prop_values = '1'\n  []\n[]\n\n[BCs]\n\n   [BC_left_real]\n        type = CoupledVarNeumannBC\n        variable = ureal\n        boundary = 'left'\n        v = uimag\n        coef=-100\n    []\n       \n    [BC_left_imag]\n        type = CoupledVarNeumannBC\n        variable = uimag\n        boundary = 'left'\n        v = ureal\n        coef=100\n    []\n    [BC_right_imag]\n        type = DirichletBC\n        variable = uimag\n        boundary = 'right'\n        value = 0\n    []\n[]\n\n\n[Executioner]\n  type = Steady\n  solve_type=LINEAR\n[]\n\n[Outputs]\n    [exodus]\n        type = Exodus\n        execute_on = final\n    []\n[]",
                  "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1682855",
                  "updatedAt": "2022-06-21T19:58:17Z",
                  "publishedAt": "2021-11-22T16:56:55Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The problem is likely underspecified. For a diffusion (Cauchy) problem, you need 2 BCs per variable.\nMaybe it works with a natural BC but I m not sure",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1682965",
                          "updatedAt": "2022-06-21T19:58:25Z",
                          "publishedAt": "2021-11-22T17:22:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "or do you mean that the solution looks uncoupled?",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1682996",
                          "updatedAt": "2022-06-21T19:58:25Z",
                          "publishedAt": "2021-11-22T17:26:39Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "aaelmeli"
                  },
                  "bodyText": "or do you mean that the solution looks uncoupled?\n\nYes, the solution looks uncoupled whenever using solver_type=Linear. So I do not think that the problem is underspecified.",
                  "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683020",
                  "updatedAt": "2022-06-21T19:58:25Z",
                  "publishedAt": "2021-11-22T17:32:09Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "the DiracKernel source is not a linear term?\nAre is this the term that you are multiplying?",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683030",
                          "updatedAt": "2022-06-21T19:58:31Z",
                          "publishedAt": "2021-11-22T17:34:05Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Yes, this is how I apply point sources. Are there other methods you suggest to apply point sources that reserve the linearity of the problem?",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683042",
                          "updatedAt": "2022-06-21T19:58:31Z",
                          "publishedAt": "2021-11-22T17:36:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I think a point source term can be linear in those equations if it is proportional to u or v. If it s a constant then that s not linear",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683058",
                          "updatedAt": "2022-06-21T19:58:32Z",
                          "publishedAt": "2021-11-22T17:37:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Yes, the point source is linearly proportional to u and v. If I multiplied the point source by 2, the response (u and v) will be multiplied by 2. I have just verified that on moose using the former input file but I used a nonlinear solver to get the coupling.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683093",
                          "updatedAt": "2021-11-22T17:44:09Z",
                          "publishedAt": "2021-11-22T17:44:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Ok that is what I mean. The response is linear in the value of the point source",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683182",
                          "updatedAt": "2022-09-06T18:06:23Z",
                          "publishedAt": "2021-11-22T17:59:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "OK, so, given the problem is linear and the source is linear w.r.t the variables, we should expect to get the coupling when using solver_type=LINEAR as you mentioned before, which is not the case now. Do you suggest a solution? sorry for reiterating this.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683304",
                          "updatedAt": "2022-09-06T18:06:23Z",
                          "publishedAt": "2021-11-22T18:25:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Yes.\nNot sure about a solution. i would dig into the manuals to understand what LINEAR is doing and why the update from one variable the other is not happening",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683363",
                          "updatedAt": "2022-09-06T18:06:24Z",
                          "publishedAt": "2021-11-22T18:37:58Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Upon checking theCoupledVarNeumannBC , I found that no Jacobian method is implemented in that source file. So, I was wondering if that may cause that issue?",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683870",
                          "updatedAt": "2022-09-06T18:06:25Z",
                          "publishedAt": "2021-11-22T20:29:20Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "seems like it should have some off-diagonal terms in the jacobian\nyes that can be it. The non linear solve has iterations which will make up for missing jacobian terms (not always, sometimes those make the solve diverge).",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1684015",
                          "updatedAt": "2022-09-06T18:06:26Z",
                          "publishedAt": "2021-11-22T21:02:12Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "aaelmeli"
                  },
                  "bodyText": "I think a point source term can be linear in those equations if it is proportional to u or v. If its a constant then that s not linear\n\nSorry, I just notice the last part of your comment, I do not understand why if the Dirac source is constant, then it would not linear problem?",
                  "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1683099",
                  "updatedAt": "2022-06-21T19:58:31Z",
                  "publishedAt": "2021-11-22T17:46:17Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": []
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "aaelmeli"
                  },
                  "bodyText": "seems like it should have some off-diagonal terms in the jacobian yes that can be it. The nonlinear solve has iterations which will make up for missing jacobian terms (not always, sometimes those make the solve diverge).\n\nAs confirmation of what you said and based on some experiments I have done on moose, yes, the nonlinear solver always diverges for 2D problems of the same coupled PDEs. Which obviously caused by the missing off-diagonal jacobian information.\nSo, The question now is, Is there a way that one can implement a function to calculate these off-diagonal terms?",
                  "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1689779",
                  "updatedAt": "2022-06-21T19:58:34Z",
                  "publishedAt": "2021-11-23T19:35:08Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "For sure. I think if they exist, and my feeling without having derived them is that they should, they should be added to CoupledVarNeumannBC.\nOk let s figure this one out then let s look at 2D problems",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1690001",
                          "updatedAt": "2022-06-21T19:58:34Z",
                          "publishedAt": "2021-11-23T20:15:24Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "aaelmeli"
                          },
                          "bodyText": "Sure, I just posted this as a separate discussion. I posted it almost at the same time when I received your comment. Please feel free if you prefer to keep the discussion in this forum.",
                          "url": "https://github.com/idaholab/moose/discussions/19365#discussioncomment-1690037",
                          "updatedAt": "2022-06-21T19:58:35Z",
                          "publishedAt": "2021-11-23T20:23:35Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}