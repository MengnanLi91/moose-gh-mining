{
  "discussions": {
    "pageInfo": {
      "hasNextPage": true,
      "endCursor": "Y3Vyc29yOnYyOpK5MjAyNC0wOS0wOVQxODo1NjowMS0wNTowMM4AbUZP"
    },
    "edges": [
      {
        "node": {
          "title": "New user having issues rebuilding libmesh",
          "author": {
            "login": "ParadoxPrism117"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nHi, first time poster and new user to MOOSE. I am trying to install MOOSE and attempted to perform the update/rebuild of libmesh when I encountered an error finding/linking to a \"z library\". The error provided a suggestion of disabling two applications, but it still didn't build correctly even after trying that. Is there something missing I need to install or disable?\n(Optional) code in question / simulation log / errors\nconfigure: error: Can't find or link to the z library. Turn off netCDF-4 and      DAP clients with --disable-netcdf-4 --disable-dap, or see config.log for errors.\nconfigure: error: ../../../../contrib/netcdf/netcdf-c-4.6.2/configure failed for contrib/netcdf/netcdf-c-4.6.2\nRunning make -j 1...\nmake: *** No targets specified and no makefile found.  Stop.\nEncountering Errors? Please include diagnostic output\n####################################################################################################\nInfluential Environment Variables\n\nCONDA_CHANNEL=https://conda.software.inl.gov/public\nCONDA_DEFAULT_ENV=base\nCONDA_EXE=/home/kzimins/miniforge/bin/conda\nCONDA_PREFIX=/home/kzimins/miniforge\nCONDA_PROMPT_MODIFIER=(base) \nCONDA_PYTHON_EXE=/home/kzimins/miniforge/bin/python\nCONDA_SHLVL=1\nCURL_CA_BUNDLE=\nMOOSE_JOBS=6\nPATH=/home/kzimins/miniforge/bin:/home/kzimins/miniforge/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin\nREQUESTS_CA_BUNDLE=\nSSL_CERT_FILE=\n####################################################################################################\nCompiler(s) (CC CXX FC F77 F90):\n\nCC\tnot set\nCXX\tnot set\nFC\tnot set\nF77\tnot set\nF90\tnot set\n\nFAIL: One or more compiler environment variables not set, or set incorrectly\n####################################################################################################\nPython Sanity Checks\n\n/usr/bin/env python3 --version; (reporting as: Python 3.12.5) matches\nwhich python3 python;\n\n/home/kzimins/miniforge/bin/python3 --version; == Python 3.12.5\n/home/kzimins/miniforge/bin/python --version; == Python 3.12.5\n\nOK\n####################################################################################################\nPython Modules (TestHarness, run-ability)\n\n\nWARNING: missing module(s): pyaml jinja2 \n\nEither install the above packages, or perhaps you have yet\nto activate the moose environment: conda activate moose\n\nMissing 'warning' Python modules may cause miscellaneous runtime issues.\n\nWARNING: One or more Python issues present.\n####################################################################################################\nMOOSE Repository/Conda Version Checks\n\nWARNING: Unable to run Conda tests due to missing Python modules\n\n\nchecks FAILED",
          "url": "https://github.com/idaholab/moose/discussions/28589",
          "updatedAt": "2024-09-11T14:30:47Z",
          "publishedAt": "2024-09-09T21:24:56Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nYou need to install zlib.\nYou can get it from conda fairly easily conda install zlib",
                  "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10595842",
                  "updatedAt": "2024-09-09T21:41:47Z",
                  "publishedAt": "2024-09-09T21:41:46Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "Does zlib need to be installed in the same folder?",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10596464",
                          "updatedAt": "2024-09-10T00:09:34Z",
                          "publishedAt": "2024-09-10T00:09:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "I installed zlib but I am still having the same issue. Do I need to attempt a clean install of MOOSE?",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10596482",
                          "updatedAt": "2024-09-10T00:13:34Z",
                          "publishedAt": "2024-09-10T00:13:33Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Does zlib need to be installed in the same folder?\n\nno should be fine anywhere  as long as it s found in the LIBRARY_PATH\n\nDo I need to attempt a clean install of MOOSE?\n\nprobably not. let s see the config.log for libmesh",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10596513",
                          "updatedAt": "2024-09-10T00:20:54Z",
                          "publishedAt": "2024-09-10T00:20:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "config.log",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10596555",
                          "updatedAt": "2024-09-10T00:28:42Z",
                          "publishedAt": "2024-09-10T00:28:40Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "I attached the config.log as a file because it was too much text to paste into a reply",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10596643",
                          "updatedAt": "2024-09-10T00:51:51Z",
                          "publishedAt": "2024-09-10T00:51:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Looks like netcdf failed to configure/build. Can you navigate where it says its building it in the log:\n/home/kzimins/projects/moose/libmesh/build/contrib/netcdf/netcdf-c-4.6.2\n\nand report what the configure.log says there? It may be named config.log as well. Or some other \".log\" file.",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10602221",
                          "updatedAt": "2024-09-10T12:49:53Z",
                          "publishedAt": "2024-09-10T12:49:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "sure, here is the netcdf config.log:\nconfig.log",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10602328",
                          "updatedAt": "2024-09-10T12:59:26Z",
                          "publishedAt": "2024-09-10T12:59:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ParadoxPrism117"
                          },
                          "bodyText": "It mentions on line 530 that it encounters a fatal error with a \"curl.h\" file/directory?",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10602389",
                          "updatedAt": "2024-09-10T13:04:36Z",
                          "publishedAt": "2024-09-10T13:04:34Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I think the error is still the same, towards the end\nThis curl.h error you can solve by installing libcurl-devel",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10602648",
                          "updatedAt": "2024-09-10T13:23:57Z",
                          "publishedAt": "2024-09-10T13:23:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "This still seems to be a zlib error:\nconfigure:18515: error: Can't find or link to the z library. Turn off netCDF-4 and      DAP clients with --disable-netcdf-4 --disable-dap, or see config.log for errors.\n\nI think installing zlib using Conda only works if you also use Conda's compilers. What I mean by that, is that the following link line:\nconfigure:18486: mpicc -o conftest  -I/home/kzimins/projects/moose/scripts/../petsc/include \\\n-I/home/kzimins/projects/moose/scripts/../petsc/arch-moose/include \\\n-I/home/kzimins/projects/moose/petsc/arch-moose/include \\\n-I/home/kzimins/projects/moose/petsc/include \\\n-I/home/kzimins/projects/moose/petsc/arch-moose/include    conftest.c -lz  \\\n-Wl,-rpath,/home/kzimins/projects/moose/petsc/arch-moose/lib \\\n-L/home/kzimins/projects/moose/petsc/arch-moose/lib \\\n-Wl,-rpath,/usr/lib/gcc/x86_64-linux-gnu/11 \\\n-L/usr/lib/gcc/x86_64-linux-gnu/11 -lpetsc -lHYPRE -ldmumps -lmumps_common \\\n-lpord -lpthread -lstrumpack -lscalapack -lsuperlu_dist -lflapack -lfblas \\\n-lptesmumps -lptscotchparmetisv3 -lptscotch -lptscotcherr -lesmumps -lscotch \\\n-lscotcherr -lparmetis -lmetis -lhdf5_hl -lhdf5 -lm -lX11 -lmpichfort -lmpich \\\n-lgfortran -lm -lgfortran -lm -lgcc_s -lquadmath -lstdc++ -lrt -L/lib -lhdf5 \\\n-Wl,-rpath,/lib   >&5\n\nContains no paths to your Conda installation. The following:\n-L/usr/lib/gcc/x86_64-linux-gnu/11\n\nThis is the bit I see in the above link line that includes a path to your compiler. If this were Conda supplied compilers, it would report: -L/home/kzimins/miniforge/envs/moose/lib, and by extension, would include the path necessary to Conda installed z library.\nI am sure there is a reason you are not wanting to install the MOOSE Conda packages, so I won't press. So instead, try this:\nexport LDFLAGS=\"-L/home/kzimins/miniforge/lib $LDFLAGS\"\nexport METHODS=opt MOOSE_JOBS=6  # this will help speed up the process\n./update_and_rebuild_libmesh.sh\nHowever, because there will be plenty of other libraries in this location, I can't guarantee success. There may be additional issues. If so, it may be better if you apt install zlib-dev or build the z library manually, and add the above -L flag pointing to the sole one item you manually create.",
                          "url": "https://github.com/idaholab/moose/discussions/28589#discussioncomment-10602657",
                          "updatedAt": "2024-09-10T13:24:43Z",
                          "publishedAt": "2024-09-10T13:24:40Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "How to set the contact thermal resistance and radiation heat transfer on the surface of a continuous block?",
          "author": {
            "login": "LeonDong1998"
          },
          "bodyText": "Hello everyone!\nI want to know how continuous surface heat transfer can achieve a similar effect to GapHeatTransfer, the  emissivity of two contact surfaces can be set. And although there is no thermal conductivity of the gap material, the contact thermal resistance can be set.\nThank you in advance!",
          "url": "https://github.com/idaholab/moose/discussions/28592",
          "updatedAt": "2024-09-11T13:50:50Z",
          "publishedAt": "2024-09-10T12:56:07Z",
          "category": {
            "name": "Q&A Modules: General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nIf you dont have a gap in the mesh but instead have a continuous surface, then you can use an interface kernel.\nThis one should do it\nhttps://mooseframework.inl.gov/source/interfacekernels/SideSetHeatTransferKernel.html\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28592#discussioncomment-10602491",
                  "updatedAt": "2024-09-10T13:11:07Z",
                  "publishedAt": "2024-09-10T13:11:06Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "LeonDong1998"
                          },
                          "bodyText": "Thanks a lot!\nAnd I tried to build a simulation using SideSetHeatTransfer Kernel, but encountered the following error:\n\"Variable and neighbor variable are the same, but they are not elemental variables.\"\nAfterwards, I changed the family from LAGRANGE to MONOMIN, and the following error occurred, which may be related to my calculation coupling openmc:\n\"max_T: cannot couple elemental variables into nodal objects\"\nThank you in advance!",
                          "url": "https://github.com/idaholab/moose/discussions/28592#discussioncomment-10613440",
                          "updatedAt": "2024-09-11T11:34:23Z",
                          "publishedAt": "2024-09-11T11:34:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "The first object is refusing to do an interface treatment for a continuous nodal variable. This makes sense you might have to actually create the gap using a BreakMesh...Generator then use a proper gap heat transfer treatment\nmax_T is a postprocessor. This is a different object giving you the error.\nYou probably have a NodalExtremeValue postprocessor which wont accept an elemental variable",
                          "url": "https://github.com/idaholab/moose/discussions/28592#discussioncomment-10614929",
                          "updatedAt": "2024-09-11T13:50:51Z",
                          "publishedAt": "2024-09-11T13:50:50Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "No active order parameters",
          "author": {
            "login": "ritamcj"
          },
          "bodyText": "Dear all,\nI am seeing the error \"No active order parameters\" in DeformedGrainMaterial in the phase field module. The relevant code snippet is below:\n  const auto & op_to_grains = _grain_tracker.getVarToFeatureVector(_current_elem->id());\n\n  // loop over active OPs\n  bool one_active = false;\n  for (MooseIndex(op_to_grains) op_index = 0; op_index < op_to_grains.size(); ++op_index)\n  {\n    if (op_to_grains[op_index] == FeatureFloodCount::invalid_id)\n      continue;\n\n    one_active = true;\n    auto grain_id = op_to_grains[op_index];\n\n    if (grain_id >= _deformed_grain_num)\n    {\n      rho_i = 0.0;\n    }\n    else\n    {\n       rho_i = _Disloc_Den_i[_qp];\n    }\n    rho0 += rho_i * (*_vals[op_index])[_qp] * (*_vals[op_index])[_qp];\n  }\n\n  if (!one_active && _t_step > 0)\n    mooseError(\"No active order parameters\");\n\nMy guess is that at a particular element, all grain order parameters become zero. I am unable to understand this. My simulation involves direct order parameter modification (through DiscreteNucleationForce) to simulate nucleation and growth. For new grains in reserved order parameters in GrainTracker, I have assigned a large nucleation force (nucleus_value = 50000). I wonder whether this causes the problem when too many nuclei are formed. I look forward to your suggestions.\nWarm Regards,\nRitam Chatterjee",
          "url": "https://github.com/idaholab/moose/discussions/21200",
          "updatedAt": "2024-09-11T09:44:38Z",
          "publishedAt": "2022-06-02T09:50:35Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "@laagesen @SudiptaBiswas @jiangwen84 on phase field stuff please",
                  "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-2909841",
                  "updatedAt": "2022-06-09T01:45:41Z",
                  "publishedAt": "2022-06-09T01:45:41Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "SudiptaBiswas"
                          },
                          "bodyText": "Do you have grain remapping on? Do your nuclei get remapped to a new order parameter after they are created? What kernel are you using for the reserved order parameter?\nIt's hard to say what is happening in you simulations with the limited information provided here. If you think the number of nuclei is the problem, then try reducing the nucleation rate such that only one or two nuclei occur in a timestep. It would be easy to debug the issue that way.",
                          "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-2917628",
                          "updatedAt": "2022-06-09T22:10:28Z",
                          "publishedAt": "2022-06-09T22:10:26Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ritamcj"
                          },
                          "bodyText": "Hi Sudipta,\nThank you for the reply. I have attached a pseudo input file, which should make it easier to understand my approach\nMoose_github_21200_input_file.txt.\nI had turned grain remapping off as I wanted my initial Ti-6Al-4V dual phase structure intact to evaluate the preferred location of nucleation at various interfaces such as alpha-alpha and alpha-beta. Can this cause new grains to not find any reserved order parameters? If that is the case, I will allow grain remapping and check again. A slower nucleation rate can work but I think it would eventually lead to the same issue due to unavailability of reserved order parameters for new grains.\nWarm regards,\nRitam",
                          "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-2919839",
                          "updatedAt": "2022-06-10T06:24:43Z",
                          "publishedAt": "2022-06-10T06:24:43Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "SudiptaBiswas"
                          },
                          "bodyText": "If the remapping is turned off then how does the nuclei evolve over time? Without remapping, probably only option you have is increasing the number of order parameters.",
                          "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-2951449",
                          "updatedAt": "2022-06-14T23:50:09Z",
                          "publishedAt": "2022-06-14T23:50:06Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "@ritamcj any update on this?",
                          "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-3021463",
                          "updatedAt": "2022-06-25T05:46:32Z",
                          "publishedAt": "2022-06-25T05:46:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ritamcj"
                          },
                          "bodyText": "Hi Sudipta and Guillaume,\nI apologize for the delay in responding as I was traveling. With grain remapping off, you correctly stated that the only option is to increase the number of order parameters. However, this significantly slows down the simulation. Hence, I switched on grain remapping, lowered the nucleation rate as well as the hold time of nuclei in the system. The simulation ran longer, but I am still trying to optimize to run up to large strain (~50%). I do accept your insights, and it can be marked as the solution. Many thanks for your explanations.\nWarm regards,\nRitam",
                          "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-3165535",
                          "updatedAt": "2022-07-17T13:42:52Z",
                          "publishedAt": "2022-07-17T13:42:51Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "YXY101676"
                          },
                          "bodyText": "Hello, I want to know if the activation grains and the order parameters here are one-to-one correspondence, I may have misunderstood the code\u3002",
                          "url": "https://github.com/idaholab/moose/discussions/21200#discussioncomment-10612306",
                          "updatedAt": "2024-09-11T09:44:39Z",
                          "publishedAt": "2024-09-11T09:44:38Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Area/Volume fraction",
          "author": {
            "login": "Emmanuel-324"
          },
          "bodyText": "Is there a kernel/auxkernel or postprocessor that can help me calculate the volume/area fraction of my precipitates during or after evolution of the precipitates?",
          "url": "https://github.com/idaholab/moose/discussions/28582",
          "updatedAt": "2024-09-17T20:22:17Z",
          "publishedAt": "2024-09-09T16:37:35Z",
          "category": {
            "name": "Q&A Modules: Phase field"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "https://mooseframework.inl.gov/source/postprocessors/AverageGrainVolume.html",
                  "url": "https://github.com/idaholab/moose/discussions/28582#discussioncomment-10593635",
                  "updatedAt": "2024-09-09T16:44:28Z",
                  "publishedAt": "2024-09-09T16:44:26Z",
                  "isAnswer": true,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "and https://mooseframework.inl.gov/source/postprocessors/GrainBoundaryArea.html",
                          "url": "https://github.com/idaholab/moose/discussions/28582#discussioncomment-10593636",
                          "updatedAt": "2024-09-09T16:44:31Z",
                          "publishedAt": "2024-09-09T16:44:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "Emmanuel-324"
                          },
                          "bodyText": "Is this in my postprocessor going to calculate the area of my eta(order parameter) as they evolve in the matrix?\n [./gr1area]\n    type = ElementIntegralVariablePostprocessor\n    variable = eta1\n    execute_on = 'initial timestep_end'\n  [../]\n  [./gr2area]\n    type = ElementIntegralVariablePostprocessor\n    variable = eta2\n    execute_on = 'initial timestep_end'\n  [../]\n  [./gr3area]\n    type = ElementIntegralVariablePostprocessor\n    variable = eta3\n    execute_on = 'initial timestep_end'\n  [../] \n\nAnd I assume this also gives the average volume of the precipitates as they grow?\n[./avg_grain_vol]\n    type = AverageGrainVolume\n    grain_num = 3\n    execute_on = 'initial timestep_end'\n  [../]",
                          "url": "https://github.com/idaholab/moose/discussions/28582#discussioncomment-10607742",
                          "updatedAt": "2024-09-10T22:53:36Z",
                          "publishedAt": "2024-09-10T22:53:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Yes I think both of these should be good",
                          "url": "https://github.com/idaholab/moose/discussions/28582#discussioncomment-10607754",
                          "updatedAt": "2024-09-10T22:55:35Z",
                          "publishedAt": "2024-09-10T22:55:34Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Error using ADCZM",
          "author": {
            "login": "chunhuizhao478"
          },
          "bodyText": "In the computeInterfaceTraction() function, I try to approximate rate using current and old interface_displacement_jump as follows:\n//Approximate slip rate\n  RealVectorValue interface_displacement_jump_rate = (1.0/_dt) * (_interface_displacement_jump[_qp] - _interface_displacement_jump_old[_qp]) + Vini_vec;\n\nHowever, I got the following error:\n/Users/andyz/mambaforge3/envs/moose/libmesh/include/libmesh/type_vector.h:548:18: error: assigning to 'double' from incompatible type 'const MetaPhysicL::DualNumber<double, MetaPhysicL::SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>'\n    _coords[i] = p._coords[i];\n                 ^~~~~~~~~~~~\n/Users/andyz/mambaforge3/envs/moose/libmesh/include/libmesh/vector_value.h:209:3: note: in instantiation of function template specialization 'libMesh::TypeVector<double>::TypeVector<MetaPhysicL::DualNumber<double, MetaPhysicL::SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>>' requested here\n  TypeVector<T> (p)\n  ^\n/Users/andyz/projects/farms_rsf/src/materials/2d/implicit/AD/ADImplicitRateStateFrictionLaw2D.C:59:55: note: in instantiation of function template specialization 'libMesh::VectorValue<double>::VectorValue<MetaPhysicL::DualNumber<double, MetaPhysicL::SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>>' requested here\n  RealVectorValue interface_displacement_jump_rate =  (_interface_displacement_jump[_qp] - _interface_displacement_jump_old[_qp]) + Vini_vec;\n                                                      ^\n1 error generated.\nmake: *** [/Users/andyz/projects/moose/framework/build.mk:149: /Users/andyz/projects/farms_rsf/build/unity_src/materials_2d_implicit_AD_Unity.arm64-apple-darwin20.0.0.opt.lo] Error 1\n\nAny idea on how to get rid of this? Thanks a lot",
          "url": "https://github.com/idaholab/moose/discussions/24901",
          "updatedAt": "2024-09-10T21:44:22Z",
          "publishedAt": "2023-07-05T04:03:03Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "_coords[i] = MetaPhysicL::raw_value(p._coords[i]);\n\nor\n_coords[i] = p._coords[i].value();\n\nthis is happening because you are copying an AD number into a regular floating point number, hence removing the derivatives.\nWe do want to warn devs about removing derivatives like this",
                  "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358418",
                  "updatedAt": "2023-07-05T04:05:11Z",
                  "publishedAt": "2023-07-05T04:05:10Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Thanks Giud! Sounds like this approximation is not allowed? How should I get the rate of this material property?",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358438",
                          "updatedAt": "2023-07-05T04:12:37Z",
                          "publishedAt": "2023-07-05T04:09:32Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "oh my bad I looked at the first error",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358454",
                          "updatedAt": "2023-07-05T04:15:28Z",
                          "publishedAt": "2023-07-05T04:15:27Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "no this is allowed. You just need to create the non-AD vector before computing the operations on the vectors and setting the non-AD vector",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358458",
                          "updatedAt": "2023-07-05T04:15:57Z",
                          "publishedAt": "2023-07-05T04:15:56Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "you may be able to use raw_value on _interface_displacement_jump[_qp] directly actually",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358459",
                          "updatedAt": "2023-07-05T04:16:24Z",
                          "publishedAt": "2023-07-05T04:16:23Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "sorry, could you write the format down? I'm not familiar with this AD, thanks!",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358473",
                          "updatedAt": "2023-07-05T04:19:36Z",
                          "publishedAt": "2023-07-05T04:19:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "does this work?\neither:\n  RealVectorValue interface_displacement_jump_rate = (1.0/_dt) * (MetaPhysicL::raw_value(_interface_displacement_jump[_qp]) - _interface_displacement_jump_old[_qp]) + Vini_vec;\n\nor using AD (probably preferrable actually)\n  ADRealVectorValue interface_displacement_jump_rate = (1.0/_dt) * (_interface_displacement_jump[_qp] - _interface_displacement_jump_old[_qp]) + Vini_vec;",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358488",
                          "updatedAt": "2023-07-05T04:20:56Z",
                          "publishedAt": "2023-07-05T04:20:55Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Thanks! The first one works.",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358501",
                          "updatedAt": "2023-07-05T04:23:36Z",
                          "publishedAt": "2023-07-05T04:23:36Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "ok first one loses the derivatives so just make sure you dont use it to compute an ADReal residual!",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358517",
                          "updatedAt": "2023-07-05T04:26:04Z",
                          "publishedAt": "2023-07-05T04:26:03Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "Eventually the value will be put into _interface_traction(declareADPropertyByName<RealVectorValue>(_base_name + \"interface_traction\")), which is a RealVectorValue, I think it's ok?",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6358562",
                          "updatedAt": "2023-07-05T04:36:32Z",
                          "publishedAt": "2023-07-05T04:36:31Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Nope not ok.\nIt\u2019s an AD material property, the type is actually ADRealVectorValue",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6362874",
                          "updatedAt": "2023-07-05T13:21:49Z",
                          "publishedAt": "2023-07-05T13:21:48Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "chunhuizhao478"
                  },
                  "bodyText": "The error message is as follows (I have updated moose to latest version):\n(moose) andyz@Chunhuis-MBP-2 farms_rsf % make -j8\nCompiling C++ (in opt mode) /Users/andyz/projects/farms_rsf/build/unity_src/materials_2d_implicit_Unity.C...\nIn file included from /Users/andyz/projects/farms_rsf/build/unity_src/materials_2d_implicit_Unity.C:2:\n/Users/andyz/projects/farms_rsf/src/materials/2d/implicit/ADImplicitRateStateFrictionLaw2D.C:71:23: error: no matching function for call to 'asinh'\n  ADReal mu = rsf_a * asinh( sliprate_strike/(2*delta_o) * exp((f_o + rsf_b * log(delta_o * statevar/rsf_L))/rsf_a) );\n                      ^~~~~\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/math.h:341:15: note: candidate function not viable: no known conversion from 'typename MultipliesType<DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>, double, false>::supertype' (aka 'DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>') to 'double' for 1st argument\nextern double asinh(double);\n              ^\n/Users/andyz/mambaforge3/envs/moose/bin/../include/c++/v1/math.h:1093:46: note: candidate function not viable: no known conversion from 'typename MultipliesType<DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>, double, false>::supertype' (aka 'DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>') to 'float' for 1st argument\ninline _LIBCPP_INLINE_VISIBILITY float       asinh(float __lcpp_x) _NOEXCEPT       {return ::asinhf(__lcpp_x);}\n                                             ^\n/Users/andyz/mambaforge3/envs/moose/bin/../include/c++/v1/math.h:1094:46: note: candidate function not viable: no known conversion from 'typename MultipliesType<DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, NWrapper<53>>, true>, double, false>::supertype' (aka 'DualNumber<double, SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>') to 'long double' for 1st argument\ninline _LIBCPP_INLINE_VISIBILITY long double asinh(long double __lcpp_x) _NOEXCEPT {return ::asinhl(__lcpp_x);}\n                                             ^\n/Users/andyz/mambaforge3/envs/moose/bin/../include/c++/v1/math.h:1099:1: note: candidate template ignored: requirement 'std::is_integral<MetaPhysicL::DualNumber<double, MetaPhysicL::SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>>::value' was not satisfied [with _A1 = MetaPhysicL::DualNumber<double, MetaPhysicL::SemiDynamicSparseNumberArray<double, unsigned long long, MetaPhysicL::NWrapper<53>>, true>]\nasinh(_A1 __lcpp_x) _NOEXCEPT {return ::asinh((double)__lcpp_x);}\n^\n1 error generated.\nmake: *** [/Users/andyz/projects/moose/framework/build.mk:145: /Users/andyz/projects/farms_rsf/build/unity_src/materials_2d_implicit_Unity.arm64-apple-darwin20.0.0.opt.lo] Error 1\n(moose) andyz@Chunhuis-MBP-2 farms_rsf % \n\nthe header file:\n#pragma once\n\n#include \"ADCZMComputeLocalTractionTotalBase.h\"\n\nclass ADImplicitRateStateFrictionLaw2D : public ADCZMComputeLocalTractionTotalBase\n{\npublic:\n  static InputParameters validParams();\n  ADImplicitRateStateFrictionLaw2D(const InputParameters & parameters);\n\nprotected:\n  virtual void computeInterfaceTraction();\n\n  //rate-and-state friction coefficients\n  Real _f_o;\n  Real _rsf_a;\n  Real _rsf_b;\n  Real _rsf_L;\n  Real _delta_o;\n  Real _Vini;\n\n  //initial shear and normal traction\n  Real _Tn_o;\n  Real _Ts_o;\n\n  //old/older interface jump\n  const MaterialProperty<RealVectorValue> & _interface_displacement_jump_old;\n  const MaterialProperty<RealVectorValue> & _interface_displacement_jump_older;\n};\n\nthe source file:\n#include \"ADImplicitRateStateFrictionLaw2D.h\"\n\nregisterMooseObject(\"farms_rsfApp\", ADImplicitRateStateFrictionLaw2D);\n\nInputParameters\nADImplicitRateStateFrictionLaw2D::validParams()\n{\n  InputParameters params = ADImplicitRateStateFrictionLaw2D::validParams();\n  return params;\n}\n\nADImplicitRateStateFrictionLaw2D::ADImplicitRateStateFrictionLaw2D(const InputParameters & parameters)\n  : ADCZMComputeLocalTractionTotalBase(parameters),\n  _f_o(getParam<Real>(\"f_o\")),\n  _rsf_a(getParam<Real>(\"rsf_a\")),\n  _rsf_b(getParam<Real>(\"rsf_b\")),\n  _rsf_L(getParam<Real>(\"rsf_L\")),\n  _delta_o(getParam<Real>(\"delta_o\")),\n  _Vini(getParam<Real>(\"Vini\")),\n  _Tn_o(getParam<Real>(\"Tn_o\")),\n  _Ts_o(getParam<Real>(\"Ts_o\")),\n  _interface_displacement_jump_old(getMaterialPropertyOldByName<RealVectorValue>(_base_name + \"interface_displacement_jump\")),\n  _interface_displacement_jump_older(getMaterialPropertyOlderByName<RealVectorValue>(_base_name + \"interface_displacement_jump\"))\n{\n}\n\n//Define Frictional Law (function of sliprate and statevar)\ndouble mu_friction_law_implicit2DAD(Real sliprate, Real statevar, Real rsf_a, Real rsf_b, Real rsf_L, Real delta_o, Real f_o)\n{\n  double mu = 0;\n  mu = rsf_a * asinh( sliprate/(2*delta_o) * exp((f_o + rsf_b * log(delta_o * statevar/rsf_L))/rsf_a) );\n  return mu;\n}\n\nvoid\nADImplicitRateStateFrictionLaw2D::computeInterfaceTraction()\n{\n  //Define Parameters\n  Real f_o = _f_o;\n  Real rsf_a = _rsf_a;\n  Real rsf_b = _rsf_b;\n  Real rsf_L = _rsf_L;\n  Real delta_o = _delta_o;\n  Real Vini = _Vini;\n  Real Tn_o = _Tn_o;\n  Real Ts_o = _Ts_o;\n\n  //Get initial slip rate value\n  RealVectorValue Vini_vec(0.0,Vini,0.0);\n\n  //Get normal traction\n  //if (_interface_displacement_jump[_qp](0) < 0){}else{}\n  Real Tn = abs(Tn_o);\n\n  //Get old state variable\n  Real statevar_old = 0;\n\n  //Approximate slip rate\n  ADRealVectorValue interface_displacement_jump_rate = (1.0/_dt) * (_interface_displacement_jump[_qp] - _interface_displacement_jump_old[_qp]) + Vini_vec;\n  RealVectorValue interface_displacement_jump_rate_old = (1.0/_dt) * (_interface_displacement_jump_old[_qp] - _interface_displacement_jump_older[_qp]) + Vini_vec;\n\n  //Get strike direction at t\n  ADReal sliprate_strike = interface_displacement_jump_rate(1);\n  Real sliprate_strike_old = interface_displacement_jump_rate_old(1);\n\n  //Define state variable at t+dt\n  Real statevar = (rsf_L / sliprate_strike_old) + (statevar_old - rsf_L / sliprate_strike_old) * exp( -1 * sliprate_strike_old * _dt / rsf_L );\n  \n  //Define friction mu at t+dt\n  //!arcsinh(z)= ln(z+sqrt(z^2+1))\n  ADReal mu = rsf_a * asinh( sliprate_strike/(2*delta_o) * exp((f_o + rsf_b * log(delta_o * statevar/rsf_L))/rsf_a) );\n  \n  //Compute shear traction at t+dt\n  ADReal Ts = Tn * mu;\n\n  //Save results\n  _statevar[_qp] = statevar;\n  _sliprate[_qp] = sliprate_strike;\n\n  //Feed traction into the system\n  //Assign back traction in CZM\n  ADRealVectorValue traction;\n\n  traction(0) = 0.0; \n  traction(1) = -Ts+Ts_o; //\"-\"\n  traction(2) = 0.0;\n\n  _interface_traction[_qp] = traction;\n}",
                  "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6366858",
                  "updatedAt": "2023-07-05T19:59:05Z",
                  "publishedAt": "2023-07-05T19:59:04Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "chunhuizhao478"
                          },
                          "bodyText": "I have hardcode in the source file to declare additional material property (although I don't think this is the issue):\n//* This file is part of the MOOSE framework\n//* https://www.mooseframework.org\n//*\n//* All rights reserved, see COPYRIGHT for full restrictions\n//* https://github.com/idaholab/moose/blob/master/COPYRIGHT\n//*\n//* Licensed under LGPL 2.1, please see LICENSE for details\n//* https://www.gnu.org/licenses/lgpl-2.1.html\n\n#pragma once\n\n#include \"InterfaceMaterial.h\"\n\n/**\n * AD equivalent of CZMComputeLocalTractionBase\n */\nclass ADCZMComputeLocalTractionBase : public InterfaceMaterial\n{\npublic:\n  static InputParameters validParams();\n  ADCZMComputeLocalTractionBase(const InputParameters & parameters);\n\nprotected:\n  void initQpStatefulProperties() override;\n  void computeQpProperties() override;\n\n  /// Compute the local traction\n  virtual void computeInterfaceTraction() = 0;\n\n  /// Base name of the material system\n  const std::string _base_name;\n\n  /// the value of the traction in local coordinates\n  ADMaterialProperty<RealVectorValue> & _interface_traction;\n\n  /// The displacment jump in local coordaintes\n  const ADMaterialProperty<RealVectorValue> & _interface_displacement_jump;\n\n  //Additional Material Properties\n  MaterialProperty<Real> & _statevar; //state variable\n  ADMaterialProperty<Real> & _sliprate; //slip rate\n\n  Real _statevarini; //initial state variable\n  Real _Vini;        //initial sliprate\n};\n\nthe source file\n//* This file is part of the MOOSE framework\n//* https://www.mooseframework.org\n//*\n//* All rights reserved, see COPYRIGHT for full restrictions\n//* https://github.com/idaholab/moose/blob/master/COPYRIGHT\n//*\n//* Licensed under LGPL 2.1, please see LICENSE for details\n//* https://www.gnu.org/licenses/lgpl-2.1.html\n\n#include \"ADCZMComputeLocalTractionBase.h\"\n#include \"CZMComputeLocalTractionBase.h\"\n\nInputParameters\nADCZMComputeLocalTractionBase::validParams()\n{\n  InputParameters params = CZMComputeLocalTractionBase::validParams();\n  params.addParam<Real>(\"statevarini\",1e9,\"initial state variable\");\n  params.addParam<Real>(\"Vini\",1e-12,\"initial slip rate\");\n  return params;\n}\n\nADCZMComputeLocalTractionBase::ADCZMComputeLocalTractionBase(const InputParameters & parameters)\n  : InterfaceMaterial(parameters),\n    _base_name(isParamValid(\"base_name\") && !getParam<std::string>(\"base_name\").empty()\n                   ? getParam<std::string>(\"base_name\") + \"_\"\n                   : \"\"),\n    _interface_traction(\n        declareADPropertyByName<RealVectorValue>(_base_name + \"interface_traction\")),\n    _interface_displacement_jump(\n        getADMaterialPropertyByName<RealVectorValue>(_base_name + \"interface_displacement_jump\")),\n    _statevar(declarePropertyByName<Real>(\"statevar\")),\n    _sliprate(declareADPropertyByName<Real>(\"sliprate\")),\n    _statevarini(getParam<Real>(\"statevarini\")),\n    _Vini(getParam<Real>(\"Vini\"))\n{\n}\n\nvoid\nADCZMComputeLocalTractionBase::initQpStatefulProperties()\n{\n  _interface_traction[_qp] = 0;\n\n  _statevar[_qp] = _statevarini;\n  _sliprate[_qp] = _Vini;\n}\n\nvoid\nADCZMComputeLocalTractionBase::computeQpProperties()\n{\n  computeInterfaceTraction();\n}",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6366882",
                          "updatedAt": "2023-07-05T20:02:19Z",
                          "publishedAt": "2023-07-05T20:02:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "Can you try using std::asinh and similarly for all your special math functions?",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6367536",
                          "updatedAt": "2023-07-05T21:10:26Z",
                          "publishedAt": "2023-07-05T21:10:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "I'm a little perturbed that the error message suggests it's not even considering the definition from dualnumber.h.  Is there any possibility that the headers here ended up including dualnumber_forward.h but not dualnumber.h (or at least dualnumber_decl.h)?",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-6367741",
                          "updatedAt": "2023-07-05T21:43:18Z",
                          "publishedAt": "2023-07-05T21:43:17Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "ahzeeshan"
                          },
                          "bodyText": "I got the same error when using the log function from <cmath> but std::log works without errors in an ADKernel.",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-10598341",
                          "updatedAt": "2024-09-10T05:57:56Z",
                          "publishedAt": "2024-09-10T05:57:37Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "lindsayad"
                          },
                          "bodyText": "@roystgnr do you think if we put our dual number math function overloads in the MetaPhysicL namespace instead of std that argument dependent lookup would work for us here? Unfortunately doing that migration would break a lot of existing code which uses std::",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-10605618",
                          "updatedAt": "2024-09-10T17:31:21Z",
                          "publishedAt": "2024-09-10T17:31:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "It wouldn't be crazy to put them in both places.  Backwards compatibility and (I hope; I'm not sure) ADL too.",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-10607433",
                          "updatedAt": "2024-09-10T21:42:20Z",
                          "publishedAt": "2024-09-10T21:42:19Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "roystgnr"
                          },
                          "bodyText": "Though I think using namespace std or explicit std::asinh etc. has to be the right thing to do here.  Overloads for use with custom classes is supposed to be the use case where it's expected to put user code in namespace std.",
                          "url": "https://github.com/idaholab/moose/discussions/24901#discussioncomment-10607440",
                          "updatedAt": "2024-09-10T21:44:23Z",
                          "publishedAt": "2024-09-10T21:44:22Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Erroneous result while applying cohesive zone at inclined interface",
          "author": {
            "login": "AmanKumar0301"
          },
          "bodyText": "Hi @arovinelli @jiangwen84 I was trying to regenerate a patch test for cohesive zone model (see the attached figure, patch test-b). My geometry is a square of 1mm x 1mm dimension. I used BreakMeshByBlockGenerator to break the geometry along its diagonal (diagonal connecting the points (0,1) and (1,0)). Two triangular blocks are created as a result. I inserted PureElasticTractionSeparation CZM at this interface. Then applied displacement boundary condition at the top edge and right edge in order to create a pure mode-II loading.\nHowever the generated results are erroneous. Neither the expected traction nor expected displacement are generated.\nCorrect results are being generated for CZM interface aligned along the Cartesian axes for patch test-a. However, for test-b, I suspect that erroneous result being generated has something to do with inclined interface. I applied the same loading/BCs without insertion of cohesive zone and yet the results are exactly same and erroneous. I cannot understand why is it happening. Please help.",
          "url": "https://github.com/idaholab/moose/discussions/28581",
          "updatedAt": "2024-09-12T03:57:34Z",
          "publishedAt": "2024-09-09T16:35:04Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "arovinelli"
                  },
                  "bodyText": "@AmanKumar0301\nThat would be a major mistake that neither me or wen caught when developing or validating the model.\nSo I would say it's unlikely, but possible.\nThere are two set of traction vector, local traction (defined in the interface coordinate system) and global traction (defined in the sample coordinate system). Are you sure you are looking at the right set?\nAlso without you showing us the results of the simulation it's impossible to say if something is wrong",
                  "url": "https://github.com/idaholab/moose/discussions/28581#discussioncomment-10594024",
                  "updatedAt": "2024-09-09T17:23:10Z",
                  "publishedAt": "2024-09-09T17:23:08Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "AmanKumar0301"
                          },
                          "bodyText": "Here is the MOOSE script that I am running:\n\n\n\nI have applied traction BC at the right edge and top edge in +ve x-axis and +ve y-axis direction. So effectively it should simulate mode-1 opening normal to the interface. Also, with the given values of traction and penalty stiffness a normal jump of 1mm is expected. However see the following results:\n\n\n\n\nNon of the above results is correct.\nIt is noteworthy that for other cases where I simulated the interface along Cartesian axes direction, the results are correct. For example, for patch test-a (see the image in 1st question), I am getting the correct result.",
                          "url": "https://github.com/idaholab/moose/discussions/28581#discussioncomment-10597457",
                          "updatedAt": "2024-09-10T03:20:49Z",
                          "publishedAt": "2024-09-10T03:20:48Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "arovinelli"
                          },
                          "bodyText": "Important on the bottom, consideration on the top\nsomething is weird. The result of the simulation you are running are not converged. You can't have different stresses on the two elements (you are using a stress prescribed BC), equilibrium is not satisfied.\nCheck your residual, I would be really surprised if that is 0~ish. The solution seems to be garbage.\nAlso did you check results without CZM (you said you did but I'm just curios at this point).\nCan you add the tangential traction, which according to your configuration should be identically 0.\nCan you ran it using Neumann BC, i.e. traction if your element size is 1. Pressure is kind of a complicated one.\nThe CZM results are only reported on the element belonging to the master surface, so I'm not surprised to see zeros on the right side.\nIt would interesing to see the residuals on both surfaces (tensor mechanics, see master action add\nextra_vector_tags = 'F_x F_y'\n\nIMPORTANT CONSIDERATIONS\n\nI'm wondering, and now maybe remembering, that the preset nodal fields might not include the proper nodes.\nyou might want to add something like in here  czm_multiple_action_and_materials.i see [add_side_sets] in mesh generation block to make sure you are indeed applying the right BC to the proper nodes or to generate your mesh in cubit and appropriately define side-sets.\nI really suspect this is the problem.\nWhen you break the mesh using BreakMeshByBlockGenerator, new nodes are added, and old side-set (left,right,top and bottom) might become incomplete, and not include the nodes that you are thinking. you can visualize them in paraview.",
                          "url": "https://github.com/idaholab/moose/discussions/28581#discussioncomment-10597762",
                          "updatedAt": "2024-09-10T04:18:46Z",
                          "publishedAt": "2024-09-10T04:07:32Z",
                          "isAnswer": true
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "AmanKumar0301"
                          },
                          "bodyText": "Thanks a lot for your reply and thanks for your interest.\nIn the previous case, the results were converged. But they were garbage (incorrect) as you mentioned, and that is why I posted. I did check the side_sets in paraview for visualization before applying Bcs. And the side_sets top, bottom, left and right were all correctly visible.\nNow, I followed your advice and generated side_sets based on type SideSetsFromNormalsGenerator. And the script is indeed working now and correct results are generating. I am so so thankful to you for bringing this aspect into my notice. I was struggling for more than a week now. But you saved me.\nI have been meshing in GMSH. I want to ask you whether this traigular type element (with controlled dimension) can be generated in MOOSE itself in order to avoid future difficulties.\nAlso, I went through MOOSE database of CZM. There are three cohesive laws which have been implemented:\n\nPureElasticTractionSeparation\nBiLinearMixedModeTraction\nSalehaniIrani3DCTraction\n\nAre you considering implementing other traction separation laws e.g. exponential law?\nSuppose I want to implement my own traction separation laws, how can I do so? I am working on exploring cohesive zone simulation through MOOSE. Till now I have been relying on already developed modules and solely using the MOOSE scripting to generate results. I don\u2019t have background in C++. So please suggest.\nI also request you to develop Cohesive Zone module in MOOSE to bring it at par with other commercially available softwares. If there are any shortcomings or something additional needs to be done, please do consider.",
                          "url": "https://github.com/idaholab/moose/discussions/28581#discussioncomment-10599054",
                          "updatedAt": "2024-09-10T07:33:23Z",
                          "publishedAt": "2024-09-10T07:30:15Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "arovinelli"
                          },
                          "bodyText": "I'm glad it worked. We should probably add a warning in the cohesive model description about regenerating side sets.\nTo answer your questions:\n\nMoose is pretty flexible in terms of mesh generation, most case are handled.\nIf you need something you cannot achieve with a mesh generator use cubit from SNL.\nI can't develop other cohesive zone models simply because my job now does not entail that, and I don't have funding for doing it. The last time I worked on CZM was 3 years ago,  since then I moved to LANL and now I'm working with other solvers.\nif you need to develop your own model i suggest you looking at the CZM documentation which should explain fairly well how it's done. Find your eqautions and try. you don't need to be an expert in C++ .\nThe exponential model should be the SalehaniIrani3d except that is not stateful, i.e. it does not have a linear unload after an exponential load, so it does not keep track of damage directly\n\nHope this helps\nCheers",
                          "url": "https://github.com/idaholab/moose/discussions/28581#discussioncomment-10603188",
                          "updatedAt": "2024-09-10T14:07:19Z",
                          "publishedAt": "2024-09-10T14:07:18Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Error in installing MOOSE.",
          "author": {
            "login": "d5sneha"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nhello,\ni am facing this error while installing MOOSE.\n(base) snehad@ubuntu:~$ conda create -n moose moose-dev=2024.08.30 mpich\nChannels:\n\nhttps://conda.software.inl.gov/public\nconda-forge\nPlatform: linux-64\nCollecting package metadata (repodata.json): failed\n\nUnavailableInvalidChannel: HTTP 403 FORBIDDEN for channel public https://conda.software.inl.gov/public\nThe channel is not accessible or is invalid.\nYou will need to adjust your conda configuration to proceed.\nUse conda config --show channels to view your configuration's current state,\nand use conda config --show-sources to view config file locations.",
          "url": "https://github.com/idaholab/moose/discussions/28577",
          "updatedAt": "2024-09-10T12:35:47Z",
          "publishedAt": "2024-09-09T05:02:23Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "This is tied to our new use of cloudyflare\n@milljm",
                  "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10589668",
                  "updatedAt": "2024-09-09T11:01:37Z",
                  "publishedAt": "2024-09-09T11:01:36Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Works for me... Both while at home and at work. As well as from my cell phone.",
                          "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10590927",
                          "updatedAt": "2024-09-09T13:06:47Z",
                          "publishedAt": "2024-09-09T13:06:46Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "same for me. But this is the 3rd poster reporting this",
                          "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10590990",
                          "updatedAt": "2024-09-09T13:13:08Z",
                          "publishedAt": "2024-09-09T13:13:07Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "This is probably due to their country of origin blocking outbound traffic. Not us blocking them.",
                          "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10591018",
                          "updatedAt": "2024-09-09T13:15:18Z",
                          "publishedAt": "2024-09-09T13:15:18Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "from the other post, when they reach the website on a browser they get a \"are you human\" challenge. They can pass it in the browser. conda cant.\nIt can also be cloudflare treating other countries differently",
                          "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10591800",
                          "updatedAt": "2024-09-09T14:17:41Z",
                          "publishedAt": "2024-09-09T14:17:39Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Okay, yeah that was helpful. I am in contact with our Cloudflare team. I am asking that this \"feature\" be disabled.",
                          "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10592139",
                          "updatedAt": "2024-09-09T14:39:46Z",
                          "publishedAt": "2024-09-09T14:39:45Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I have been told this was fixed yesterday at 14:30 MST.",
                          "url": "https://github.com/idaholab/moose/discussions/28577#discussioncomment-10602075",
                          "updatedAt": "2024-09-10T12:35:49Z",
                          "publishedAt": "2024-09-10T12:35:47Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "UnavailableInvalidChannel: HTTP 403 FORBIDDEN for channel public <https://conda.software.inl.gov/public>",
          "author": {
            "login": "LuHaiTao11"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n I have consulted the Posting Guidelines.\n I have searched the Discussions Forum and MOOSE Framework Troubleshooting and have not found what I was looking for\n Q&A Getting Started is the most appropriate category for my question (trouble installing, beginner user, ...)\n\nIssue or question about MOOSE\nFailed to create the conda environment fro Moose.\nUnavailableInvalidChannel: HTTP 403 FORBIDDEN for channel public https://conda.software.inl.gov/public\n(Optional) code in question / simulation log / errors\nNo response\nEncountering Errors? Please include diagnostic output\nNo response",
          "url": "https://github.com/idaholab/moose/discussions/28567",
          "updatedAt": "2024-09-10T12:34:50Z",
          "publishedAt": "2024-09-07T04:05:18Z",
          "category": {
            "name": "Q&A Getting Started"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "hello\nCan you please try again now? There are network flukes",
                  "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10576872",
                  "updatedAt": "2024-09-07T12:32:21Z",
                  "publishedAt": "2024-09-07T12:32:20Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Aayush-T"
                          },
                          "bodyText": "It is still happening. So, I was trying to make some other environments for my personal work like 2-3 days agao and since this \"https://conda.software.inl.gov/public\" is already added, it gave the same error then too. I had to disable it for my other environment to run.\nI tested just now, and it is still giving the same error.\n(base) xyz@xyz-abc:~$ conda create -n moose moose-dev=2024.08.30 mpich\nChannels:\n\nhttps://conda.software.inl.gov/public\nconda-forge\nPlatform: linux-64\nCollecting package metadata (repodata.json): failed\n\nUnavailableInvalidChannel: HTTP 403 FORBIDDEN for channel public https://conda.software.inl.gov/public\nThe channel is not accessible or is invalid.\nYou will need to adjust your conda configuration to proceed.\nUse conda config --show channels to view your configuration's current state,\nand use conda config --show-sources to view config file locations.\n(base) xyz@xyz-abc:~$ conda config --show-sources\n==> /home/xyz/miniforge/.condarc <==\nchannels:\n\nconda-forge\n\n==> /home/xyz/.condarc <==\nchannels:\n\nhttps://conda.software.inl.gov/public\nconda-forge\n\nSo, I looked into it using curl:\n*** curl https://conda.software.inl.gov/public/ ***\n<title>Just a moment...</title><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131}button,html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}body.no-js .loading-spinner{visibility:hidden}body.theme-dark{background-color:#222;color:#d9d9d9}body.theme-dark a{color:#fff}body.theme-dark a:hover{color:#ee730a;text-decoration:underline}body.theme-dark .lds-ring div{border-color:#999 transparent transparent}body.theme-dark .font-red{color:#b20f03}body.theme-dark .pow-button{background-color:#4693ff;color:#1d1d1d}body.theme-dark #challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=)}body.theme-dark #challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+)}body.theme-light{background-color:#fff;color:#313131}body.theme-light a{color:#0051c3}body.theme-light a:hover{color:#ee730a;text-decoration:underline}body.theme-light .lds-ring div{border-color:#595959 transparent transparent}body.theme-light .font-red{color:#fc574a}body.theme-light .pow-button{background-color:#3681;border-color:#3681;color:#fff}body.theme-light #challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=)}body.theme-light #challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZjNTc0YSIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjZmM1NzRhIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+)}body.theme-light.feedback-report{border:1px solid #959595}body.feedback-report{border-radius:5px}a{background-color:transparent;color:#0051c3;text-decoration:none;transition:color .15s ease}a:hover{color:#ee730a;text-decoration:underline}.main-content{margin:8rem auto;max-width:60rem;padding-left:1.5rem;padding-right:1.5rem;width:100%}.main-content .spacer{margin:2rem 0}.main-content .loading-spinner{height:76.391px}.feedback-content{align-content:space-between;display:inline-grid;height:100vh;margin:0;padding:0}.feedback-content .spacer{margin:0}.heading-favicon{height:2rem;margin-right:.5rem;width:2rem}@media (width <= 720px){.main-content{margin-top:4rem}.heading-favicon{height:1.5rem;width:1.5rem}.feedback-content{margin-top:0}}.main-wrapper{align-items:center;display:flex;flex:1;flex-direction:column}.feedback-report .main-wrapper{min-height:100vh}.font-red{color:#b20f03}.h1{font-size:2.5rem;font-weight:500;line-height:3.75rem}.h2{font-weight:500}.core-msg,.h2{font-size:1.5rem;line-height:2.25rem}.body-text,.core-msg{font-weight:400}.body-text{font-size:1rem;line-height:1.25rem}@media (width <= 720px){.h1{font-size:1.5rem;line-height:1.75rem}.h2{font-size:1.25rem}.core-msg,.h2{line-height:1.5rem}.core-msg{font-size:1rem}}#challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZjNTc0YSIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjZmM1NzRhIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+);padding-left:34px}#challenge-error-text,#challenge-success-text{background-repeat:no-repeat;background-size:contain}#challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=);padding-left:42px}.text-center{text-align:center}.pow-button{background-color:#0051c3;border:.063rem solid #0051c3;border-radius:.313rem;color:#fff;font-size:.875rem;line-height:1.313rem;margin:2rem 0;padding:.375rem 1rem;transition-duration:.2s;transition-property:background-color,border-color,color;transition-timing-function:ease}.pow-button:hover{background-color:#3681;border-color:#3681;color:#fff;cursor:pointer}.footer{font-size:.75rem;line-height:1.125rem;margin:0 auto;max-width:60rem;padding-left:1.5rem;padding-right:1.5rem;width:100%}.footer-inner{border-top:1px solid #d9d9d9;padding-bottom:1rem;padding-top:1rem}.clearfix:after{clear:both;content:\"\";display:table}.clearfix .column{float:left;padding-right:1.5rem;width:50%}.diagnostic-wrapper{margin-bottom:.5rem}.footer .ray-id{text-align:center}.footer .ray-id code{font-family:monaco,courier,monospace}.core-msg,.zone-name-title{overflow-wrap:break-word}@media (width <= 720px){.diagnostic-wrapper{display:flex;flex-wrap:wrap;justify-content:center}.clearfix:after{clear:none;content:none;display:initial;text-align:center}.column{padding-bottom:2rem}.clearfix .column{float:none;padding:0;width:auto;word-break:keep-all}.zone-name-title{margin-bottom:1rem}}.loading-spinner{height:76.391px}.lds-ring{display:inline-block;position:relative}.lds-ring,.lds-ring div{height:1.875rem;width:1.875rem}.lds-ring div{animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:.3rem solid transparent;border-radius:50%;border-top-color:#313131;box-sizing:border-box;display:block;position:absolute}.lds-ring div:first-child{animation-delay:-.45s}.lds-ring div:nth-child(2){animation-delay:-.3s}.lds-ring div:nth-child(3){animation-delay:-.15s}@Keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.main-wrapper,body{display:block}}.rtl .heading-favicon{margin-left:.5rem;margin-right:0}.rtl #challenge-success-text{background-position:100%;padding-left:0;padding-right:42px}.rtl #challenge-error-text{background-position:100%;padding-left:0;padding-right:34px}.challenge-content .spacer{margin:2rem 0}.challenge-content .loading-spinner{height:76.391px}@media (prefers-color-scheme:dark){body{background-color:#222;color:#d9d9d9}body a{color:#fff}body a:hover{color:#ee730a;text-decoration:underline}body .lds-ring div{border-color:#999 transparent transparent}body .font-red{color:#b20f03}body .pow-button{background-color:#4693ff;color:#1d1d1d}body #challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=)}body #challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+)}}</style>Enable JavaScript and cookies to continue<script>(function(){window._cf_chl_opt={cvId: '3',cZone: \"conda.software.inl.gov\",cType: 'managed',cNounce: '30567',cRay: '8bfccfedbb728403',cHash: '076a9cc0f3fd1cf',cUPMDTk: \"\\/public\\/?__cf_chl_tk=iUDzdmjyl4LUztmasR8FlMCZYaUEIQfc0ToGoKl1r28-1725776212-0.0.1.1-4330\",cFPWv: 'b',cTTimeMs: '1000',cMTimeMs: '390000',cTplV: 5,cTplB: 'cf',cK: \"\",fa: \"\\/public\\/?__cf_chl_f_tk=iUDzdmjyl4LUztmasR8FlMCZYaUEIQfc0ToGoKl1r28-1725776212-0.0.1.1-4330\",md: \"IrWjSLSskt0a5boV24SutZ1x3jqGKt_ETQodB0aqG7I-1725776212-1.1.1.1-29UOcU_caFXz2jQBxa5_3rRMX4SY9RcSUCgzGDJDL.9WV87noKYb3cJhHxF.opGZO.6qBb8.WCT2S.D6RKinr5tmEGsDlaeGEY9c.mrxNcsuEB_mBi0hfjbZW4wLI0HjyrwfSX8Gft93fn8wU1jtYN9mDkMuYI2P8H9upoBRAei7OXDt6gix7X8InNfoi14twx5l7nTH5JPii9VOzAEisPD7NqgDUT61U1JFxQaFfySxlMrgywuEf8R990EUfTDP9kVs3PaE0VESmm1tgCGWv7HxBC3BnwldTJaAd.AcLg8cFcwisXAsbD7xrcYze91B48nmNDOy68qmTf1aT_NHS9cMObkfbpX7Tow0hLWGjLlrtVdLr86QPoUv6giMW3JwhVlN0i8I1SwPZE0mAnajCFs5L20a0K6joIaFfguivZ1lejg35EpNHFpNcO3BoD9.WpRjmyEnJGOKpVxLpA8jE8QJyNlA4fgLmoU5RwhOYC.WLMop6qn__WSaeXGZJR7gyUeE5CDqfs0sTDJjQtIg8Oj9vxv9f34EwXoU5GEIn6Z64XWOV5jyw7wF25zfb0eElMq5PGpuY1GMvJuqIjyMWLq9P.UcYzaFOcy_Jfa42H3vlC1Eotv9.mLfQaSGxm3WYnTnksTpm4xmZ4vgPfjqSVd101bttke2LlCsBNEVj3jHXxJSpvzFbeUSxRUbvdIwiqsjOEMW8jZLJI1R4hc7tYpoFqmft51laynjPs2hiXGqojY9SAHs5yF6ghJgUSvfT1OYNKtXqU_r6BZ2lt87F75GfLc5KdCuM_M7V0kA8FuZRK9bbWrrk8_QS8RGkFqoOaT_EO1rv6Lwweb3E2Fo41TP1IakeSgHnRXq2UFn1XGLrzm.DKBb9ndTuTK1CyfRj6wN8qGjONnMag4HvbYrJXhmtMHPNhJGG2qXSjYZ0GLoRfgP15pzP3X3eqmHLxENjC_Z2v64Kr8cihZTPKNuKp1eqhOe5R_doh26h_jcLh9VBRJeZpJATXFVU_._7BrWtJIra4WT0H99OeJJvqDYnlWIc8MEP2DGMNFsd4a0..M0OcEcjWf6XC5iMieoNp1BQHYvRZj9RJ9YPIpYu5niwqSPLrfIVXcHBNq_vwCamKQ8BcGnAHO61w3aHOF4JKDpneAHtsPUffrSpW.Ep7P76Jp.D9duQaG0zBL_Z30wqqLJ3svBujCtHzomurTXg62XDofVKedSwC3Mhlq3Ro4CGCzNSJGqI5dQ3E0JBNsHl9Vp54qd0rI1wmg.r72oobKn954MmNxql8pY5DTBdKkq_HqO79ElPMm.kptMAtb1igkEAwBrvaMR94LZ4tyCZXacmxglI9ICiTYbcyE_f3cr04NNJ9GR12.BXHNyea_8WW3owfPWP3JMC5cZGaS2i62Tq_QfAzHDfDx5Wj05bD2oPg72bwaHqd5L6CdeNCI63hzBaNXPOiKgIObZ9os6cnoEnM0Qg3gRMRYw29ymmKeMgySj8n6ARgYFOHqfwQYIaOcrnD9kXnMCWnjKYSlSbisszT.xEG1grwmJz_wnhWokoaPF.3VDTvGlxnbcWKsBUui8WaP1LlOCXCPu0tb6cHlUonSm0.eKnHhso_R_sY.kebCVEed2nDI00BrTaXOhzaTBKGt_my4_ANA4rIHtWyWFiTbvWHCLbCseNKGTekNzAovwV37vxc_4_iEziPcAWFFdNi8Ee4TrvFVb7dbWZQyvWbSWD2YAtRWhGGHAowryjnYP5TR8yfJOW26Q8vx588nSxGUGN_WnJ8HhZU1s6JNJ5ke804mtRsI1pTN7V8hpxetxG5l_aMVzmpdm6Yu0DZ0Lc0OBy5KoBovsqdsE6HD0vxsbCMzoe_lxqhS.PcVKK_tEDf7VKvPZozvdYdtJYDFvC_wjlTcP53SWgiKT3M6qfdYhmkjcCOHFovRbU7KC4w\",mdrd: \"IaBlzBlylcxexufERpTghFlu3U2RxqT.Wlq9v7HDFgs-1725776212-1.1.1.1-1QbXke.IEhvbr7keyTxTcbpeHi0VbNx2vtZjglOePv.uFfCQnw.aZmXzduWPrRVZlFrbo7MabcLs.x9Z82jes4KvW_i7IjtTVbQDiuQOBTXkHGVS7mqJkvWRO845lcPncWVs6GgbNwbYYOn5WjO._flvwJGct8z_cRL2jOTjbNF5yDS.z0yXAhr28D66.Gh1GF9cKfYwowf340CX7QVOkvQ5Nfo.Xn7puJb4CZTfmEnzoVPqiM3NG4BiJsRPoa5cNAzihLQkh8AsDV8LjMhpnEPdT1xcBDlf6c8su2_PI3w8zGy3E0KWVW9To2JN2_ZOCddtli__hBfO7yKIo5dc_LVVN_cX78RgtaaS8BIXijQYo1xwNnoGkOUxO_QLQxwoxlwkKjswTKJYMfkZlMOloqM39peN86Y2XFpOZmDxCm3AbniJHzcKmCwQXVZoFPPF0cMVXEry1c_GOtryBP8QDEc9Ok1HFy.UbNwnmv1bVau9k8uUCgbS4LDHAMwUbljKGbfXR0EUnFVDCLjq3UgcuIEmmIBfi6OFOKPBR7WnJBaJLGpOV0QGcyDH.ms33nMFBdWIg.7JZTKn_4Bv8rkHvNQ8DtL7ifCC_aDgWcZQd0AAXAIN3vMWmsVgSbxYwjVSfiDyDCXYSysvHg0aQKQuEJ9t5zUksb4e1E5dSesp4yi2n.h9gPbFNReaj0MV2HiHFJ3GoSMqpAyU_aX2KzoulWzVe9pIwdYMEDr0B03c0Ly_Cy8ZZSpk8JCOSxQTuQ7NelHlEGE8YzWbhv9zfVSa6OGA1TnoXS6ikTJF860eu41Wtc2hkNBjIO71b4jb7RdcZY0waVDNZ8F2SmQBdAakkz2inMbQGciXa8eYkQ41O5sCo7JZ5uVA_1V0f2J9OoKeWxGWekv95ZBKnVNnSKqRrc9vnVJEiVSbzgOqZn3JxhO3dqRRGtn0KKbOKwMNDHB0295d4AY1xAzRUmj94_m9lyHsQxzzmQqnESKlynUvlqyK4cthctK2SeLzaXP65tm5UnzCO3cEM6pu8A39_pTNxrchiC4aM4WwAwgBRR1TNtCbqyuSanFlzv3CcdQBtJcehnu_n38B5KmOBVWgUK.KlfCq.1oMWQWf2dmHvT9be2nEGKOTLYgATr49xjFj2q7fEHJHnnDh0iDCyvMMjpOYR5dwArV26x19z2Wg_GatTYfi4RBRJlUwuxHs6njGV54PgoxZ9HVIK0TaTod6tO6gCClgkDI__tBq0n6cEJRoJutn3vzweZH0MD6kGL23J50kgwe1StUe03MHfjRtUQHJcXfFEwBEiYJOYbO_yoZugvukH3dkz9st1aN_2Gx5ayzPRWD5NcyOrWyKxrEAVmC7wGN4sxw97ysnFbPv9PGQH2qgW_paeslq9ValmpR9ukIdlGMjlzNk3mNYRJI9wB9Qwn6cGjN8bKn9r1cxInU.v6sc_XHHcEFLlO8mR116rLR4pqnE1mthF9O0s2d4KkZFLNyNRnOPDtXblTGQ0R9duMRuOSsLbpX.5L4fByF_8yPXl9BQLFlidRm5JN2m61TGUjPpXFLuG66PbHGIXwk_j.lr7mxRmKmUR5trsiz9Ak5gkxBSWIKrAUs9E5PxhOMtKWX3OqHjMpM8FMZvorHGizhpRP0t1Ay6Tu1fOPok_tmIq9bxrncG7a6a7V6Di.ort12Vr4d2kiw2y6gE0QXWCj7iPvczZB3jHeBF3zgnykQwa2CF.YfdmHJ1cnLN72Gk24H.qCfC3GcV.W_qfs7f4nEt2FBppwsSrKp_uJ2yHgVugE8425vfOeHqa6POibzgNlCyS9O2IF5a48ME9ZCZrOLh.LRTMfyO8Id0WeuNtdu_74SAs7s3qzxxlSiiFy42gIiQrUQyIo9mC.D5fRCwlc5ZJjb1AS3Tcf_t6Q2jPoQ5H5C3CCtIxraK6wFxXgtLu..x1JFPxAnAfya0_dAomLNo.mwBSauSCS2Q7NwTmj09BCqV5cFtvIADC9VSIddyNFgCnIMQLbnUlTvitVwSFqvnoQ9ym9rzOaqd96BOkib29BRGzeMG1CzCwM3YMiQmVGboBnahlyw_3XinMsqO1gwxWoFkctwk.VVqWiQrUXmeQxMA496DyZb7Y6BxW4OYhO3hsnva7b60qvtlikZWAYdhy_e3OVEhwVy1f00MmrZJfaoj_ZBLaOYGzuKa0kH41XQFAkA0lFyf2s1t7POZteJNYwEyju6e_txyExzWy21x9RQTehhICIgyEOj7W.Vl3g\",cRq: {ru: 'aHR0cHM6Ly9jb25kYS5zb2Z0d2FyZS5pbmwuZ292L3B1YmxpYy8=',ra: 'Y3VybC83LjgxLjA=',d: 'DE+t2zmm0qisr2VVia97V7OGt8dZKWvSBnr1OsrG/2ee3hW7EMwD+uc5Z9dk7xQQrmzuoevlPIIJY6KY2cS6pZ/3NMGoEcskOzBSCCz55wIpwNjsh0bJnzY1GyhsXOdexc1QqIVs8db6guHZL1GWc/cK9hVCn1Y2d75CzL/uP07otOQ/zCTQBr/joK2T7MPykTLa6lBOHmx1UXv1H9ysUhZ23YXE1yDFbje7EGdOKwHMZ5gLNy9R2n7m37PikJukRtQ8eVc2jhwZfOMrqEoh6XWF6Mz2XfaloAAG9JB0dpbNTJgTwQmcS9SkdFIsuUr2FXscH+02Di1dConZ8mx5kn5jXoeRr/9Fq6ItJtc0NEBmCEhU60ouQNOV3szCsrEi4qYwz26/+HILa3RcEIXIYC7LZ6CuQrmZ3I0oUmbigjREmXuzfpQdMrShHal03OuQxFTSjUDwAYwa6gfCeLEWfMuy88QhsQGXdsMCAEQggP1OyBCmT8Mm1Yc9SgHLUUkZ',t: 'MTcyNTc3NjIxMi4wMDAwMDA=',cT: Math.floor(Date.now() / 1000),m: 'RlH9MxGBN+cgCuuwxo5+FYCAr6B0KH1kcGfr4QO8Nrc=',i1: 'Juf1TdmUJF0BWUgrE4qczQ==',i2: 'iEJUJTFASrBYmupQ1EhljA==',zh: 'uLxisngW/bb3qPDdknsJSf2WthC5mbPxkv0Cm/TWRDA=',uh: 'XtPohTwN9ruoNwJrCbocmA5soW1XPnkxU/yVFmBLOQo=',hh: 'sAHX5K2F4U/P8Yh7oPCuAZ/YhAp4v25WyS17SbSHaDU=',}};var cpo = document.createElement('script');cpo.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=8bfccfedbb728403';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null, \"\\/public\\/?__cf_chl_rt_tk=iUDzdmjyl4LUztmasR8FlMCZYaUEIQfc0ToGoKl1r28-1725776212-0.0.1.1-4330\" + window._cf_chl_opt.cOgUHash);cpo.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(cpo);}());</script>\nAlso, when we try to open the website, we have to solve Cloudflare verifier:\n\nSo, this is happening due to a Cloudflare protection layer on the MOOSE public Conda channel. When accessing it via the browser, we are completing the JavaScript-based security challenge (as shown above, which checks for bots), but when conda or curl tries to access the channel, it cannot complete this challenge and therefore results in a 403 \"Forbidden\" error.",
                          "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10580331",
                          "updatedAt": "2024-09-08T06:23:23Z",
                          "publishedAt": "2024-09-08T06:11:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "This is a recent change.\nTagging @milljm @loganharbour for awareness\nA tentative workaround for now is to download the (moose-dev & dependencies) packages from your browser then install offline\n>conda install --offline <path to package>\n\nyou ll still want to be online to install all the dependencies from conda-forge",
                          "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10581648",
                          "updatedAt": "2024-09-08T11:53:53Z",
                          "publishedAt": "2024-09-08T11:53:52Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "MaheshTummala17"
                          },
                          "bodyText": "I do have the same problem. How to install MOOSE with this forbidden error?",
                          "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10583194",
                          "updatedAt": "2024-09-08T16:36:42Z",
                          "publishedAt": "2024-09-08T16:36:41Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "Not a solution, but can you peruse to the following sites, which were also moved over to cloudflare services? https://civet.inl.gov, https://mooseframework.inl.gov",
                          "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10591541",
                          "updatedAt": "2024-09-09T13:58:27Z",
                          "publishedAt": "2024-09-09T13:58:25Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "@Aayush-T, Thank you for posting! I didn't read your entire post enough to realize the server was accessible only after authenticating as a human.\nI am in contact with our Cloudflare team to try and get this \"feature\" disabled.",
                          "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10592739",
                          "updatedAt": "2024-09-09T15:21:30Z",
                          "publishedAt": "2024-09-09T15:21:29Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "milljm"
                          },
                          "bodyText": "I have been told this was fixed yesterday at 14:30 MST.",
                          "url": "https://github.com/idaholab/moose/discussions/28567#discussioncomment-10602068",
                          "updatedAt": "2024-09-10T12:34:51Z",
                          "publishedAt": "2024-09-10T12:34:50Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "<Use a descriptive title here>",
          "author": {
            "login": "wangzhaohao"
          },
          "bodyText": "Check these boxes if you have followed the posting rules.\n\n Q&A General is the most appropriate section for my question\n I have consulted the posting Guidelines on the Discussions front page\n I have searched the Discussions forum and my question has not been asked before\n I have searched the MOOSE website and the documentation does not answer my question\n I have formatted my post following the posting guidelines (screenshots as a last resort, triple back quotes around pasted text)\n\nQuestion\nHello I want to compute this Diffusion. Sorry forgot write title\ud83d\ude39\n$J_{Cs} = -D_{Cs} \\nabla C_{Cs} - D_{Cs} C_{Cs} \\frac{Q_{Cs}}{R T^2} \\nabla T $\n$\\frac{\\partial C_{Cs}}{\\partial t} = - \\nabla \\cdot J_{Cs} + Y_{Cs} \\dot{F} $\nHere is week form:\nMultiply by a test function $v$ and integrate over the domain:\n$\\int_\\Omega \\frac{\\partial C_{Cs}}{\\partial t} v , d\\Omega = - \\int_\\Omega \\nabla \\cdot J_{Cs} v , d\\Omega + \\int_\\Omega Y_{Cs} \\dot{F} v , d\\Omega $\nApply the divergence theorem to transform the second term:\n$\\int_\\Omega \\frac{\\partial C_{Cs}}{\\partial t} v , d\\Omega = \\int_{\\partial \\Omega} J_{Cs} \\cdot n v , d\\Gamma - \\int_\\Omega J_{Cs} \\cdot \\nabla v , d\\Omega + \\int_\\Omega Y_{Cs} \\dot{F} v , d\\Omega$\nHere, $J_{Cs} \\cdot n$ is the flux at the boundary $\\partial \\Omega$, which is specified by boundary conditions.\nSubstitute the expression for $J_{Cs}$\n$J_{Cs} = -D_{Cs} \\nabla C_{Cs} - D_{Cs} C_{Cs} \\frac{Q_{Cs}}{R T^2} \\nabla T $\nSubstituting this into the weak form:\n$\\int_\\Omega \\frac{\\partial C_{Cs}}{\\partial t} v , d\\Omega = \\int_{\\partial \\Omega} (-D_{Cs} \\nabla C_{Cs} - D_{Cs} C_{Cs} \\frac{Q_{Cs}}{R T^2} \\nabla T) \\cdot n v , d\\Gamma- \\int_\\Omega (-D_{Cs} \\nabla C_{Cs} - D_{Cs} C_{Cs} \\frac{Q_{Cs}}{R T^2} \\nabla T) \\cdot \\nabla v , d\\Omega+ \\int_\\Omega Y_{Cs} \\dot{F} v , d\\Omega$\nBoundary Conditions :\nFor the boundary conditions:\n\n\n$$J_{Cs} = 0$$ at $$z = 0$$ and $$z = L$$ (no-flux boundary condition).\n\nThese translate into:\n\nFor $$z = 0$$ and $$z = L$$, the flux term $$J_{Cs} \\cdot n = 0$$, meaning the surface integral on those boundaries will vanish.\n\nMy question is how to set BC?\nhere is my code\n#pragma once\n#include \"GenericKernel.h\"\n\ntemplate <bool is_ad>\nclass OxygenAdvectionTempl : public GenericKernel<is_ad>\n{\npublic:\n  static InputParameters validParams();\n  OxygenAdvectionTempl(const InputParameters & parameters);\n\nprotected:\n  virtual GenericReal<is_ad> computeQpResidual() override;\n  virtual Real computeQpJacobian() override;\n\n  const VariableValue & _temperature;             //[K]\n  const VariableGradient & _temperature_grad;        //[K/m]\n  const VariableValue & _plutonium_concentration; // mol%\n  const MaterialProperty<Real> & _O_M_ratio;\n  const Real & _O_M_initial;\n  const VariableValue & _oxygen_old;\n\n  usingGenericKernelMembers;\n  using GenericKernel<is_ad>::_grad_test;// if use mooseAssert will cause error\n  using GenericKernel<is_ad>::_grad_u;\n  using GenericKernel<is_ad>::_grad_phi;\n\nprivate:\n  Real _number_oxygen_per_volume;\n  Real _oxygen_transport_heat;\n  Real _oxygen_diffusion_coeff;\n  Real _universal_gas_constant;\n};\n\ntypedef OxygenAdvectionTempl<false> OxygenAdvection;\ntypedef OxygenAdvectionTempl<true> ADOxygenAdvection;\n#include \"OxygenAdvection.h\"\n\nregisterMooseObject(\"MiracleApp\", OxygenAdvection);\nregisterMooseObject(\"MiracleApp\", ADOxygenAdvection);\n\ntemplate <bool is_ad>\nInputParameters\nOxygenAdvectionTempl<is_ad>::validParams()\n{\n  InputParameters params = GenericKernel<is_ad>::validParams();\n  params.addCoupledVar(\"temperature\", \"the temperature of the MOX or UO2 fuel in K\");\n  params.addCoupledVar(\"plutonium_concentration\", \"the plutonium concentration in wt%\");\n  params.addParam<Real>(\n      \"O_M_initial\", 1.98, \"oxygen to metal ratio, and the stoichiomertric deviation (2.0-x) (unitless)\");\n  params.addParam<MaterialPropertyName>(\n      \"oxygen_to_metal_ratio\", \"oxygen_to_metal_ratio\", \"the oxygen to metal ratio\");\n  params.addClassDescription(\"Use to compute the Oxygen in MOX with the week form $(\\\\triangeldown \"\n                             \"phi, \\\\frac{NDCQ}{RT^2}\\\\triangledown T)$.\");\n\n  return params;\n}\n\ntemplate <bool is_ad>\nOxygenAdvectionTempl<is_ad>::OxygenAdvectionTempl(const InputParameters & parameters)\n  : GenericKernel<is_ad>(parameters),\n    _temperature(this->coupledValue(\"temperature\")),\n    _temperature_grad(this->coupledGradient(\"temperature\")),\n    _plutonium_concentration(this->coupledValue(\"plutonium_concentration\")),\n    _O_M_ratio(this->template getMaterialPropertyOld<Real>(\"oxygen_to_metal_ratio\")),\n    _oxygen_old(this->template valueOld()),\n    _O_M_initial(this->template getParam<Real>(\"O_M_initial\")),\n    _number_oxygen_per_volume(4.89e28),\n    _universal_gas_constant(8.31446261815324)\n{\n}\n\ntemplate <bool is_ad>\nGenericReal<is_ad>\nOxygenAdvectionTempl<is_ad>::computeQpResidual()\n{\n  _oxygen_diffusion_coeff = _number_oxygen_per_volume * 1.39e-6 * std::exp(-75900. / _temperature[_qp]);\n  Real x = _O_M_ratio[_qp] - 2;\n  if (_O_M_initial > 2.0) // hyperstoichiometric MOX\n  {\n    Real avg_valency_U = 4 + 2 * (x) / (1 - _plutonium_concentration[_qp] / 100);\n    _oxygen_transport_heat = -3.5e34 * std::exp(-17 * avg_valency_U);\n  }\n  else // hypostoichiomertic MOX\n  {\n    Real avg_valency_Pu = 4 + 2 * x / (_plutonium_concentration[_qp] / 100);\n    if (avg_valency_Pu < 3.3)\n      _oxygen_transport_heat = -8.12e-4 * std::exp(4.85 * avg_valency_Pu);\n    else\n      _oxygen_transport_heat =\n          -3.96e6 + 2.37e6 * avg_valency_Pu - 3.6e5 * std::pow(avg_valency_Pu, 2);\n  }\n\n  return _grad_test[_i][_qp] * _oxygen_diffusion_coeff *\n         (_grad_u[_qp] + _u[_qp] * _oxygen_transport_heat /\n                             (_universal_gas_constant * std::pow(_temperature[_qp], 2)) *\n                             _temperature_grad[_qp]);\n}\n\ntemplate <bool is_ad>\nReal\nOxygenAdvectionTempl<is_ad>::computeQpJacobian()\n{\n  if constexpr (!is_ad)\n  {\n    return _grad_test[_i][_qp] * _oxygen_diffusion_coeff *\n           (_grad_phi[_j][_qp] + _phi[_j][_qp] * _oxygen_transport_heat /\n                                     (_universal_gas_constant * std::pow(_temperature[_qp], 2)) *\n                                     _temperature_grad[_qp]);\n  }\n  else\n  {\n    mooseError(\"In ADOxygenAdvection, computeQpJacobian should not be called.\");\n  }\n}\n\ntemplate class OxygenAdvectionTempl<false>;\ntemplate class OxygenAdvectionTempl<true>;\nbut when i test my code\n[GlobalParams]\n  coord_type = RZ\n[]\n\n[Mesh]\n  [one_dim]\n    type = GeneratedMeshGenerator\n    dim = 1\n    nx = 300\n    xmin = 0.77e-3\n    xmax = 3.3e-3\n  []\n[]\n\n[AuxVariables]\n  [grad_temp]\n    order = CONSTANT\n    family = MONOMIAL\n  []\n[]\n\n[AuxKernels]\n  [grad_temp_aux]\n    type = VariableGradientComponent\n    variable = grad_temp\n    component = x\n    gradient_variable = temperature\n  []\n[]\n\n[Variables]\n  [oxygen]\n    order = FIRST\n    family = LAGRANGE\n    initial_condition = 0.015\n  []\n  [temperature]\n    initial_condition = 1000\n  []\n[]\n\n[Kernels]\n  [oxygen_advection]\n    type = OxygenAdvection\n    temperature = temperature\n    variable = oxygen\n    plutonium_concentration = 30\n    O_M_initial = 1.97\n  []\n  [time_oxygen]\n    type = CoefTimeDerivative\n    variable = oxygen\n    Coefficient = 4.98e28\n  []\n  [time]\n    type = TimeDerivative\n    variable = temperature\n  []\n  [temp_diff]\n    type = CoefDiffusion\n    variable = temperature\n    coef = 2.491729\n  []\n  [source_temp]\n    type = BodyForce\n    variable = temperature\n#    value = 6.1856e8 #W/m^3\n    function = heat_fun\n  []\n[]\n\n[Materials]\n  [OM_ratio]\n    type = MOXOxygenToMetalRatio\n    oxygen = oxygen\n    O_M_initial = 1.97\n    output_properties = 'oxygen_to_metal_ratio'\n    outputs = all\n  []\n[]\n\n[BCs]\n  [temp]\n    type = DirichletBC\n    variable = temperature\n    boundary = right\n    value = 985 #K\n  []\n[]\n\n[Functions]\n  [./power_history]\n    type = PiecewiseLinear\n      x = '0 10000'\n      y = '0 50000'\n  [../]\n  [heat_fun]\n    type = PiecewiseLinear\n    x = '0 200 10000'\n    y = '0 6.1856e8 6.1856e8'\n  []\n[]\n\n[Executioner]\n  type = Transient\n\n  #Preconditioned JFNK (default)\n  solve_type = 'PJFNK'\n\n  petsc_options = '-snes_ksp_ew'\n  petsc_options_iname = '-pc_type -pc_factor_mat_solver_package'\n  petsc_options_value = 'lu       superlu_dist'\n\n  line_search = 'none'\n\n  automatic_scaling = true\n\n  l_tol = 8e-2\n  nl_abs_tol = 1e-2\n  nl_rel_tol = 1e-2\n  n_startup_steps = 1\n  end_time = 10000\n  dtmax = 1000\n  dtmin = 0.25\n  [./TimeStepper]\n    type = IterationAdaptiveDT\n    dt = 2e2\n    optimal_iterations = 8\n    iteration_window = 2\n    linear_iteration_ratio = 100\n    growth_factor = 2\n    cutback_factor = .5\n    force_step_every_function_point = true\n    timestep_limiting_function = power_history\n  [../]\n[]\n\n[Outputs]\n  exodus = true\n[]\nSeems the noline is not work.\nSo can you help me find why ? Is my BCs not right? Thank you!!!\nZhaohao Wang",
          "url": "https://github.com/idaholab/moose/discussions/28569",
          "updatedAt": "2024-09-10T07:07:48Z",
          "publishedAt": "2024-09-08T15:08:12Z",
          "category": {
            "name": "Q&A General"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe BCs seem right to me. The default boundary condition when you have integration by parts of a diffusion term is the 0 current.\nGuillaume",
                  "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10583402",
                  "updatedAt": "2024-09-08T16:57:50Z",
                  "publishedAt": "2024-09-08T16:57:50Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "thanks\uff0cbut i check the computeQpR\nesidual() and computeQpJacobian() many times. The temperature is compute   right if only compute it. but when i add oxygen the residual not reduces. and i follwing the web of trobule moose. Later i will explain in detail.",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10584772",
                          "updatedAt": "2024-09-08T23:02:11Z",
                          "publishedAt": "2024-09-08T23:02:10Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "wangzhaohao"
                  },
                  "bodyText": "I am coming back, Here is more about PDE, eqa 3(c) and 4.\nif i follow as Trobuleshooting\n  petsc_options = '-pc_svd_monitor'\n  petsc_options_iname = '-pc_type'\n  petsc_options_value = 'svd'\nthe Residual is\nTime Step 0, time = 0\n\nTime Step 1, time = 200, dt = 200\n 0 Nonlinear |R| = 9.167670e+04\n      SVD: condition number            inf, 221 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 0.000000000000e+00 0.000000000000e+00 5.726095919740e-129 1.155382023405e-125 9.975364211489e-111\n      SVD: largest singular values : 2.226502292591e+04 2.258730124109e+04 2.294198156561e+04 2.334596359038e+04 2.384323197599e+04\n      0 Linear |R| = 9.167670e+04\n      1 Linear |R| = 3.606175e+01\n 1 Nonlinear |R| = 6.302773e+00\n Solve Converged!\n\nTime Step 2, time = 600, dt = 400\n 0 Nonlinear |R| = 6.302773e+00\n      SVD: condition number            inf, 221 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 0.000000000000e+00 0.000000000000e+00 1.813083677204e-129 7.980665508896e-125 1.111521930401e-110\n      SVD: largest singular values : 2.226502292591e+04 2.258730124109e+04 2.294198156561e+04 2.334596359038e+04 2.384323197599e+04\n      0 Linear |R| = 6.302773e+00\n      1 Linear |R| = 4.767783e-03\n 1 Nonlinear |R| = 3.648453e-04\nand the result is quite unacceptable. So what should i do to fix this?\n\nZhaohao Wang",
                  "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10585107",
                  "updatedAt": "2024-09-09T00:44:02Z",
                  "publishedAt": "2024-09-09T00:44:02Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "Time Step 1, time = 200, dt = 200\n 0 Nonlinear |R| = 9.167670e+04\n      SVD: condition number            inf, 221 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 0.000000000000e+00 0.000000000000e+00 5.726095919740e-129 1.155382023405e-125 9.975364211489e-111\n      SVD: largest singular values : 2.226502292591e+04 2.258730124109e+04 2.294198156561e+04 2.334596359038e+04 2.384323197599e+04\n      0 Linear |R| = 9.167670e+04\n      1 Linear |R| = 3.606175e+01\n 1 Nonlinear |R| = 6.302773e+00\n\nthis is a huge problem, you are essentially missing an equation with so many singular values.",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590104",
                          "updatedAt": "2024-09-09T11:48:02Z",
                          "publishedAt": "2024-09-09T11:48:02Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              },
              {
                "node": {
                  "author": {
                    "login": "wangzhaohao"
                  },
                  "bodyText": "and another thing, if i add TimeDerivative\nthe residual is quite well, but there no change of oxygen.\n  [time_oxygen]\n    type = CoefTimeDerivative\n    variable = oxygen\n    Coefficient = 4.98e28\n  []\nTime Step 0, time = 0\n\nTime Step 1, time = 200, dt = 200\n 0 Nonlinear |R| = 9.167670e+04\n      0 Linear |R| = 9.167670e+04\n      1 Linear |R| = 2.514929e+01\n 1 Nonlinear |R| = 2.072539e+00\n Solve Converged!\n\nTime Step 2, time = 600, dt = 400\n 0 Nonlinear |R| = 2.072539e+00\n      0 Linear |R| = 2.072539e+00\n      1 Linear |R| = 1.067716e-03\n 1 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 3, time = 1400, dt = 800\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 4, time = 2400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 5, time = 3400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 6, time = 4400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 7, time = 5400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 8, time = 6400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 9, time = 7400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 10, time = 8400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 11, time = 9400, dt = 1000\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nTime Step 12, time = 10000, dt = 600\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!",
                  "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10585149",
                  "updatedAt": "2024-09-09T00:52:00Z",
                  "publishedAt": "2024-09-09T00:51:58Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "@GiudGiud Do you have any suggestions? This has been bothering me for a while.",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590058",
                          "updatedAt": "2024-09-09T11:43:10Z",
                          "publishedAt": "2024-09-09T11:43:09Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "the convergence history shows the tolerances are very loose. You should change them in the Executioner block.\nNotably nl_abs_tol\nwhen this happens\nTime Step 3, time = 1400, dt = 800\n 0 Nonlinear |R| = 1.075789e-05\n Solve Converged!\n\nthere is not even a solve",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590094",
                          "updatedAt": "2024-09-09T11:47:15Z",
                          "publishedAt": "2024-09-09T11:47:14Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "I change nl_abs_tol=1e-8 and the ouput seems no change.\n\nI mentioned before, if not use TimeDerivative the Residual is showing\nTime Step 0, time = 0\n\nTime Step 1, time = 200, dt = 200\n 0 Nonlinear |R| = 9.167670e+04\n      0 Linear |R| = 9.167670e+04\n      1 Linear |R| = 2.514929e+01\n 1 Nonlinear |R| = 2.072539e+00\n Solve Converged!\n\nTime Step 2, time = 600, dt = 400\n 0 Nonlinear |R| = 2.072539e+00\n      0 Linear |R| = 2.072539e+00\n      1 Linear |R| = 2.072539e+00\n      2 Linear |R| = 2.072539e+00\n      3 Linear |R| = 2.072539e+00\n      4 Linear |R| = 2.072539e+00\n      5 Linear |R| = 2.072539e+00\n      6 Linear |R| = 2.072539e+00\n      7 Linear |R| = 2.072539e+00\n      8 Linear |R| = 2.072539e+00\n      9 Linear |R| = 2.072539e+00\n     10 Linear |R| = 2.072539e+00\n     11 Linear |R| = 2.072539e+00\n     12 Linear |R| = 2.072539e+00\n     13 Linear |R| = 2.072539e+00\n     14 Linear |R| = 2.072539e+00\n     15 Linear |R| = 2.072539e+00\n     16 Linear |R| = 2.072539e+00\n     17 Linear |R| = 2.072539e+00\n     18 Linear |R| = 2.072539e+00\n     19 Linear |R| = 2.072539e+00\n     20 Linear |R| = 2.072539e+00\n     21 Linear |R| = 2.072539e+00\n     22 Linear |R| = 2.072539e+00\n     23 Linear |R| = 2.072539e+00\n     24 Linear |R| = 2.072539e+00\n     25 Linear |R| = 2.072539e+00\nI don't know why the equation does not converge in the steady state, but converges when it contains time gradient.",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590201",
                          "updatedAt": "2024-09-09T12:00:52Z",
                          "publishedAt": "2024-09-09T11:57:30Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "GiudGiud"
                          },
                          "bodyText": "I don't know why the equation does not converge in the steady state, but converges when it contains time gradient.\n\nthis is fine. We have seen that for numerous problems. If you want to converge the steady state problem you'll need to improve your initial guess.\nFor now you should work on getting rid of those 200 singular values",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590487",
                          "updatedAt": "2024-09-09T12:25:55Z",
                          "publishedAt": "2024-09-09T12:25:54Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "For now you should work on getting rid of those 200 singular values\nYes, I read the scaling\nand in input file\n\n  automatic_scaling = true\n  scaling_group_variables = 'oxygen'\n  resid_vs_jac_scaling_param = 0.5 # not sure\nthe Residual is grow with resid_vs_jac_scaling_param value. Second I change the\n  [oxygen]\n    order = FIRST\n    family = LAGRANGE\n    initial_condition = 0.015\n    scaling = 1e-1\n  []\nscaling (change this will influence initial?). The Residual down to 1e-4. When I loose the tolerance, the output same with has time gradient. So I try is on the right way?",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590684",
                          "updatedAt": "2024-09-09T12:44:56Z",
                          "publishedAt": "2024-09-09T12:44:55Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "Taking a step back, is my code about Kernel correct? is there a mistake I haven't noticed? Thank you for taking a look.",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10590728",
                          "updatedAt": "2024-09-09T12:55:41Z",
                          "publishedAt": "2024-09-09T12:48:10Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "hugary1995"
                          },
                          "bodyText": "For equations with a time derivative term (in your case for both the temperature and the oxygen concentration), you don't need any boundary condition to remove the singular values. However, according to what you showed us earlier, there are 221 singular values out of the total 602 dofs, which is interesting. Can you report back the number of singular values with and without the time derivative kernel for concentration?\nI also noticed that you are using a time derivative coefficient for concentration that is on the order of 10^28, which is astronomically large compared to the that of temperature. Therefore, you are essentially numerically removing the time derivative kernel for the temperature (as it becomes negligible compared to the time derivative of concentration), and I suspect that's the source of the 221 singular values. Try to use time derivative coefficients for the two equations that are on the same order of magnitude, and see if that gets rid of the singular values.\nYou are also using coord_type = RZ on a 1D mesh. I am not sure what the implications are, but I suggest you either change the coord_type to RSpherical, or use a 2D mesh.",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10591882",
                          "updatedAt": "2024-09-09T14:21:39Z",
                          "publishedAt": "2024-09-09T14:21:21Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "Thanks,\n\nCan you report back the number of singular values with and without the time derivative kernel for concentration?\nHere is the condition with no 10^28 in Diffusion, I divide both sides of the equation by N(10^28). and without concentration time derivative.\n\nwith use  automatic_scaling = true\nTime Step 1, time = 200, dt = 200\n\nPerforming automatic scaling calculation\n\n 0 Nonlinear |R| = 7.501445e+00\n      SVD: condition number 9.898479694071e+40, 301 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 1.971314991344e-41 1.334112198806e-39 7.240139255072e-39 1.787336221699e-38 3.317863074546e-38\n      SVD: largest singular values : 1.822228376774e+00 1.848584306281e+00 1.877591093817e+00 1.910631096425e+00 1.951302141244e+00\n      0 Linear |R| = 7.501445e+00\n      1 Linear |R| = 2.057839e-03\n 1 Nonlinear |R| = 1.643543e-04\n      SVD: condition number 2.103915849879e+42, 301 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 9.274620662021e-43 2.516991807902e-39 7.695456535776e-39 1.647148173673e-38 2.899819787851e-38\n      SVD: largest singular values : 1.822228376774e+00 1.848584306281e+00 1.877591093817e+00 1.910631096425e+00 1.951302141244e+00\n      0 Linear |R| = 1.643543e-04\n      1 Linear |R| = 8.454181e-08\n 2 Nonlinear |R| = 3.011851e-09\n Solve Converged!\n\nTime Step 2, time = 600,\nwithout automatic_scaling = true\nTime Step 1, time = 200, dt = 200\n 0 Nonlinear |R| = 9.167670e+04\n      SVD: condition number 9.058777106865e+46, 223 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 2.632058576419e-43 1.346286230841e-39 7.365817688253e-39 1.821246206841e-38 3.385054333246e-38\n      SVD: largest singular values : 2.226502292591e+04 2.258730124109e+04 2.294198156561e+04 2.334596359038e+04 2.384323197599e+04\n      0 Linear |R| = 9.167670e+04\n      1 Linear |R| = 3.773612e+01\n 1 Nonlinear |R| = 2.255254e+00\n      SVD: condition number 1.697796791475e+44, 223 of 602 singular values are (nearly) zero\n      SVD: smallest singular values: 1.404363119056e-40 2.514234305699e-39 7.661411002413e-39 1.642241131588e-38 2.897134764017e-38\n      SVD: largest singular values : 2.226502292591e+04 2.258730124109e+04 2.294198156561e+04 2.334596359038e+04 2.384323197599e+04\n      0 Linear |R| = 2.255254e+00\n      1 Linear |R| = 1.635846e-03\n 2 Nonlinear |R| = 6.732485e-05\n\nTry to use time derivative coefficients for the two equations that are on the same order of magnitude, and see if that gets rid of the singular values.\n\nEverything seems right, without the oxygen concentration still have no change. in other word, it still a line, same with the screen I have put above.\nAbort 2D there has badly converage.\nParallelism:\n  Num Processors:          1\n  Num Threads:             1\n\nMesh: \n  Parallel Type:           replicated\n  Mesh Dimension:          2\n  Spatial Dimension:       2\n  Nodes:                   1806\n  Elems:                   1500\n  Num Subdomains:          1\n\nNonlinear System:\n  Num DOFs:                3612\n  Num Local DOFs:          3612\n  Variables:               { \"oxygen\" \"temperature\" } \n  Finite Element Types:    \"LAGRANGE\" \n  Approximation Orders:    \"FIRST\" \n\nAuxiliary System:\n  Num DOFs:                3000\n  Num Local DOFs:          3000\n  Variables:               { \"grad_temp\" \"oxygen_to_metal_ratio\" } \n  Finite Element Types:    \"MONOMIAL\" \n  Approximation Orders:    \"CONSTANT\" \n\nExecution Information:\n  Executioner:             Transient\n  TimeStepper:             IterationAdaptiveDT\n  TimeIntegrator:          ImplicitEuler\n  Solver Mode:             Preconditioned JFNK\n  PETSc Preconditioner:    lu mat_superlu_dist_fact: SamePattern  mat_superlu_dist_replacetinypivot: true \n\n\nTime Step 0, time = 0\n\nTime Step 1, time = 200, dt = 200\n\nPerforming automatic scaling calculation\n\n 0 Nonlinear |R| = 2.386945e+01\n      0 Linear |R| = 2.386945e+01\n      1 Linear |R| = 1.050259e-02\n 1 Nonlinear |R| = 2.919558e-03\n      0 Linear |R| = 2.919558e-03\n      1 Linear |R| = 2.919558e-03\n      2 Linear |R| = 2.919558e-03\n      3 Linear |R| = 2.919558e-03\n      4 Linear |R| = 2.919558e-03\n      5 Linear |R| = 2.919558e-03\n      6 Linear |R| = 2.919558e-03\n      7 Linear |R| = 2.919558e-03\n      8 Linear |R| = 2.919558e-03\n      9 Linear |R| = 2.919558e-03\n     10 Linear |R| = 2.919558e-03\n     11 Linear |R| = 2.919558e-03\n     12 Linear |R| = 2.919558e-03\n     13 Linear |R| = 2.919558e-03\n     14 Linear |R| = 2.919558e-03\n     15 Linear |R| = 2.919558e-03\n     16 Linear |R| = 2.919558e-03\n     17 Linear |R| = 2.919558e-03\n     18 Linear |R| = 2.919558e-03\n     19 Linear |R| = 2.919558e-03\n     20 Linear |R| = 2.919558e-03\n     21 Linear |R| = 2.919558e-03\n     22 Linear |R| = 2.919558e-03\n     23 Linear |R| = 2.919558e-03\n     24 Linear |R| = 2.919558e-03\n     25 Linear |R| = 2.919558e-03\n     26 Linear |R| = 2.919558e-03\n     27 Linear |R| = 2.919558e-03\n     28 Linear |R| = 2.919558e-03\n     29 Linear |R| = 2.919558e-03\n     30 Linear |R| = 2.919558e-03\n     31 Linear |R| = 2.919558e-03\n     32 Linear |R| = 2.919558e-03\n     33 Linear |R| = 2.919558e-03\n     34 Linear |R| = 2.919558e-03\n     35 Linear |R| = 2.919558e-03\n     36 Linear |R| = 2.919558e-03\n     37 Linear |R| = 2.919558e-03\n     38 Linear |R| = 2.919558e-03\n     39 Linear |R| = 2.919558e-03\n     40 Linear |R| = 2.919558e-03\n     41 Linear |R| = 2.919558e-03\n     42 Linear |R| = 2.919558e-03\n     43 Linear |R| = 2.919558e-03\n     44 Linear |R| = 2.919558e-03\n     45 Linear |R| = 2.919558e-03\n     46 Linear |R| = 2.919558e-03\n     47 Linear |R| = 2.919558e-03\n     48 Linear |R| = 2.919558e-03\n     49 Linear |R| = 2.919558e-03\n     50 Linear |R| = 2.919558e-03\n     51 Linear |R| = 2.919558e-03\n     52 Linear |R| = 2.919558e-03\n     53 Linear |R| = 2.919558e-03\n     54 Linear |R| = 2.919558e-03\n     55 Linear |R| = 2.919558e-03\n     56 Linear |R| = 2.919558e-03\n     57 Linear |R| = 2.919558e-03\n     58 Linear |R| = 2.919558e-03\n     59 Linear |R| = 2.919558e-03\n     60 Linear |R| = 2.919558e-03\n     61 Linear |R| = 2.919558e-03\n     62 Linear |R| = 2.919558e-03\n     63 Linear |R| = 2.919558e-03\n     64 Linear |R| = 2.919558e-03\n     65 Linear |R| = 2.919558e-03\n     66 Linear |R| = 2.919558e-03\n     67 Linear |R| = 2.919558e-03\n     68 Linear |R| = 2.919558e-03\n     69 Linear |R| = 2.919558e-03\n     70 Linear |R| = 2.919558e-03\n     71 Linear |R| = 2.919558e-03\n     72 Linear |R| = 2.919558e-03\n     73 Linear |R| = 2.919558e-03\n     74 Linear |R| = 2.919558e-03\n     75 Linear |R| = 2.919558e-03\n     76 Linear |R| = 2.919558e-03\n     77 Linear |R| = 2.919558e-03\n     78 Linear |R| = 2.919558e-03\n     79 Linear |R| = 2.919558e-03",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10592618",
                          "updatedAt": "2024-09-09T15:23:12Z",
                          "publishedAt": "2024-09-09T15:11:53Z",
                          "isAnswer": false
                        }
                      },
                      {
                        "node": {
                          "author": {
                            "login": "wangzhaohao"
                          },
                          "bodyText": "Thansk for your help. @GiudGiud @hugary1995. I solve this problem by add TimeDerivative and find code mistake.\n_oxygen_diffusion_coeff =\n      _number_oxygen_per_volume * 1.39e-6 * std::exp(-75900. / _universal_gas_constant /_temperature[_qp]);\nand In Executioner\nautomatic_scaling = ture\nBy the way, add in Executioner is suitable? If there has better solution?",
                          "url": "https://github.com/idaholab/moose/discussions/28569#discussioncomment-10598857",
                          "updatedAt": "2024-09-10T08:28:53Z",
                          "publishedAt": "2024-09-10T07:07:43Z",
                          "isAnswer": true
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "node": {
          "title": "Question on outputing directions of max and min principal stress",
          "author": {
            "login": "Lingfu-Liu"
          },
          "bodyText": "I output max and min principal stress by using [AuxVariables] and [AuxKernels] (\"Rank Two Aux\") based on the example at https://mooseframework.inl.gov/source/auxkernels/RankTwoAux.html\n> [AuxVariables]\n>   [./maxprincipal]\n>     order = CONSTANT\n>     family = MONOMIAL\n>   [../]\n>   [./minprincipal]\n>     order = CONSTANT\n>     family = MONOMIAL\n>   [../]\n> [] # AuxVariables\n> \n> [AuxKernels]\n>   [./maxprincipal]\n>     type = RankTwoScalarAux\n>     rank_two_tensor = stress\n>     variable = maxprincipal\n>     scalar_type = MaxPrincipal\n>   [../]\n>   [./minprincipal]\n>     type = RankTwoScalarAux\n>     rank_two_tensor = stress\n>     variable = minprincipal\n>     scalar_type = MinPrincipal\n>   [../]\n> [] # AuxKernels\n\nHowever, there is no example telling how the directions of principle stress are output. I found a website that seems to be the source code relevant to \"Rank Two Aux\" at https://mooseframework.inl.gov/docs/doxygen/moose/classRankTwoTensorTempl.html#ade890b615f07c8adb12b4dfa647f2fcd\nIn the source, Eigenvalues (principle stress) and Eigenvectors (direction of principle stress) are calcualted as by a function called \"symmetricEigenvaluesEigenvectors()\"\n> void RankTwoTensorTempl< T >::symmetricEigenvaluesEigenvectors\t\n> (\n> std::vector< T > & eigvals,\n> RankTwoTensorTempl< T > & eigvecs \n> )\t\tconst\n> computes eigenvalues and eigenvectors, assuming tens is symmetric, and places them in ascending order in eigvals.\n> eigvecs is a matrix with the first column being the first eigenvector, the second column being the second, etc.\n> Definition at line 866 of file RankTwoTensorImplementation.h.\n>   868 {\n>   869   mooseError(\n>   870       \"symmetricEigenvaluesEigenvectors is only available for ordered tensor component types\");\n>   871 }\n\nI want to ask\n1.\tHow can I find all the parameters that \u201cRankTwoScalarAux\u201d can calculate and output, along with their corresponding \u201cname\u201d in the syntax?\n2.\tWhen I locate a function in the C++ source code, how can I relate it to the corresponding MOOSE syntax?",
          "url": "https://github.com/idaholab/moose/discussions/28579",
          "updatedAt": "2024-09-09T23:56:01Z",
          "publishedAt": "2024-09-09T16:17:23Z",
          "category": {
            "name": "Q&A Modules: Solid mechanics"
          },
          "comments": {
            "edges": [
              {
                "node": {
                  "author": {
                    "login": "GiudGiud"
                  },
                  "bodyText": "Hello\nThe parameters are listed at the bottom of every object documentation page. Here:\nhttps://mooseframework.inl.gov/source/auxkernels/RankTwoScalarAux.html\nIf you are looking for the source for that object, it's there. You have to look in auxkernels and the module that it is a part of\nhttps://github.com/idaholab/moose/blob/next/modules/solid_mechanics/src/auxkernels/RankTwoScalarAux.C\nThe parameters are in the validParams static function of every class in MOOSE. The input file is parsed by the Parser and the Builder in moose (internal objects, which you can examine if you are comfortable with C++).\nThe input syntax is fairly simple, it s usually:\nparams.addParam<type>(\"name_param\", default_value, \"documentation string\");\n\nthis translates to:\n[system of the object]\n  [name for the object]\n    type = <type of the object>\n    name_param = some user selected value\n\npretty much the same way for every parameter",
                  "url": "https://github.com/idaholab/moose/discussions/28579#discussioncomment-10596135",
                  "updatedAt": "2024-09-10T00:07:22Z",
                  "publishedAt": "2024-09-09T22:48:14Z",
                  "isAnswer": false,
                  "replies": {
                    "edges": [
                      {
                        "node": {
                          "author": {
                            "login": "Yulongggggg"
                          },
                          "bodyText": "good question!",
                          "url": "https://github.com/idaholab/moose/discussions/28579#discussioncomment-10596409",
                          "updatedAt": "2024-09-09T23:56:02Z",
                          "publishedAt": "2024-09-09T23:56:01Z",
                          "isAnswer": false
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}